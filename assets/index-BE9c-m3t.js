function o4(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(i,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function M1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fS={exports:{}},_g={};var HA;function l4(){if(HA)return _g;HA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:a}}return _g.Fragment=e,_g.jsx=t,_g.jsxs=t,_g}var jA;function c4(){return jA||(jA=1,fS.exports=l4()),fS.exports}var C=c4(),dS={exports:{}},Sg={},hS={exports:{}},pS={};var GA;function u4(){return GA||(GA=1,(function(n){function e(X,Z){var Q=X.length;X.push(Z);e:for(;0<Q;){var ye=Q-1>>>1,Se=X[ye];if(0<s(Se,Z))X[ye]=Z,X[Q]=Se,Q=ye;else break e}}function t(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var Z=X[0],Q=X.pop();if(Q!==Z){X[0]=Q;e:for(var ye=0,Se=X.length,q=Se>>>1;ye<q;){var ue=2*(ye+1)-1,fe=X[ue],Te=ue+1,Ve=X[Te];if(0>s(fe,Q))Te<Se&&0>s(Ve,fe)?(X[ye]=Ve,X[Te]=Q,ye=Te):(X[ye]=fe,X[ue]=Q,ye=ue);else if(Te<Se&&0>s(Ve,Q))X[ye]=Ve,X[Te]=Q,ye=Te;else break e}}return Z}function s(X,Z){var Q=X.sortIndex-Z.sortIndex;return Q!==0?Q:X.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],p=[],g=1,m=null,x=3,b=!1,w=!1,A=!1,T=!1,M=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function I(X){for(var Z=t(p);Z!==null;){if(Z.callback===null)i(p);else if(Z.startTime<=X)i(p),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=t(p)}}function O(X){if(A=!1,I(X),!w)if(t(h)!==null)w=!0,F||(F=!0,se());else{var Z=t(p);Z!==null&&ae(O,Z.startTime-X)}}var F=!1,B=-1,H=5,z=-1;function k(){return T?!0:!(n.unstable_now()-z<H)}function $(){if(T=!1,F){var X=n.unstable_now();z=X;var Z=!0;try{e:{w=!1,A&&(A=!1,N(B),B=-1),b=!0;var Q=x;try{t:{for(I(X),m=t(h);m!==null&&!(m.expirationTime>X&&k());){var ye=m.callback;if(typeof ye=="function"){m.callback=null,x=m.priorityLevel;var Se=ye(m.expirationTime<=X);if(X=n.unstable_now(),typeof Se=="function"){m.callback=Se,I(X),Z=!0;break t}m===t(h)&&i(h),I(X)}else i(h);m=t(h)}if(m!==null)Z=!0;else{var q=t(p);q!==null&&ae(O,q.startTime-X),Z=!1}}break e}finally{m=null,x=Q,b=!1}Z=void 0}}finally{Z?se():F=!1}}}var se;if(typeof D=="function")se=function(){D($)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ne=ee.port2;ee.port1.onmessage=$,se=function(){ne.postMessage(null)}}else se=function(){M($,0)};function ae(X,Z){B=M(function(){X(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(X){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var Q=x;x=Z;try{return X()}finally{x=Q}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(X,Z){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Q=x;x=X;try{return Z()}finally{x=Q}},n.unstable_scheduleCallback=function(X,Z,Q){var ye=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ye+Q:ye):Q=ye,X){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=Q+Se,X={id:g++,callback:Z,priorityLevel:X,startTime:Q,expirationTime:Se,sortIndex:-1},Q>ye?(X.sortIndex=Q,e(p,X),t(h)===null&&X===t(p)&&(A?(N(B),B=-1):A=!0,ae(O,Q-ye))):(X.sortIndex=Se,e(h,X),w||b||(w=!0,F||(F=!0,se()))),X},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(X){var Z=x;return function(){var Q=x;x=Z;try{return X.apply(this,arguments)}finally{x=Q}}}})(pS)),pS}var WA;function oD(){return WA||(WA=1,hS.exports=u4()),hS.exports}var mS={exports:{}},sn={};var XA;function f4(){if(XA)return sn;XA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),x=Symbol.iterator;function b(q){return q===null||typeof q!="object"?null:(q=x&&q[x]||q["@@iterator"],typeof q=="function"?q:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,T={};function M(q,ue,fe){this.props=q,this.context=ue,this.refs=T,this.updater=fe||w}M.prototype.isReactComponent={},M.prototype.setState=function(q,ue){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ue,"setState")},M.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function N(){}N.prototype=M.prototype;function D(q,ue,fe){this.props=q,this.context=ue,this.refs=T,this.updater=fe||w}var I=D.prototype=new N;I.constructor=D,A(I,M.prototype),I.isPureReactComponent=!0;var O=Array.isArray;function F(){}var B={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function z(q,ue,fe){var Te=fe.ref;return{$$typeof:n,type:q,key:ue,ref:Te!==void 0?Te:null,props:fe}}function k(q,ue){return z(q.type,ue,q.props)}function $(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function se(q){var ue={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(fe){return ue[fe]})}var ee=/\/+/g;function ne(q,ue){return typeof q=="object"&&q!==null&&q.key!=null?se(""+q.key):ue.toString(36)}function ae(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(F,F):(q.status="pending",q.then(function(ue){q.status==="pending"&&(q.status="fulfilled",q.value=ue)},function(ue){q.status==="pending"&&(q.status="rejected",q.reason=ue)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function X(q,ue,fe,Te,Ve){var he=typeof q;(he==="undefined"||he==="boolean")&&(q=null);var ve=!1;if(q===null)ve=!0;else switch(he){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(q.$$typeof){case n:case e:ve=!0;break;case g:return ve=q._init,X(ve(q._payload),ue,fe,Te,Ve)}}if(ve)return Ve=Ve(q),ve=Te===""?"."+ne(q,0):Te,O(Ve)?(fe="",ve!=null&&(fe=ve.replace(ee,"$&/")+"/"),X(Ve,ue,fe,"",function(rt){return rt})):Ve!=null&&($(Ve)&&(Ve=k(Ve,fe+(Ve.key==null||q&&q.key===Ve.key?"":(""+Ve.key).replace(ee,"$&/")+"/")+ve)),ue.push(Ve)),1;ve=0;var Fe=Te===""?".":Te+":";if(O(q))for(var Ze=0;Ze<q.length;Ze++)Te=q[Ze],he=Fe+ne(Te,Ze),ve+=X(Te,ue,fe,he,Ve);else if(Ze=b(q),typeof Ze=="function")for(q=Ze.call(q),Ze=0;!(Te=q.next()).done;)Te=Te.value,he=Fe+ne(Te,Ze++),ve+=X(Te,ue,fe,he,Ve);else if(he==="object"){if(typeof q.then=="function")return X(ae(q),ue,fe,Te,Ve);throw ue=String(q),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Z(q,ue,fe){if(q==null)return q;var Te=[],Ve=0;return X(q,Te,"","",function(he){return ue.call(fe,he,Ve++)}),Te}function Q(q){if(q._status===-1){var ue=q._result;ue=ue(),ue.then(function(fe){(q._status===0||q._status===-1)&&(q._status=1,q._result=fe)},function(fe){(q._status===0||q._status===-1)&&(q._status=2,q._result=fe)}),q._status===-1&&(q._status=0,q._result=ue)}if(q._status===1)return q._result.default;throw q._result}var ye=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Se={map:Z,forEach:function(q,ue,fe){Z(q,function(){ue.apply(this,arguments)},fe)},count:function(q){var ue=0;return Z(q,function(){ue++}),ue},toArray:function(q){return Z(q,function(ue){return ue})||[]},only:function(q){if(!$(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return sn.Activity=m,sn.Children=Se,sn.Component=M,sn.Fragment=t,sn.Profiler=s,sn.PureComponent=D,sn.StrictMode=i,sn.Suspense=h,sn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,sn.__COMPILER_RUNTIME={__proto__:null,c:function(q){return B.H.useMemoCache(q)}},sn.cache=function(q){return function(){return q.apply(null,arguments)}},sn.cacheSignal=function(){return null},sn.cloneElement=function(q,ue,fe){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Te=A({},q.props),Ve=q.key;if(ue!=null)for(he in ue.key!==void 0&&(Ve=""+ue.key),ue)!H.call(ue,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&ue.ref===void 0||(Te[he]=ue[he]);var he=arguments.length-2;if(he===1)Te.children=fe;else if(1<he){for(var ve=Array(he),Fe=0;Fe<he;Fe++)ve[Fe]=arguments[Fe+2];Te.children=ve}return z(q.type,Ve,Te)},sn.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:a,_context:q},q},sn.createElement=function(q,ue,fe){var Te,Ve={},he=null;if(ue!=null)for(Te in ue.key!==void 0&&(he=""+ue.key),ue)H.call(ue,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(Ve[Te]=ue[Te]);var ve=arguments.length-2;if(ve===1)Ve.children=fe;else if(1<ve){for(var Fe=Array(ve),Ze=0;Ze<ve;Ze++)Fe[Ze]=arguments[Ze+2];Ve.children=Fe}if(q&&q.defaultProps)for(Te in ve=q.defaultProps,ve)Ve[Te]===void 0&&(Ve[Te]=ve[Te]);return z(q,he,Ve)},sn.createRef=function(){return{current:null}},sn.forwardRef=function(q){return{$$typeof:u,render:q}},sn.isValidElement=$,sn.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:Q}},sn.memo=function(q,ue){return{$$typeof:p,type:q,compare:ue===void 0?null:ue}},sn.startTransition=function(q){var ue=B.T,fe={};B.T=fe;try{var Te=q(),Ve=B.S;Ve!==null&&Ve(fe,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(F,ye)}catch(he){ye(he)}finally{ue!==null&&fe.types!==null&&(ue.types=fe.types),B.T=ue}},sn.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},sn.use=function(q){return B.H.use(q)},sn.useActionState=function(q,ue,fe){return B.H.useActionState(q,ue,fe)},sn.useCallback=function(q,ue){return B.H.useCallback(q,ue)},sn.useContext=function(q){return B.H.useContext(q)},sn.useDebugValue=function(){},sn.useDeferredValue=function(q,ue){return B.H.useDeferredValue(q,ue)},sn.useEffect=function(q,ue){return B.H.useEffect(q,ue)},sn.useEffectEvent=function(q){return B.H.useEffectEvent(q)},sn.useId=function(){return B.H.useId()},sn.useImperativeHandle=function(q,ue,fe){return B.H.useImperativeHandle(q,ue,fe)},sn.useInsertionEffect=function(q,ue){return B.H.useInsertionEffect(q,ue)},sn.useLayoutEffect=function(q,ue){return B.H.useLayoutEffect(q,ue)},sn.useMemo=function(q,ue){return B.H.useMemo(q,ue)},sn.useOptimistic=function(q,ue){return B.H.useOptimistic(q,ue)},sn.useReducer=function(q,ue,fe){return B.H.useReducer(q,ue,fe)},sn.useRef=function(q){return B.H.useRef(q)},sn.useState=function(q){return B.H.useState(q)},sn.useSyncExternalStore=function(q,ue,fe){return B.H.useSyncExternalStore(q,ue,fe)},sn.useTransition=function(){return B.H.useTransition()},sn.version="19.2.3",sn}var qA;function z0(){return qA||(qA=1,mS.exports=f4()),mS.exports}var gS={exports:{}},Zs={};var YA;function d4(){if(YA)return Zs;YA=1;var n=z0();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,p,g){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:h,containerInfo:p,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Zs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Zs.createPortal=function(h,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return a(h,p,null,g)},Zs.flushSync=function(h){var p=l.T,g=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=p,i.p=g,i.d.f()}},Zs.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(h,p))},Zs.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Zs.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var g=p.as,m=u(g,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?i.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:b}):g==="script"&&i.d.X(h,{crossOrigin:m,integrity:x,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Zs.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=u(p.as,p.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(h)},Zs.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,m=u(g,p.crossOrigin);i.d.L(h,g,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Zs.preloadModule=function(h,p){if(typeof h=="string")if(p){var g=u(p.as,p.crossOrigin);i.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(h)},Zs.requestFormReset=function(h){i.d.r(h)},Zs.unstable_batchedUpdates=function(h,p){return h(p)},Zs.useFormState=function(h,p,g){return l.H.useFormState(h,p,g)},Zs.useFormStatus=function(){return l.H.useHostTransitionStatus()},Zs.version="19.2.3",Zs}var $A;function lD(){if($A)return gS.exports;$A=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gS.exports=d4(),gS.exports}var ZA;function h4(){if(ZA)return Sg;ZA=1;var n=oD(),e=z0(),t=lD();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,d=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(d=o.return),r=o.return;while(r)}return o.tag===3?d:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function u(r){if(r.tag===31){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function h(r){if(a(r)!==r)throw Error(i(188))}function p(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var d=r,y=o;;){var S=d.return;if(S===null)break;var E=S.alternate;if(E===null){if(y=S.return,y!==null){d=y;continue}break}if(S.child===E.child){for(E=S.child;E;){if(E===d)return h(S),r;if(E===y)return h(S),o;E=E.sibling}throw Error(i(188))}if(d.return!==y.return)d=S,y=E;else{for(var U=!1,W=S.child;W;){if(W===d){U=!0,d=S,y=E;break}if(W===y){U=!0,y=S,d=E;break}W=W.sibling}if(!U){for(W=E.child;W;){if(W===d){U=!0,d=E,y=S;break}if(W===y){U=!0,y=E,d=S;break}W=W.sibling}if(!U)throw Error(i(189))}}if(d.alternate!==y)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?r:o}function g(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=g(r),o!==null)return o;r=r.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),D=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function se(r){return r===null||typeof r!="object"?null:(r=$&&r[$]||r["@@iterator"],typeof r=="function"?r:null)}var ee=Symbol.for("react.client.reference");function ne(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ee?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case M:return"Profiler";case T:return"StrictMode";case O:return"Suspense";case F:return"SuspenseList";case z:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case w:return"Portal";case D:return r.displayName||"Context";case N:return(r._context.displayName||"Context")+".Consumer";case I:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case B:return o=r.displayName||null,o!==null?o:ne(r.type)||"Memo";case H:o=r._payload,r=r._init;try{return ne(r(o))}catch{}}return null}var ae=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ye=[],Se=-1;function q(r){return{current:r}}function ue(r){0>Se||(r.current=ye[Se],ye[Se]=null,Se--)}function fe(r,o){Se++,ye[Se]=r.current,r.current=o}var Te=q(null),Ve=q(null),he=q(null),ve=q(null);function Fe(r,o){switch(fe(he,o),fe(Ve,r),fe(Te,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?fA(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=fA(o),r=dA(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ue(Te),fe(Te,r)}function Ze(){ue(Te),ue(Ve),ue(he)}function rt(r){r.memoizedState!==null&&fe(ve,r);var o=Te.current,d=dA(o,r.type);o!==d&&(fe(Ve,r),fe(Te,d))}function kt(r){Ve.current===r&&(ue(Te),ue(Ve)),ve.current===r&&(ue(ve),yg._currentValue=Q)}var Vt,Pt;function Le(r){if(Vt===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);Vt=o&&o[1]||"",Pt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vt+r+Pt}var qe=!1;function Oe(r,o){if(!r||qe)return"";qe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(o){var Be=function(){throw Error()};if(Object.defineProperty(Be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Be,[])}catch(Pe){var Ee=Pe}Reflect.construct(r,[],Be)}else{try{Be.call()}catch(Pe){Ee=Pe}r.call(Be.prototype)}}else{try{throw Error()}catch(Pe){Ee=Pe}(Be=r())&&typeof Be.catch=="function"&&Be.catch(function(){})}}catch(Pe){if(Pe&&Ee&&typeof Pe.stack=="string")return[Pe.stack,Ee.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=y.DetermineComponentFrameRoot(),U=E[0],W=E[1];if(U&&W){var ie=U.split(`
`),_e=W.split(`
`);for(S=y=0;y<ie.length&&!ie[y].includes("DetermineComponentFrameRoot");)y++;for(;S<_e.length&&!_e[S].includes("DetermineComponentFrameRoot");)S++;if(y===ie.length||S===_e.length)for(y=ie.length-1,S=_e.length-1;1<=y&&0<=S&&ie[y]!==_e[S];)S--;for(;1<=y&&0<=S;y--,S--)if(ie[y]!==_e[S]){if(y!==1||S!==1)do if(y--,S--,0>S||ie[y]!==_e[S]){var Ie=`
`+ie[y].replace(" at new "," at ");return r.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",r.displayName)),Ie}while(1<=y&&0<=S);break}}}finally{qe=!1,Error.prepareStackTrace=d}return(d=r?r.displayName||r.name:"")?Le(d):""}function et(r,o){switch(r.tag){case 26:case 27:case 5:return Le(r.type);case 16:return Le("Lazy");case 13:return r.child!==o&&o!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return Oe(r.type,!1);case 11:return Oe(r.type.render,!1);case 1:return Oe(r.type,!0);case 31:return Le("Activity");default:return""}}function J(r){try{var o="",d=null;do o+=et(r,d),d=r,r=r.return;while(r);return o}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var xt=Object.prototype.hasOwnProperty,ot=n.unstable_scheduleCallback,Nt=n.unstable_cancelCallback,He=n.unstable_shouldYield,Y=n.unstable_requestPaint,V=n.unstable_now,ce=n.unstable_getCurrentPriorityLevel,Ce=n.unstable_ImmediatePriority,Ue=n.unstable_UserBlockingPriority,Ne=n.unstable_NormalPriority,ft=n.unstable_LowPriority,Ke=n.unstable_IdlePriority,bt=n.log,Dt=n.unstable_setDisableYieldValue,Xe=null,Je=null;function pt(r){if(typeof bt=="function"&&Dt(r),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(Xe,r)}catch{}}var dt=Math.clz32?Math.clz32:oe,at=Math.log,Kt=Math.LN2;function oe(r){return r>>>=0,r===0?32:31-(at(r)/Kt|0)|0}var lt=256,Qe=262144,ct=4194304;function je(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function xe(r,o,d){var y=r.pendingLanes;if(y===0)return 0;var S=0,E=r.suspendedLanes,U=r.pingedLanes;r=r.warmLanes;var W=y&134217727;return W!==0?(y=W&~E,y!==0?S=je(y):(U&=W,U!==0?S=je(U):d||(d=W&~r,d!==0&&(S=je(d))))):(W=y&~E,W!==0?S=je(W):U!==0?S=je(U):d||(d=y&~r,d!==0&&(S=je(d)))),S===0?0:o!==0&&o!==S&&(o&E)===0&&(E=S&-S,d=o&-o,E>=d||E===32&&(d&4194048)!==0)?o:S}function Ge(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function wt(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gt(){var r=ct;return ct<<=1,(ct&62914560)===0&&(ct=4194304),r}function fn(r){for(var o=[],d=0;31>d;d++)o.push(r);return o}function wn(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Yn(r,o,d,y,S,E){var U=r.pendingLanes;r.pendingLanes=d,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=d,r.entangledLanes&=d,r.errorRecoveryDisabledLanes&=d,r.shellSuspendCounter=0;var W=r.entanglements,ie=r.expirationTimes,_e=r.hiddenUpdates;for(d=U&~d;0<d;){var Ie=31-dt(d),Be=1<<Ie;W[Ie]=0,ie[Ie]=-1;var Ee=_e[Ie];if(Ee!==null)for(_e[Ie]=null,Ie=0;Ie<Ee.length;Ie++){var Pe=Ee[Ie];Pe!==null&&(Pe.lane&=-536870913)}d&=~Be}y!==0&&sr(r,y,0),E!==0&&S===0&&r.tag!==0&&(r.suspendedLanes|=E&~(U&~o))}function sr(r,o,d){r.pendingLanes|=o,r.suspendedLanes&=~o;var y=31-dt(o);r.entangledLanes|=o,r.entanglements[y]=r.entanglements[y]|1073741824|d&261930}function Di(r,o){var d=r.entangledLanes|=o;for(r=r.entanglements;d;){var y=31-dt(d),S=1<<y;S&o|r[y]&o&&(r[y]|=o),d&=~S}}function Vi(r,o){var d=o&-o;return d=(d&42)!==0?1:ra(d),(d&(r.suspendedLanes|o))!==0?0:d}function ra(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ls(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ko(){var r=Z.p;return r!==0?r:(r=window.event,r===void 0?32:OA(r.type))}function xs(r,o){var d=Z.p;try{return Z.p=r,o()}finally{Z.p=d}}var rr=Math.random().toString(36).slice(2),li="__reactFiber$"+rr,Hi="__reactProps$"+rr,ar="__reactContainer$"+rr,or="__reactEvents$"+rr,lr="__reactListeners$"+rr,Vo="__reactHandles$"+rr,zl="__reactResources$"+rr,aa="__reactMarker$"+rr;function eo(r){delete r[li],delete r[Hi],delete r[or],delete r[lr],delete r[Vo]}function to(r){var o=r[li];if(o)return o;for(var d=r.parentNode;d;){if(o=d[ar]||d[li]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(r=xA(r);r!==null;){if(d=r[li])return d;r=xA(r)}return o}r=d,d=r.parentNode}return null}function no(r){if(r=r[li]||r[ar]){var o=r.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return r}return null}function Ho(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function Sa(r){var o=r[zl];return o||(o=r[zl]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function G(r){r[aa]=!0}var de=new Set,Ae={};function we(r,o){me(r,o),me(r+"Capture",o)}function me(r,o){for(Ae[r]=o,r=0;r<o.length;r++)de.add(o[r])}var tt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gt={},$e={};function _t(r){return xt.call($e,r)?!0:xt.call(gt,r)?!1:tt.test(r)?$e[r]=!0:(gt[r]=!0,!1)}function Mt(r,o,d){if(_t(o))if(d===null)r.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var y=o.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+d)}}function Ut(r,o,d){if(d===null)r.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+d)}}function Et(r,o,d,y){if(y===null)r.removeAttribute(d);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(d);return}r.setAttributeNS(o,d,""+y)}}function Ht(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Dn(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function $n(r,o,d){var y=Object.getOwnPropertyDescriptor(r.constructor.prototype,o);if(!r.hasOwnProperty(o)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var S=y.get,E=y.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return S.call(this)},set:function(U){d=""+U,E.call(this,U)}}),Object.defineProperty(r,o,{enumerable:y.enumerable}),{getValue:function(){return d},setValue:function(U){d=""+U},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function jn(r){if(!r._valueTracker){var o=Dn(r)?"checked":"value";r._valueTracker=$n(r,o,""+r[o])}}function Qt(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var d=o.getValue(),y="";return r&&(y=Dn(r)?r.checked?"true":"false":r.value),r=y,r!==d?(o.setValue(r),!0):!1}function ut(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var En=/[\n"\\]/g;function Wt(r){return r.replace(En,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Pi(r,o,d,y,S,E,U,W){r.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?r.type=U:r.removeAttribute("type"),o!=null?U==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+Ht(o)):r.value!==""+Ht(o)&&(r.value=""+Ht(o)):U!=="submit"&&U!=="reset"||r.removeAttribute("value"),o!=null?ti(r,U,Ht(o)):d!=null?ti(r,U,Ht(d)):y!=null&&r.removeAttribute("value"),S==null&&E!=null&&(r.defaultChecked=!!E),S!=null&&(r.checked=S&&typeof S!="function"&&typeof S!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?r.name=""+Ht(W):r.removeAttribute("name")}function oa(r,o,d,y,S,E,U,W){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.type=E),o!=null||d!=null){if(!(E!=="submit"&&E!=="reset"||o!=null)){jn(r);return}d=d!=null?""+Ht(d):"",o=o!=null?""+Ht(o):d,W||o===r.value||(r.value=o),r.defaultValue=o}y=y??S,y=typeof y!="function"&&typeof y!="symbol"&&!!y,r.checked=W?r.checked:!!y,r.defaultChecked=!!y,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(r.name=U),jn(r)}function ti(r,o,d){o==="number"&&ut(r.ownerDocument)===r||r.defaultValue===""+d||(r.defaultValue=""+d)}function Cs(r,o,d,y){if(r=r.options,o){o={};for(var S=0;S<d.length;S++)o["$"+d[S]]=!0;for(d=0;d<r.length;d++)S=o.hasOwnProperty("$"+r[d].value),r[d].selected!==S&&(r[d].selected=S),S&&y&&(r[d].defaultSelected=!0)}else{for(d=""+Ht(d),o=null,S=0;S<r.length;S++){if(r[S].value===d){r[S].selected=!0,y&&(r[S].defaultSelected=!0);return}o!==null||r[S].disabled||(o=r[S])}o!==null&&(o.selected=!0)}}function On(r,o,d){if(o!=null&&(o=""+Ht(o),o!==r.value&&(r.value=o),d==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=d!=null?""+Ht(d):""}function ji(r,o,d,y){if(o==null){if(y!=null){if(d!=null)throw Error(i(92));if(ae(y)){if(1<y.length)throw Error(i(93));y=y[0]}d=y}d==null&&(d=""),o=d}d=Ht(o),r.defaultValue=d,y=r.textContent,y===d&&y!==""&&y!==null&&(r.value=y),jn(r)}function Ii(r,o){if(o){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=o;return}}r.textContent=o}var Ki=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qi(r,o,d){var y=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?y?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":y?r.setProperty(o,d):typeof d!="number"||d===0||Ki.has(o)?o==="float"?r.cssFloat=d:r[o]=(""+d).trim():r[o]=d+"px"}function Fl(r,o,d){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,d!=null){for(var y in d)!d.hasOwnProperty(y)||o!=null&&o.hasOwnProperty(y)||(y.indexOf("--")===0?r.setProperty(y,""):y==="float"?r.cssFloat="":r[y]="");for(var S in o)y=o[S],o.hasOwnProperty(S)&&d[S]!==y&&Qi(r,S,y)}else for(var E in o)o.hasOwnProperty(E)&&Qi(r,E,o[E])}function Cr(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qu(r){return Kp.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function io(){}var Md=null;function Td(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Bl=null,jo=null;function Qp(r){var o=no(r);if(o&&(r=o.stateNode)){var d=r[Hi]||null;e:switch(r=o.stateNode,o.type){case"input":if(Pi(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Wt(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var y=d[o];if(y!==r&&y.form===r.form){var S=y[Hi]||null;if(!S)throw Error(i(90));Pi(y,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(o=0;o<d.length;o++)y=d[o],y.form===r.form&&Qt(y)}break e;case"textarea":On(r,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&Cs(r,!!d.multiple,o,!1)}}}var Ed=!1;function Jp(r,o,d){if(Ed)return r(o,d);Ed=!0;try{var y=r(o);return y}finally{if(Ed=!1,(Bl!==null||jo!==null)&&(da(),Bl&&(o=Bl,r=jo,jo=Bl=null,Qp(o),r)))for(o=0;o<r.length;o++)Qp(r[o])}}function Ic(r,o){var d=r.stateNode;if(d===null)return null;var y=d[Hi]||null;if(y===null)return null;d=y[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(r=r.type,y=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!y;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(i(231,o,typeof d));return d}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),em=!1;if(wa)try{var Lc={};Object.defineProperty(Lc,"passive",{get:function(){em=!0}}),window.addEventListener("test",Lc,Lc),window.removeEventListener("test",Lc,Lc)}catch{em=!1}var cr=null,Ad=null,kl=null;function Ju(){if(kl)return kl;var r,o=Ad,d=o.length,y,S="value"in cr?cr.value:cr.textContent,E=S.length;for(r=0;r<d&&o[r]===S[r];r++);var U=d-r;for(y=1;y<=U&&o[d-y]===S[E-y];y++);return kl=S.slice(r,1<y?1-y:void 0)}function ef(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Oc(){return!0}function ry(){return!1}function Rs(r){function o(d,y,S,E,U){this._reactName=d,this._targetInst=S,this.type=y,this.nativeEvent=E,this.target=U,this.currentTarget=null;for(var W in r)r.hasOwnProperty(W)&&(d=r[W],this[W]=d?d(E):E[W]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Oc:ry,this.isPropagationStopped=ry,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Oc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Oc)},persist:function(){},isPersistent:Oc}),o}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tf=Rs(Go),Uc=m({},Go,{view:0,detail:0}),ay=Rs(Uc),nf,Cd,zc,Fc=m({},Uc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pd,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==zc&&(zc&&r.type==="mousemove"?(nf=r.screenX-zc.screenX,Cd=r.screenY-zc.screenY):Cd=nf=0,zc=r),nf)},movementY:function(r){return"movementY"in r?r.movementY:Cd}}),tm=Rs(Fc),oy=m({},Fc,{dataTransfer:0}),ly=Rs(oy),nm=m({},Uc,{relatedTarget:0}),Rd=Rs(nm),cy=m({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),D_=Rs(cy),P_=m({},Go,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),uy=Rs(P_),sf=m({},Go,{data:0}),Nd=Rs(sf),Dd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function im(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=dy[r])?!!o[r]:!1}function Pd(){return im}var hy=m({},Uc,{key:function(r){if(r.key){var o=Dd[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=ef(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?fy[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pd,charCode:function(r){return r.type==="keypress"?ef(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ef(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Vl=Rs(hy),Id=m({},Fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sm=Rs(Id),rm=m({},Uc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pd}),py=Rs(rm),my=m({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),I_=Rs(my),cs=m({},Fc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),gy=Rs(cs),yy=m({},Go,{newState:0,oldState:0}),vy=Rs(yy),xy=[9,13,27,32],Hl=wa&&"CompositionEvent"in window,Bc=null;wa&&"documentMode"in document&&(Bc=document.documentMode);var Ld=wa&&"TextEvent"in window&&!Bc,am=wa&&(!Hl||Bc&&8<Bc&&11>=Bc),by=" ",rf=!1;function Od(r,o){switch(r){case"keyup":return xy.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function om(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var jl=!1;function _y(r,o){switch(r){case"compositionend":return om(o);case"keypress":return o.which!==32?null:(rf=!0,by);case"textInput":return r=o.data,r===by&&rf?null:r;default:return null}}function lm(r,o){if(jl)return r==="compositionend"||!Hl&&Od(r,o)?(r=Ju(),kl=Ad=cr=null,jl=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return am&&o.locale!=="ko"?null:o.data;default:return null}}var cm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function um(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!cm[r.type]:o==="textarea"}function Ud(r,o,d,y){Bl?jo?jo.push(y):jo=[y]:Bl=y,o=Ev(o,"onChange"),0<o.length&&(d=new tf("onChange","change",null,d,y),r.push({event:d,listeners:o}))}var Wo=null,Gl=null;function Sy(r){rA(r,0)}function kc(r){var o=Ho(r);if(Qt(o))return r}function fm(r,o){if(r==="change")return o}var Ma=!1;if(wa){var af;if(wa){var dm="oninput"in document;if(!dm){var hm=document.createElement("div");hm.setAttribute("oninput","return;"),dm=typeof hm.oninput=="function"}af=dm}else af=!1;Ma=af&&(!document.documentMode||9<document.documentMode)}function Rr(){Wo&&(Wo.detachEvent("onpropertychange",of),Gl=Wo=null)}function of(r){if(r.propertyName==="value"&&kc(Gl)){var o=[];Ud(o,Gl,r,Td(r)),Jp(Sy,o)}}function wy(r,o,d){r==="focusin"?(Rr(),Wo=o,Gl=d,Wo.attachEvent("onpropertychange",of)):r==="focusout"&&Rr()}function pm(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return kc(Gl)}function My(r,o){if(r==="click")return kc(o)}function Ty(r,o){if(r==="input"||r==="change")return kc(o)}function mm(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Ns=typeof Object.is=="function"?Object.is:mm;function Vc(r,o){if(Ns(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var d=Object.keys(r),y=Object.keys(o);if(d.length!==y.length)return!1;for(y=0;y<d.length;y++){var S=d[y];if(!xt.call(o,S)||!Ns(r[S],o[S]))return!1}return!0}function lf(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Hc(r,o){var d=lf(r);r=0;for(var y;d;){if(d.nodeType===3){if(y=r+d.textContent.length,r<=o&&y>=o)return{node:d,offset:o-r};r=y}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=lf(d)}}function Zn(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Zn(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Ey(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=ut(r.document);o instanceof r.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)r=o.contentWindow;else break;o=ut(r.document)}return o}function gm(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var Ay=wa&&"documentMode"in document&&11>=document.documentMode,Ta=null,Ea=null,jc=null,zd=!1;function Gc(r,o,d){var y=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;zd||Ta==null||Ta!==ut(y)||(y=Ta,"selectionStart"in y&&gm(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),jc&&Vc(jc,y)||(jc=y,y=Ev(Ea,"onSelect"),0<y.length&&(o=new tf("onSelect","select",null,o,d),r.push({event:o,listeners:y}),o.target=Ta)))}function bs(r,o){var d={};return d[r.toLowerCase()]=o.toLowerCase(),d["Webkit"+r]="webkit"+o,d["Moz"+r]="moz"+o,d}var Wl={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},cf={},ym={};wa&&(ym=document.createElement("div").style,"AnimationEvent"in window||(delete Wl.animationend.animation,delete Wl.animationiteration.animation,delete Wl.animationstart.animation),"TransitionEvent"in window||delete Wl.transitionend.transition);function so(r){if(cf[r])return cf[r];if(!Wl[r])return r;var o=Wl[r],d;for(d in o)if(o.hasOwnProperty(d)&&d in ym)return cf[r]=o[d];return r}var Fd=so("animationend"),uf=so("animationiteration"),vm=so("animationstart"),Cy=so("transitionrun"),L_=so("transitionstart"),Ry=so("transitioncancel"),xm=so("transitionend"),Nr=new Map,ff="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ff.push("scrollEnd");function Dr(r,o){Nr.set(r,o),we(o,[r])}var df=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Pr=[],ro=0,Ji=0;function hf(){for(var r=ro,o=Ji=ro=0;o<r;){var d=Pr[o];Pr[o++]=null;var y=Pr[o];Pr[o++]=null;var S=Pr[o];Pr[o++]=null;var E=Pr[o];if(Pr[o++]=null,y!==null&&S!==null){var U=y.pending;U===null?S.next=S:(S.next=U.next,U.next=S),y.pending=S}E!==0&&Xo(d,S,E)}}function es(r,o,d,y){Pr[ro++]=r,Pr[ro++]=o,Pr[ro++]=d,Pr[ro++]=y,Ji|=y,r.lanes|=y,r=r.alternate,r!==null&&(r.lanes|=y)}function Bd(r,o,d,y){return es(r,o,d,y),Ir(r)}function Ds(r,o){return es(r,null,null,o),Ir(r)}function Xo(r,o,d){r.lanes|=d;var y=r.alternate;y!==null&&(y.lanes|=d);for(var S=!1,E=r.return;E!==null;)E.childLanes|=d,y=E.alternate,y!==null&&(y.childLanes|=d),E.tag===22&&(r=E.stateNode,r===null||r._visibility&1||(S=!0)),r=E,E=E.return;return r.tag===3?(E=r.stateNode,S&&o!==null&&(S=31-dt(d),r=E.hiddenUpdates,y=r[S],y===null?r[S]=[o]:y.push(o),o.lane=d|536870912),E):null}function Ir(r){if(50<fl)throw fl=0,uc=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var qo={};function bm(r,o,d,y){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(r,o,d,y){return new bm(r,o,d,y)}function kd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ks(r,o){var d=r.alternate;return d===null?(d=ci(r.tag,o,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=o,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&65011712,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,o=r.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d.refCleanup=r.refCleanup,d}function Wc(r,o){r.flags&=65011714;var d=r.alternate;return d===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,o=d.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Aa(r,o,d,y,S,E){var U=0;if(y=r,typeof r=="function")kd(r)&&(U=1);else if(typeof r=="string")U=$5(r,d,Te.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case z:return r=ci(31,d,o,S),r.elementType=z,r.lanes=E,r;case A:return Yo(d.children,S,E,o);case T:U=8,S|=24;break;case M:return r=ci(12,d,o,S|2),r.elementType=M,r.lanes=E,r;case O:return r=ci(13,d,o,S),r.elementType=O,r.lanes=E,r;case F:return r=ci(19,d,o,S),r.elementType=F,r.lanes=E,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:U=10;break e;case N:U=9;break e;case I:U=11;break e;case B:U=14;break e;case H:U=16,y=null;break e}U=29,d=Error(i(130,r===null?"null":typeof r,"")),y=null}return o=ci(U,d,o,S),o.elementType=r,o.type=y,o.lanes=E,o}function Yo(r,o,d,y){return r=ci(7,r,y,o),r.lanes=d,r}function Vd(r,o,d){return r=ci(6,r,null,o),r.lanes=d,r}function Xc(r){var o=ci(18,null,null,0);return o.stateNode=r,o}function Hd(r,o,d){return o=ci(4,r.children!==null?r.children:[],r.key,o),o.lanes=d,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var pf=new WeakMap;function ur(r,o){if(typeof r=="object"&&r!==null){var d=pf.get(r);return d!==void 0?d:(o={value:r,source:o,stack:J(o)},pf.set(r,o),o)}return{value:r,source:o,stack:J(o)}}var $o=[],Zo=0,qc=null,Yc=0,Vs=[],si=0,ao=null,ui=1,la="";function Ca(r,o){$o[Zo++]=Yc,$o[Zo++]=qc,qc=r,Yc=o}function Ny(r,o,d){Vs[si++]=ui,Vs[si++]=la,Vs[si++]=ao,ao=r;var y=ui;r=la;var S=32-dt(y)-1;y&=~(1<<S),d+=1;var E=32-dt(o)+S;if(30<E){var U=S-S%5;E=(y&(1<<U)-1).toString(32),y>>=U,S-=U,ui=1<<32-dt(o)+S|d<<S|y,la=E+r}else ui=1<<E|d<<S|y,la=r}function Ra(r){r.return!==null&&(Ca(r,1),Ny(r,1,0))}function jd(r){for(;r===qc;)qc=$o[--Zo],$o[Zo]=null,Yc=$o[--Zo],$o[Zo]=null;for(;r===ao;)ao=Vs[--si],Vs[si]=null,la=Vs[--si],Vs[si]=null,ui=Vs[--si],Vs[si]=null}function Gd(r,o){Vs[si++]=ui,Vs[si++]=la,Vs[si++]=ao,ui=o.id,la=o.overflow,ao=r}var yi=null,Kn=null,_n=!1,oo=null,fr=!1,$c=Error(i(519));function Na(r){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Da(ur(o,r)),$c}function Dy(r){var o=r.stateNode,d=r.type,y=r.memoizedProps;switch(o[li]=r,o[Hi]=y,d){case"dialog":Tn("cancel",o),Tn("close",o);break;case"iframe":case"object":case"embed":Tn("load",o);break;case"video":case"audio":for(d=0;d<Xr.length;d++)Tn(Xr[d],o);break;case"source":Tn("error",o);break;case"img":case"image":case"link":Tn("error",o),Tn("load",o);break;case"details":Tn("toggle",o);break;case"input":Tn("invalid",o),oa(o,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":Tn("invalid",o);break;case"textarea":Tn("invalid",o),ji(o,y.value,y.defaultValue,y.children)}d=y.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||y.suppressHydrationWarning===!0||cA(o.textContent,d)?(y.popover!=null&&(Tn("beforetoggle",o),Tn("toggle",o)),y.onScroll!=null&&Tn("scroll",o),y.onScrollEnd!=null&&Tn("scrollend",o),y.onClick!=null&&(o.onclick=io),o=!0):o=!1,o||Na(r,!0)}function Py(r){for(yi=r.return;yi;)switch(yi.tag){case 5:case 31:case 13:fr=!1;return;case 27:case 3:fr=!0;return;default:yi=yi.return}}function Zc(r){if(r!==yi)return!1;if(!_n)return Py(r),_n=!0,!1;var o=r.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=r.type,d=!(d!=="form"&&d!=="button")||Z_(r.type,r.memoizedProps)),d=!d),d&&Kn&&Na(r),Py(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Kn=vA(r)}else if(o===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Kn=vA(r)}else o===27?(o=Kn,gu(r.type)?(r=tS,tS=null,Kn=r):Kn=o):Kn=yi?Wa(r.stateNode.nextSibling):null;return!0}function Ko(){Kn=yi=null,_n=!1}function Wd(){var r=oo;return r!==null&&(xi===null?xi=r:xi.push.apply(xi,r),oo=null),r}function Da(r){oo===null?oo=[r]:oo.push(r)}var Kc=q(null),Qo=null,Pa=null;function lo(r,o,d){fe(Kc,o._currentValue),o._currentValue=d}function Ia(r){r._currentValue=Kc.current,ue(Kc)}function Xd(r,o,d){for(;r!==null;){var y=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,y!==null&&(y.childLanes|=o)):y!==null&&(y.childLanes&o)!==o&&(y.childLanes|=o),r===d)break;r=r.return}}function qd(r,o,d,y){var S=r.child;for(S!==null&&(S.return=r);S!==null;){var E=S.dependencies;if(E!==null){var U=S.child;E=E.firstContext;e:for(;E!==null;){var W=E;E=S;for(var ie=0;ie<o.length;ie++)if(W.context===o[ie]){E.lanes|=d,W=E.alternate,W!==null&&(W.lanes|=d),Xd(E.return,d,r),y||(U=null);break e}E=W.next}}else if(S.tag===18){if(U=S.return,U===null)throw Error(i(341));U.lanes|=d,E=U.alternate,E!==null&&(E.lanes|=d),Xd(U,d,r),U=null}else U=S.child;if(U!==null)U.return=S;else for(U=S;U!==null;){if(U===r){U=null;break}if(S=U.sibling,S!==null){S.return=U.return,U=S;break}U=U.return}S=U}}function La(r,o,d,y){r=null;for(var S=o,E=!1;S!==null;){if(!E){if((S.flags&524288)!==0)E=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var U=S.alternate;if(U===null)throw Error(i(387));if(U=U.memoizedProps,U!==null){var W=S.type;Ns(S.pendingProps.value,U.value)||(r!==null?r.push(W):r=[W])}}else if(S===ve.current){if(U=S.alternate,U===null)throw Error(i(387));U.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(r!==null?r.push(yg):r=[yg])}S=S.return}r!==null&&qd(o,r,d,y),o.flags|=262144}function mf(r){for(r=r.firstContext;r!==null;){if(!Ns(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Jo(r){Qo=r,Pa=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function qt(r){return Iy(Qo,r)}function Qc(r,o){return Qo===null&&Jo(r),Iy(r,o)}function Iy(r,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},Pa===null){if(r===null)throw Error(i(308));Pa=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Pa=Pa.next=o;return d}var Ly=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(d,y){r.push(y)}};this.abort=function(){o.aborted=!0,r.forEach(function(d){return d()})}},O_=n.unstable_scheduleCallback,U_=n.unstable_NormalPriority,Li={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _m(){return{controller:new Ly,data:new Map,refCount:0}}function Xl(r){r.refCount--,r.refCount===0&&O_(U_,function(){r.controller.abort()})}var dr=null,Yd=0,co=0,Lr=null;function Sm(r,o){if(dr===null){var d=dr=[];Yd=0,co=Re(),Lr={status:"pending",value:void 0,then:function(y){d.push(y)}}}return Yd++,o.then(wm,wm),o}function wm(){if(--Yd===0&&dr!==null){Lr!==null&&(Lr.status="fulfilled");var r=dr;dr=null,co=0,Lr=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function Mm(r,o){var d=[],y={status:"pending",value:null,reason:null,then:function(S){d.push(S)}};return r.then(function(){y.status="fulfilled",y.value=o;for(var S=0;S<d.length;S++)(0,d[S])(o)},function(S){for(y.status="rejected",y.reason=S,S=0;S<d.length;S++)(0,d[S])(void 0)}),y}var Oy=X.S;X.S=function(r,o){fg=V(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&Sm(r,o),Oy!==null&&Oy(r,o)};var el=q(null);function $d(){var r=el.current;return r!==null?r:Zt.pooledCache}function gf(r,o){o===null?fe(el,el.current):fe(el,o.pool)}function Tm(){var r=$d();return r===null?null:{parent:Li._currentValue,pool:r}}var ql=Error(i(460)),yf=Error(i(474)),on=Error(i(542)),Zd={then:function(){}};function Hs(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Kd(r,o,d){switch(d=r[d],d===void 0?r.push(o):d!==o&&(o.then(io,io),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Zl(r),r;default:if(typeof o.status=="string")o.then(io,io);else{if(r=Zt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(y){if(o.status==="pending"){var S=o;S.status="fulfilled",S.value=y}},function(y){if(o.status==="pending"){var S=o;S.status="rejected",S.reason=y}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Zl(r),r}throw Oa=o,ql}}function Yl(r){try{var o=r._init;return o(r._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Oa=d,ql):d}}var Oa=null;function $l(){if(Oa===null)throw Error(i(459));var r=Oa;return Oa=null,r}function Zl(r){if(r===ql||r===on)throw Error(i(483))}var Kl=null,Ql=0;function vf(r){var o=Ql;return Ql+=1,Kl===null&&(Kl=[]),Kd(Kl,r,o)}function Or(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Jc(r,o){throw o.$$typeof===x?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function Qd(r){function o(pe,le){if(r){var be=pe.deletions;be===null?(pe.deletions=[le],pe.flags|=16):be.push(le)}}function d(pe,le){if(!r)return null;for(;le!==null;)o(pe,le),le=le.sibling;return null}function y(pe){for(var le=new Map;pe!==null;)pe.key!==null?le.set(pe.key,pe):le.set(pe.index,pe),pe=pe.sibling;return le}function S(pe,le){return pe=ks(pe,le),pe.index=0,pe.sibling=null,pe}function E(pe,le,be){return pe.index=be,r?(be=pe.alternate,be!==null?(be=be.index,be<le?(pe.flags|=67108866,le):be):(pe.flags|=67108866,le)):(pe.flags|=1048576,le)}function U(pe){return r&&pe.alternate===null&&(pe.flags|=67108866),pe}function W(pe,le,be,ze){return le===null||le.tag!==6?(le=Vd(be,pe.mode,ze),le.return=pe,le):(le=S(le,be),le.return=pe,le)}function ie(pe,le,be,ze){var Ft=be.type;return Ft===A?Ie(pe,le,be.props.children,ze,be.key):le!==null&&(le.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===H&&Yl(Ft)===le.type)?(le=S(le,be.props),Or(le,be),le.return=pe,le):(le=Aa(be.type,be.key,be.props,null,pe.mode,ze),Or(le,be),le.return=pe,le)}function _e(pe,le,be,ze){return le===null||le.tag!==4||le.stateNode.containerInfo!==be.containerInfo||le.stateNode.implementation!==be.implementation?(le=Hd(be,pe.mode,ze),le.return=pe,le):(le=S(le,be.children||[]),le.return=pe,le)}function Ie(pe,le,be,ze,Ft){return le===null||le.tag!==7?(le=Yo(be,pe.mode,ze,Ft),le.return=pe,le):(le=S(le,be),le.return=pe,le)}function Be(pe,le,be){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return le=Vd(""+le,pe.mode,be),le.return=pe,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case b:return be=Aa(le.type,le.key,le.props,null,pe.mode,be),Or(be,le),be.return=pe,be;case w:return le=Hd(le,pe.mode,be),le.return=pe,le;case H:return le=Yl(le),Be(pe,le,be)}if(ae(le)||se(le))return le=Yo(le,pe.mode,be,null),le.return=pe,le;if(typeof le.then=="function")return Be(pe,vf(le),be);if(le.$$typeof===D)return Be(pe,Qc(pe,le),be);Jc(pe,le)}return null}function Ee(pe,le,be,ze){var Ft=le!==null?le.key:null;if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return Ft!==null?null:W(pe,le,""+be,ze);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case b:return be.key===Ft?ie(pe,le,be,ze):null;case w:return be.key===Ft?_e(pe,le,be,ze):null;case H:return be=Yl(be),Ee(pe,le,be,ze)}if(ae(be)||se(be))return Ft!==null?null:Ie(pe,le,be,ze,null);if(typeof be.then=="function")return Ee(pe,le,vf(be),ze);if(be.$$typeof===D)return Ee(pe,le,Qc(pe,be),ze);Jc(pe,be)}return null}function Pe(pe,le,be,ze,Ft){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return pe=pe.get(be)||null,W(le,pe,""+ze,Ft);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case b:return pe=pe.get(ze.key===null?be:ze.key)||null,ie(le,pe,ze,Ft);case w:return pe=pe.get(ze.key===null?be:ze.key)||null,_e(le,pe,ze,Ft);case H:return ze=Yl(ze),Pe(pe,le,be,ze,Ft)}if(ae(ze)||se(ze))return pe=pe.get(be)||null,Ie(le,pe,ze,Ft,null);if(typeof ze.then=="function")return Pe(pe,le,be,vf(ze),Ft);if(ze.$$typeof===D)return Pe(pe,le,be,Qc(le,ze),Ft);Jc(le,ze)}return null}function At(pe,le,be,ze){for(var Ft=null,zn=null,It=le,dn=le=0,Cn=null;It!==null&&dn<be.length;dn++){It.index>dn?(Cn=It,It=null):Cn=It.sibling;var Fn=Ee(pe,It,be[dn],ze);if(Fn===null){It===null&&(It=Cn);break}r&&It&&Fn.alternate===null&&o(pe,It),le=E(Fn,le,dn),zn===null?Ft=Fn:zn.sibling=Fn,zn=Fn,It=Cn}if(dn===be.length)return d(pe,It),_n&&Ca(pe,dn),Ft;if(It===null){for(;dn<be.length;dn++)It=Be(pe,be[dn],ze),It!==null&&(le=E(It,le,dn),zn===null?Ft=It:zn.sibling=It,zn=It);return _n&&Ca(pe,dn),Ft}for(It=y(It);dn<be.length;dn++)Cn=Pe(It,pe,dn,be[dn],ze),Cn!==null&&(r&&Cn.alternate!==null&&It.delete(Cn.key===null?dn:Cn.key),le=E(Cn,le,dn),zn===null?Ft=Cn:zn.sibling=Cn,zn=Cn);return r&&It.forEach(function(_u){return o(pe,_u)}),_n&&Ca(pe,dn),Ft}function Xt(pe,le,be,ze){if(be==null)throw Error(i(151));for(var Ft=null,zn=null,It=le,dn=le=0,Cn=null,Fn=be.next();It!==null&&!Fn.done;dn++,Fn=be.next()){It.index>dn?(Cn=It,It=null):Cn=It.sibling;var _u=Ee(pe,It,Fn.value,ze);if(_u===null){It===null&&(It=Cn);break}r&&It&&_u.alternate===null&&o(pe,It),le=E(_u,le,dn),zn===null?Ft=_u:zn.sibling=_u,zn=_u,It=Cn}if(Fn.done)return d(pe,It),_n&&Ca(pe,dn),Ft;if(It===null){for(;!Fn.done;dn++,Fn=be.next())Fn=Be(pe,Fn.value,ze),Fn!==null&&(le=E(Fn,le,dn),zn===null?Ft=Fn:zn.sibling=Fn,zn=Fn);return _n&&Ca(pe,dn),Ft}for(It=y(It);!Fn.done;dn++,Fn=be.next())Fn=Pe(It,pe,dn,Fn.value,ze),Fn!==null&&(r&&Fn.alternate!==null&&It.delete(Fn.key===null?dn:Fn.key),le=E(Fn,le,dn),zn===null?Ft=Fn:zn.sibling=Fn,zn=Fn);return r&&It.forEach(function(a4){return o(pe,a4)}),_n&&Ca(pe,dn),Ft}function ei(pe,le,be,ze){if(typeof be=="object"&&be!==null&&be.type===A&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case b:e:{for(var Ft=be.key;le!==null;){if(le.key===Ft){if(Ft=be.type,Ft===A){if(le.tag===7){d(pe,le.sibling),ze=S(le,be.props.children),ze.return=pe,pe=ze;break e}}else if(le.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===H&&Yl(Ft)===le.type){d(pe,le.sibling),ze=S(le,be.props),Or(ze,be),ze.return=pe,pe=ze;break e}d(pe,le);break}else o(pe,le);le=le.sibling}be.type===A?(ze=Yo(be.props.children,pe.mode,ze,be.key),ze.return=pe,pe=ze):(ze=Aa(be.type,be.key,be.props,null,pe.mode,ze),Or(ze,be),ze.return=pe,pe=ze)}return U(pe);case w:e:{for(Ft=be.key;le!==null;){if(le.key===Ft)if(le.tag===4&&le.stateNode.containerInfo===be.containerInfo&&le.stateNode.implementation===be.implementation){d(pe,le.sibling),ze=S(le,be.children||[]),ze.return=pe,pe=ze;break e}else{d(pe,le);break}else o(pe,le);le=le.sibling}ze=Hd(be,pe.mode,ze),ze.return=pe,pe=ze}return U(pe);case H:return be=Yl(be),ei(pe,le,be,ze)}if(ae(be))return At(pe,le,be,ze);if(se(be)){if(Ft=se(be),typeof Ft!="function")throw Error(i(150));return be=Ft.call(be),Xt(pe,le,be,ze)}if(typeof be.then=="function")return ei(pe,le,vf(be),ze);if(be.$$typeof===D)return ei(pe,le,Qc(pe,be),ze);Jc(pe,be)}return typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint"?(be=""+be,le!==null&&le.tag===6?(d(pe,le.sibling),ze=S(le,be),ze.return=pe,pe=ze):(d(pe,le),ze=Vd(be,pe.mode,ze),ze.return=pe,pe=ze),U(pe)):d(pe,le)}return function(pe,le,be,ze){try{Ql=0;var Ft=ei(pe,le,be,ze);return Kl=null,Ft}catch(It){if(It===ql||It===on)throw It;var zn=ci(29,It,null,pe.mode);return zn.lanes=ze,zn.return=pe,zn}}}var uo=Qd(!0),Jd=Qd(!1),Ps=!1;function xf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Em(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function fo(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function tl(r,o,d){var y=r.updateQueue;if(y===null)return null;if(y=y.shared,(Lt&2)!==0){var S=y.pending;return S===null?o.next=o:(o.next=S.next,S.next=o),y.pending=o,o=Ir(r),Xo(r,null,d),o}return es(r,y,o,d),Ir(r)}function nl(r,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var y=o.lanes;y&=r.pendingLanes,d|=y,o.lanes=d,Di(r,d)}}function zt(r,o){var d=r.updateQueue,y=r.alternate;if(y!==null&&(y=y.updateQueue,d===y)){var S=null,E=null;if(d=d.firstBaseUpdate,d!==null){do{var U={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};E===null?S=E=U:E=E.next=U,d=d.next}while(d!==null);E===null?S=E=o:E=E.next=o}else S=E=o;d={baseState:y.baseState,firstBaseUpdate:S,lastBaseUpdate:E,shared:y.shared,callbacks:y.callbacks},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=o:r.next=o,d.lastBaseUpdate=o}var Am=!1;function bf(){if(Am){var r=Lr;if(r!==null)throw r}}function eu(r,o,d,y){Am=!1;var S=r.updateQueue;Ps=!1;var E=S.firstBaseUpdate,U=S.lastBaseUpdate,W=S.shared.pending;if(W!==null){S.shared.pending=null;var ie=W,_e=ie.next;ie.next=null,U===null?E=_e:U.next=_e,U=ie;var Ie=r.alternate;Ie!==null&&(Ie=Ie.updateQueue,W=Ie.lastBaseUpdate,W!==U&&(W===null?Ie.firstBaseUpdate=_e:W.next=_e,Ie.lastBaseUpdate=ie))}if(E!==null){var Be=S.baseState;U=0,Ie=_e=ie=null,W=E;do{var Ee=W.lane&-536870913,Pe=Ee!==W.lane;if(Pe?(rn&Ee)===Ee:(y&Ee)===Ee){Ee!==0&&Ee===co&&(Am=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var At=r,Xt=W;Ee=o;var ei=d;switch(Xt.tag){case 1:if(At=Xt.payload,typeof At=="function"){Be=At.call(ei,Be,Ee);break e}Be=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=Xt.payload,Ee=typeof At=="function"?At.call(ei,Be,Ee):At,Ee==null)break e;Be=m({},Be,Ee);break e;case 2:Ps=!0}}Ee=W.callback,Ee!==null&&(r.flags|=64,Pe&&(r.flags|=8192),Pe=S.callbacks,Pe===null?S.callbacks=[Ee]:Pe.push(Ee))}else Pe={lane:Ee,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Ie===null?(_e=Ie=Pe,ie=Be):Ie=Ie.next=Pe,U|=Ee;if(W=W.next,W===null){if(W=S.shared.pending,W===null)break;Pe=W,W=Pe.next,Pe.next=null,S.lastBaseUpdate=Pe,S.shared.pending=null}}while(!0);Ie===null&&(ie=Be),S.baseState=ie,S.firstBaseUpdate=_e,S.lastBaseUpdate=Ie,E===null&&(S.shared.lanes=0),Ha|=U,r.lanes=U,r.memoizedState=Be}}function tu(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function Uy(r,o){var d=r.callbacks;if(d!==null)for(r.callbacks=null,r=0;r<d.length;r++)tu(d[r],o)}var nu=q(null),eh=q(0);function zy(r,o){r=gr,fe(eh,r),fe(nu,o),gr=r|o.baseLanes}function Cm(){fe(eh,gr),fe(nu,nu.current)}function _f(){gr=eh.current,ue(nu),ue(eh)}var js=q(null),Is=null;function ho(r){var o=r.alternate;fe(Sn,Sn.current&1),fe(js,r),Is===null&&(o===null||nu.current!==null||o.memoizedState!==null)&&(Is=r)}function Rm(r){fe(Sn,Sn.current),fe(js,r),Is===null&&(Is=r)}function Fy(r){r.tag===22?(fe(Sn,Sn.current),fe(js,r),Is===null&&(Is=r)):Gs()}function Gs(){fe(Sn,Sn.current),fe(js,js.current)}function _i(r){ue(js),Is===r&&(Is=null),ue(Sn)}var Sn=q(0);function hr(r){for(var o=r;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||J_(d)||eS(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ri=0,tn=null,Gn=null,yn=null,Ur=!1,iu=!1,Jl=!1,th=0,Sf=0,su=null,Nm=0;function fi(){throw Error(i(321))}function Dm(r,o){if(o===null)return!1;for(var d=0;d<o.length&&d<r.length;d++)if(!Ns(r[d],o[d]))return!1;return!0}function nh(r,o,d,y,S,E){return ri=E,tn=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,X.H=r===null||r.memoizedState===null?gv:Km,Jl=!1,E=d(y,S),Jl=!1,iu&&(E=ec(o,d,y,S)),By(r),E}function By(r){X.H=ru;var o=Gn!==null&&Gn.next!==null;if(ri=0,yn=Gn=tn=null,Ur=!1,Sf=0,su=null,o)throw Error(i(300));r===null||Oi||(r=r.dependencies,r!==null&&mf(r)&&(Oi=!0))}function ec(r,o,d,y){tn=r;var S=0;do{if(iu&&(su=null),Sf=0,iu=!1,25<=S)throw Error(i(301));if(S+=1,yn=Gn=null,r.updateQueue!=null){var E=r.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}X.H=zr,E=o(d,y)}while(iu);return E}function tc(){var r=X.H,o=r.useState()[0];return o=typeof o.then=="function"?wf(o):o,r=r.useState()[0],(Gn!==null?Gn.memoizedState:null)!==r&&(tn.flags|=1024),o}function Pm(){var r=th!==0;return th=0,r}function Im(r,o,d){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~d}function Lm(r){if(Ur){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ur=!1}ri=0,yn=Gn=tn=null,iu=!1,Sf=th=0,su=null}function Gi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?tn.memoizedState=yn=r:yn=yn.next=r,yn}function Si(){if(Gn===null){var r=tn.alternate;r=r!==null?r.memoizedState:null}else r=Gn.next;var o=yn===null?tn.memoizedState:yn.next;if(o!==null)yn=o,Gn=r;else{if(r===null)throw tn.alternate===null?Error(i(467)):Error(i(310));Gn=r,r={memoizedState:Gn.memoizedState,baseState:Gn.baseState,baseQueue:Gn.baseQueue,queue:Gn.queue,next:null},yn===null?tn.memoizedState=yn=r:yn=yn.next=r}return yn}function ih(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wf(r){var o=Sf;return Sf+=1,su===null&&(su=[]),r=Kd(su,r,o),o=tn,(yn===null?o.memoizedState:yn.next)===null&&(o=o.alternate,X.H=o===null||o.memoizedState===null?gv:Km),r}function il(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return wf(r);if(r.$$typeof===D)return qt(r)}throw Error(i(438,String(r)))}function Om(r){var o=null,d=tn.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var y=tn.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(o={data:y.data.map(function(S){return S.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=ih(),tn.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(r),y=0;y<r;y++)d[y]=k;return o.index++,d}function po(r,o){return typeof o=="function"?o(r):o}function sh(r){var o=Si();return Um(o,Gn,r)}function Um(r,o,d){var y=r.queue;if(y===null)throw Error(i(311));y.lastRenderedReducer=d;var S=r.baseQueue,E=y.pending;if(E!==null){if(S!==null){var U=S.next;S.next=E.next,E.next=U}o.baseQueue=S=E,y.pending=null}if(E=r.baseState,S===null)r.memoizedState=E;else{o=S.next;var W=U=null,ie=null,_e=o,Ie=!1;do{var Be=_e.lane&-536870913;if(Be!==_e.lane?(rn&Be)===Be:(ri&Be)===Be){var Ee=_e.revertLane;if(Ee===0)ie!==null&&(ie=ie.next={lane:0,revertLane:0,gesture:null,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),Be===co&&(Ie=!0);else if((ri&Ee)===Ee){_e=_e.next,Ee===co&&(Ie=!0);continue}else Be={lane:0,revertLane:_e.revertLane,gesture:null,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},ie===null?(W=ie=Be,U=E):ie=ie.next=Be,tn.lanes|=Ee,Ha|=Ee;Be=_e.action,Jl&&d(E,Be),E=_e.hasEagerState?_e.eagerState:d(E,Be)}else Ee={lane:Be,revertLane:_e.revertLane,gesture:_e.gesture,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},ie===null?(W=ie=Ee,U=E):ie=ie.next=Ee,tn.lanes|=Be,Ha|=Be;_e=_e.next}while(_e!==null&&_e!==o);if(ie===null?U=E:ie.next=W,!Ns(E,r.memoizedState)&&(Oi=!0,Ie&&(d=Lr,d!==null)))throw d;r.memoizedState=E,r.baseState=U,r.baseQueue=ie,y.lastRenderedState=E}return S===null&&(y.lanes=0),[r.memoizedState,y.dispatch]}function zm(r){var o=Si(),d=o.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=r;var y=d.dispatch,S=d.pending,E=o.memoizedState;if(S!==null){d.pending=null;var U=S=S.next;do E=r(E,U.action),U=U.next;while(U!==S);Ns(E,o.memoizedState)||(Oi=!0),o.memoizedState=E,o.baseQueue===null&&(o.baseState=E),d.lastRenderedState=E}return[E,y]}function ky(r,o,d){var y=tn,S=Si(),E=_n;if(E){if(d===void 0)throw Error(i(407));d=d()}else d=o();var U=!Ns((Gn||S).memoizedState,d);if(U&&(S.memoizedState=d,Oi=!0),S=S.queue,Wm(jy.bind(null,y,S,r),[r]),S.getSnapshot!==o||U||yn!==null&&yn.memoizedState.tag&1){if(y.flags|=2048,sl(9,{destroy:void 0},Hy.bind(null,y,S,d,o),null),Zt===null)throw Error(i(349));E||(ri&127)!==0||Vy(y,o,d)}return d}function Vy(r,o,d){r.flags|=16384,r={getSnapshot:o,value:d},o=tn.updateQueue,o===null?(o=ih(),tn.updateQueue=o,o.stores=[r]):(d=o.stores,d===null?o.stores=[r]:d.push(r))}function Hy(r,o,d,y){o.value=d,o.getSnapshot=y,Gy(o)&&Wy(r)}function jy(r,o,d){return d(function(){Gy(o)&&Wy(r)})}function Gy(r){var o=r.getSnapshot;r=r.value;try{var d=o();return!Ns(r,d)}catch{return!0}}function Wy(r){var o=Ds(r,2);o!==null&&cn(o,r,2)}function Fm(r){var o=Gi();if(typeof r=="function"){var d=r;if(r=d(),Jl){pt(!0);try{d()}finally{pt(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:r},o}function Bm(r,o,d,y){return r.baseState=d,Um(r,Gn,typeof y=="function"?y:po)}function z_(r,o,d,y,S){if(lh(r))throw Error(i(485));if(r=o.action,r!==null){var E={payload:S,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){E.listeners.push(U)}};X.T!==null?d(!0):E.isTransition=!1,y(E),d=o.pending,d===null?(E.next=o.pending=E,Xy(o,E)):(E.next=d.next,o.pending=d.next=E)}}function Xy(r,o){var d=o.action,y=o.payload,S=r.state;if(o.isTransition){var E=X.T,U={};X.T=U;try{var W=d(S,y),ie=X.S;ie!==null&&ie(U,W),qy(r,o,W)}catch(_e){km(r,o,_e)}finally{E!==null&&U.types!==null&&(E.types=U.types),X.T=E}}else try{E=d(S,y),qy(r,o,E)}catch(_e){km(r,o,_e)}}function qy(r,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(y){Yy(r,o,y)},function(y){return km(r,o,y)}):Yy(r,o,d)}function Yy(r,o,d){o.status="fulfilled",o.value=d,$y(o),r.state=d,o=r.pending,o!==null&&(d=o.next,d===o?r.pending=null:(d=d.next,o.next=d,Xy(r,d)))}function km(r,o,d){var y=r.pending;if(r.pending=null,y!==null){y=y.next;do o.status="rejected",o.reason=d,$y(o),o=o.next;while(o!==y)}r.action=null}function $y(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function Vm(r,o){return o}function Hm(r,o){if(_n){var d=Zt.formState;if(d!==null){e:{var y=tn;if(_n){if(Kn){t:{for(var S=Kn,E=fr;S.nodeType!==8;){if(!E){S=null;break t}if(S=Wa(S.nextSibling),S===null){S=null;break t}}E=S.data,S=E==="F!"||E==="F"?S:null}if(S){Kn=Wa(S.nextSibling),y=S.data==="F!";break e}}Na(y)}y=!1}y&&(o=d[0])}}return d=Gi(),d.memoizedState=d.baseState=o,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vm,lastRenderedState:o},d.queue=y,d=hv.bind(null,tn,y),y.dispatch=d,y=Fm(!1),E=Zm.bind(null,tn,!1,y.queue),y=Gi(),S={state:o,dispatch:null,action:r,pending:null},y.queue=S,d=z_.bind(null,tn,S,E,d),S.dispatch=d,y.memoizedState=r,[o,d,!1]}function Zy(r){var o=Si();return jm(o,Gn,r)}function jm(r,o,d){if(o=Um(r,o,Vm)[0],r=sh(po)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var y=wf(o)}catch(U){throw U===ql?on:U}else y=o;o=Si();var S=o.queue,E=S.dispatch;return d!==o.memoizedState&&(tn.flags|=2048,sl(9,{destroy:void 0},Ky.bind(null,S,d),null)),[y,E,r]}function Ky(r,o){r.action=o}function Gm(r){var o=Si(),d=Gn;if(d!==null)return jm(o,d,r);Si(),o=o.memoizedState,d=Si();var y=d.queue.dispatch;return d.memoizedState=r,[o,y,!1]}function sl(r,o,d,y){return r={tag:r,create:d,deps:y,inst:o,next:null},o=tn.updateQueue,o===null&&(o=ih(),tn.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=r.next=r:(y=d.next,d.next=r,r.next=y,o.lastEffect=r),r}function rh(){return Si().memoizedState}function ah(r,o,d,y){var S=Gi();tn.flags|=r,S.memoizedState=sl(1|o,{destroy:void 0},d,y===void 0?null:y)}function oh(r,o,d,y){var S=Si();y=y===void 0?null:y;var E=S.memoizedState.inst;Gn!==null&&y!==null&&Dm(y,Gn.memoizedState.deps)?S.memoizedState=sl(o,E,d,y):(tn.flags|=r,S.memoizedState=sl(1|o,E,d,y))}function Qy(r,o){ah(8390656,8,r,o)}function Wm(r,o){oh(2048,8,r,o)}function Jy(r){tn.flags|=4;var o=tn.updateQueue;if(o===null)o=ih(),tn.updateQueue=o,o.events=[r];else{var d=o.events;d===null?o.events=[r]:d.push(r)}}function ev(r){var o=Si().memoizedState;return Jy({ref:o,nextImpl:r}),function(){if((Lt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function tv(r,o){return oh(4,2,r,o)}function nv(r,o){return oh(4,4,r,o)}function iv(r,o){if(typeof o=="function"){r=r();var d=o(r);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function sv(r,o,d){d=d!=null?d.concat([r]):null,oh(4,4,iv.bind(null,o,r),d)}function Xm(){}function rv(r,o){var d=Si();o=o===void 0?null:o;var y=d.memoizedState;return o!==null&&Dm(o,y[1])?y[0]:(d.memoizedState=[r,o],r)}function av(r,o){var d=Si();o=o===void 0?null:o;var y=d.memoizedState;if(o!==null&&Dm(o,y[1]))return y[0];if(y=r(),Jl){pt(!0);try{r()}finally{pt(!1)}}return d.memoizedState=[y,o],y}function qm(r,o,d){return d===void 0||(ri&1073741824)!==0&&(rn&261930)===0?r.memoizedState=o:(r.memoizedState=d,r=pn(),tn.lanes|=r,Ha|=r,d)}function ov(r,o,d,y){return Ns(d,o)?d:nu.current!==null?(r=qm(r,d,y),Ns(r,o)||(Oi=!0),r):(ri&42)===0||(ri&1073741824)!==0&&(rn&261930)===0?(Oi=!0,r.memoizedState=d):(r=pn(),tn.lanes|=r,Ha|=r,o)}function lv(r,o,d,y,S){var E=Z.p;Z.p=E!==0&&8>E?E:8;var U=X.T,W={};X.T=W,Zm(r,!1,o,d);try{var ie=S(),_e=X.S;if(_e!==null&&_e(W,ie),ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var Ie=Mm(ie,y);Mf(r,o,Ie,vr(r))}else Mf(r,o,y,vr(r))}catch(Be){Mf(r,o,{then:function(){},status:"rejected",reason:Be},vr())}finally{Z.p=E,U!==null&&W.types!==null&&(U.types=W.types),X.T=U}}function F_(){}function Ym(r,o,d,y){if(r.tag!==5)throw Error(i(476));var S=cv(r).queue;lv(r,S,o,Q,d===null?F_:function(){return uv(r),d(y)})}function cv(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:Q},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:d},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function uv(r){var o=cv(r);o.next===null&&(o=r.alternate.memoizedState),Mf(r,o.next.queue,{},vr())}function $m(){return qt(yg)}function fv(){return Si().memoizedState}function dv(){return Si().memoizedState}function B_(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var d=vr();r=fo(d);var y=tl(o,r,d);y!==null&&(cn(y,o,d),nl(y,o,d)),o={cache:_m()},r.payload=o;return}o=o.return}}function k_(r,o,d){var y=vr();d={lane:y,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},lh(r)?pv(o,d):(d=Bd(r,o,d,y),d!==null&&(cn(d,r,y),mv(d,o,y)))}function hv(r,o,d){var y=vr();Mf(r,o,d,y)}function Mf(r,o,d,y){var S={lane:y,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(lh(r))pv(o,S);else{var E=r.alternate;if(r.lanes===0&&(E===null||E.lanes===0)&&(E=o.lastRenderedReducer,E!==null))try{var U=o.lastRenderedState,W=E(U,d);if(S.hasEagerState=!0,S.eagerState=W,Ns(W,U))return es(r,o,S,0),Zt===null&&hf(),!1}catch{}if(d=Bd(r,o,S,y),d!==null)return cn(d,r,y),mv(d,o,y),!0}return!1}function Zm(r,o,d,y){if(y={lane:2,revertLane:Re(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},lh(r)){if(o)throw Error(i(479))}else o=Bd(r,d,y,2),o!==null&&cn(o,r,2)}function lh(r){var o=r.alternate;return r===tn||o!==null&&o===tn}function pv(r,o){iu=Ur=!0;var d=r.pending;d===null?o.next=o:(o.next=d.next,d.next=o),r.pending=o}function mv(r,o,d){if((d&4194048)!==0){var y=o.lanes;y&=r.pendingLanes,d|=y,o.lanes=d,Di(r,d)}}var ru={readContext:qt,use:il,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useLayoutEffect:fi,useInsertionEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useSyncExternalStore:fi,useId:fi,useHostTransitionStatus:fi,useFormState:fi,useActionState:fi,useOptimistic:fi,useMemoCache:fi,useCacheRefresh:fi};ru.useEffectEvent=fi;var gv={readContext:qt,use:il,useCallback:function(r,o){return Gi().memoizedState=[r,o===void 0?null:o],r},useContext:qt,useEffect:Qy,useImperativeHandle:function(r,o,d){d=d!=null?d.concat([r]):null,ah(4194308,4,iv.bind(null,o,r),d)},useLayoutEffect:function(r,o){return ah(4194308,4,r,o)},useInsertionEffect:function(r,o){ah(4,2,r,o)},useMemo:function(r,o){var d=Gi();o=o===void 0?null:o;var y=r();if(Jl){pt(!0);try{r()}finally{pt(!1)}}return d.memoizedState=[y,o],y},useReducer:function(r,o,d){var y=Gi();if(d!==void 0){var S=d(o);if(Jl){pt(!0);try{d(o)}finally{pt(!1)}}}else S=o;return y.memoizedState=y.baseState=S,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:S},y.queue=r,r=r.dispatch=k_.bind(null,tn,r),[y.memoizedState,r]},useRef:function(r){var o=Gi();return r={current:r},o.memoizedState=r},useState:function(r){r=Fm(r);var o=r.queue,d=hv.bind(null,tn,o);return o.dispatch=d,[r.memoizedState,d]},useDebugValue:Xm,useDeferredValue:function(r,o){var d=Gi();return qm(d,r,o)},useTransition:function(){var r=Fm(!1);return r=lv.bind(null,tn,r.queue,!0,!1),Gi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,d){var y=tn,S=Gi();if(_n){if(d===void 0)throw Error(i(407));d=d()}else{if(d=o(),Zt===null)throw Error(i(349));(rn&127)!==0||Vy(y,o,d)}S.memoizedState=d;var E={value:d,getSnapshot:o};return S.queue=E,Qy(jy.bind(null,y,E,r),[r]),y.flags|=2048,sl(9,{destroy:void 0},Hy.bind(null,y,E,d,o),null),d},useId:function(){var r=Gi(),o=Zt.identifierPrefix;if(_n){var d=la,y=ui;d=(y&~(1<<32-dt(y)-1)).toString(32)+d,o="_"+o+"R_"+d,d=th++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=Nm++,o="_"+o+"r_"+d.toString(32)+"_";return r.memoizedState=o},useHostTransitionStatus:$m,useFormState:Hm,useActionState:Hm,useOptimistic:function(r){var o=Gi();o.memoizedState=o.baseState=r;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=Zm.bind(null,tn,!0,d),d.dispatch=o,[r,o]},useMemoCache:Om,useCacheRefresh:function(){return Gi().memoizedState=B_.bind(null,tn)},useEffectEvent:function(r){var o=Gi(),d={impl:r};return o.memoizedState=d,function(){if((Lt&2)!==0)throw Error(i(440));return d.impl.apply(void 0,arguments)}}},Km={readContext:qt,use:il,useCallback:rv,useContext:qt,useEffect:Wm,useImperativeHandle:sv,useInsertionEffect:tv,useLayoutEffect:nv,useMemo:av,useReducer:sh,useRef:rh,useState:function(){return sh(po)},useDebugValue:Xm,useDeferredValue:function(r,o){var d=Si();return ov(d,Gn.memoizedState,r,o)},useTransition:function(){var r=sh(po)[0],o=Si().memoizedState;return[typeof r=="boolean"?r:wf(r),o]},useSyncExternalStore:ky,useId:fv,useHostTransitionStatus:$m,useFormState:Zy,useActionState:Zy,useOptimistic:function(r,o){var d=Si();return Bm(d,Gn,r,o)},useMemoCache:Om,useCacheRefresh:dv};Km.useEffectEvent=ev;var zr={readContext:qt,use:il,useCallback:rv,useContext:qt,useEffect:Wm,useImperativeHandle:sv,useInsertionEffect:tv,useLayoutEffect:nv,useMemo:av,useReducer:zm,useRef:rh,useState:function(){return zm(po)},useDebugValue:Xm,useDeferredValue:function(r,o){var d=Si();return Gn===null?qm(d,r,o):ov(d,Gn.memoizedState,r,o)},useTransition:function(){var r=zm(po)[0],o=Si().memoizedState;return[typeof r=="boolean"?r:wf(r),o]},useSyncExternalStore:ky,useId:fv,useHostTransitionStatus:$m,useFormState:Gm,useActionState:Gm,useOptimistic:function(r,o){var d=Si();return Gn!==null?Bm(d,Gn,r,o):(d.baseState=r,[r,d.queue.dispatch])},useMemoCache:Om,useCacheRefresh:dv};zr.useEffectEvent=ev;function ch(r,o,d,y){o=r.memoizedState,d=d(y,o),d=d==null?o:m({},o,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var Tf={enqueueSetState:function(r,o,d){r=r._reactInternals;var y=vr(),S=fo(y);S.payload=o,d!=null&&(S.callback=d),o=tl(r,S,y),o!==null&&(cn(o,r,y),nl(o,r,y))},enqueueReplaceState:function(r,o,d){r=r._reactInternals;var y=vr(),S=fo(y);S.tag=1,S.payload=o,d!=null&&(S.callback=d),o=tl(r,S,y),o!==null&&(cn(o,r,y),nl(o,r,y))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var d=vr(),y=fo(d);y.tag=2,o!=null&&(y.callback=o),o=tl(r,y,d),o!==null&&(cn(o,r,d),nl(o,r,d))}};function Qm(r,o,d,y,S,E,U){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(y,E,U):o.prototype&&o.prototype.isPureReactComponent?!Vc(d,y)||!Vc(S,E):!0}function Jm(r,o,d,y){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,y),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,y),o.state!==r&&Tf.enqueueReplaceState(o,o.state,null)}function rl(r,o){var d=o;if("ref"in o){d={};for(var y in o)y!=="ref"&&(d[y]=o[y])}if(r=r.defaultProps){d===o&&(d=m({},d));for(var S in r)d[S]===void 0&&(d[S]=r[S])}return d}function yv(r){df(r)}function eg(r){console.error(r)}function tg(r){df(r)}function uh(r,o){try{var d=r.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(y){setTimeout(function(){throw y})}}function vv(r,o,d){try{var y=r.onCaughtError;y(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function ng(r,o,d){return d=fo(d),d.tag=3,d.payload={element:null},d.callback=function(){uh(r,o)},d}function ig(r){return r=fo(r),r.tag=3,r}function xv(r,o,d,y){var S=d.type.getDerivedStateFromError;if(typeof S=="function"){var E=y.value;r.payload=function(){return S(E)},r.callback=function(){vv(o,d,y)}}var U=d.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(r.callback=function(){vv(o,d,y),typeof S!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var W=y.stack;this.componentDidCatch(y.value,{componentStack:W!==null?W:""})})}function Wi(r,o,d,y,S){if(d.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(o=d.alternate,o!==null&&La(o,d,S,!0),d=js.current,d!==null){switch(d.tag){case 31:case 13:return Is===null?du():d.alternate===null&&di===0&&(di=3),d.flags&=-257,d.flags|=65536,d.lanes=S,y===Zd?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([y]):o.add(y),zf(r,y,S)),!1;case 22:return d.flags|=65536,y===Zd?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([y])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([y]):d.add(y)),zf(r,y,S)),!1}throw Error(i(435,d.tag))}return zf(r,y,S),du(),!1}if(_n)return o=js.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=S,y!==$c&&(r=Error(i(422),{cause:y}),Da(ur(r,d)))):(y!==$c&&(o=Error(i(423),{cause:y}),Da(ur(o,d))),r=r.current.alternate,r.flags|=65536,S&=-S,r.lanes|=S,y=ur(y,d),S=ng(r.stateNode,y,S),zt(r,S),di!==4&&(di=2)),!1;var E=Error(i(520),{cause:y});if(E=ur(E,d),cc===null?cc=[E]:cc.push(E),di!==4&&(di=2),o===null)return!0;y=ur(y,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,r=S&-S,d.lanes|=r,r=ng(d.stateNode,y,r),zt(d,r),!1;case 1:if(o=d.type,E=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ti===null||!Ti.has(E))))return d.flags|=65536,S&=-S,d.lanes|=S,S=ig(S),xv(S,r,d,y),zt(d,S),!1}d=d.return}while(d!==null);return!1}var fh=Error(i(461)),Oi=!1;function ts(r,o,d,y){o.child=r===null?Jd(o,null,d,y):uo(o,r.child,d,y)}function sg(r,o,d,y,S){d=d.render;var E=o.ref;if("ref"in y){var U={};for(var W in y)W!=="ref"&&(U[W]=y[W])}else U=y;return Jo(o),y=nh(r,o,d,U,E,S),W=Pm(),r!==null&&!Oi?(Im(r,o,S),wi(r,o,S)):(_n&&W&&Ra(o),o.flags|=1,ts(r,o,y,S),o.child)}function nc(r,o,d,y,S){if(r===null){var E=d.type;return typeof E=="function"&&!kd(E)&&E.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=E,dh(r,o,E,y,S)):(r=Aa(d.type,null,y,o,o.mode,S),r.ref=o.ref,r.return=o,o.child=r)}if(E=r.child,!vh(r,S)){var U=E.memoizedProps;if(d=d.compare,d=d!==null?d:Vc,d(U,y)&&r.ref===o.ref)return wi(r,o,S)}return o.flags|=1,r=ks(E,y),r.ref=o.ref,r.return=o,o.child=r}function dh(r,o,d,y,S){if(r!==null){var E=r.memoizedProps;if(Vc(E,y)&&r.ref===o.ref)if(Oi=!1,o.pendingProps=y=E,vh(r,S))(r.flags&131072)!==0&&(Oi=!0);else return o.lanes=r.lanes,wi(r,o,S)}return au(r,o,d,y,S)}function ic(r,o,d,y){var S=y.children,E=r!==null?r.memoizedState:null;if(r===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((o.flags&128)!==0){if(E=E!==null?E.baseLanes|d:d,r!==null){for(y=o.child=r.child,S=0;y!==null;)S=S|y.lanes|y.childLanes,y=y.sibling;y=S&~E}else y=0,o.child=null;return Ws(r,o,E,d,y)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&gf(o,E!==null?E.cachePool:null),E!==null?zy(o,E):Cm(),Fy(o);else return y=o.lanes=536870912,Ws(r,o,E!==null?E.baseLanes|d:d,d,y)}else E!==null?(gf(o,E.cachePool),zy(o,E),Gs(),o.memoizedState=null):(r!==null&&gf(o,null),Cm(),Gs());return ts(r,o,S,d),o.child}function Ua(r,o){return r!==null&&r.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Ws(r,o,d,y,S){var E=$d();return E=E===null?null:{parent:Li._currentValue,pool:E},o.memoizedState={baseLanes:d,cachePool:E},r!==null&&gf(o,null),Cm(),Fy(o),r!==null&&La(r,o,y,!0),o.childLanes=S,null}function hh(r,o){return o=yh({mode:o.mode,children:o.children},r.mode),o.ref=r.ref,r.child=o,o.return=r,o}function bv(r,o,d){return uo(o,r.child,null,d),r=hh(o,o.pendingProps),r.flags|=2,_i(o),o.memoizedState=null,r}function ph(r,o,d){var y=o.pendingProps,S=(o.flags&128)!==0;if(o.flags&=-129,r===null){if(_n){if(y.mode==="hidden")return r=hh(o,y),o.lanes=536870912,Ua(null,r);if(Rm(o),(r=Kn)?(r=yA(r,fr),r=r!==null&&r.data==="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:ao!==null?{id:ui,overflow:la}:null,retryLane:536870912,hydrationErrors:null},d=Xc(r),d.return=o,o.child=d,yi=o,Kn=null)):r=null,r===null)throw Na(o);return o.lanes=536870912,null}return hh(o,y)}var E=r.memoizedState;if(E!==null){var U=E.dehydrated;if(Rm(o),S)if(o.flags&256)o.flags&=-257,o=bv(r,o,d);else if(o.memoizedState!==null)o.child=r.child,o.flags|=128,o=null;else throw Error(i(558));else if(Oi||La(r,o,d,!1),S=(d&r.childLanes)!==0,Oi||S){if(y=Zt,y!==null&&(U=Vi(y,d),U!==0&&U!==E.retryLane))throw E.retryLane=U,Ds(r,U),cn(y,r,U),fh;du(),o=bv(r,o,d)}else r=E.treeContext,Kn=Wa(U.nextSibling),yi=o,_n=!0,oo=null,fr=!1,r!==null&&Gd(o,r),o=hh(o,y),o.flags|=4096;return o}return r=ks(r.child,{mode:y.mode,children:y.children}),r.ref=o.ref,o.child=r,r.return=o,r}function sc(r,o){var d=o.ref;if(d===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(r===null||r.ref!==d)&&(o.flags|=4194816)}}function au(r,o,d,y,S){return Jo(o),d=nh(r,o,d,y,void 0,S),y=Pm(),r!==null&&!Oi?(Im(r,o,S),wi(r,o,S)):(_n&&y&&Ra(o),o.flags|=1,ts(r,o,d,S),o.child)}function Ef(r,o,d,y,S,E){return Jo(o),o.updateQueue=null,d=ec(o,y,d,S),By(r),y=Pm(),r!==null&&!Oi?(Im(r,o,E),wi(r,o,E)):(_n&&y&&Ra(o),o.flags|=1,ts(r,o,d,E),o.child)}function mh(r,o,d,y,S){if(Jo(o),o.stateNode===null){var E=qo,U=d.contextType;typeof U=="object"&&U!==null&&(E=qt(U)),E=new d(y,E),o.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Tf,o.stateNode=E,E._reactInternals=o,E=o.stateNode,E.props=y,E.state=o.memoizedState,E.refs={},xf(o),U=d.contextType,E.context=typeof U=="object"&&U!==null?qt(U):qo,E.state=o.memoizedState,U=d.getDerivedStateFromProps,typeof U=="function"&&(ch(o,d,U,y),E.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(U=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),U!==E.state&&Tf.enqueueReplaceState(E,E.state,null),eu(o,y,E,S),bf(),E.state=o.memoizedState),typeof E.componentDidMount=="function"&&(o.flags|=4194308),y=!0}else if(r===null){E=o.stateNode;var W=o.memoizedProps,ie=rl(d,W);E.props=ie;var _e=E.context,Ie=d.contextType;U=qo,typeof Ie=="object"&&Ie!==null&&(U=qt(Ie));var Be=d.getDerivedStateFromProps;Ie=typeof Be=="function"||typeof E.getSnapshotBeforeUpdate=="function",W=o.pendingProps!==W,Ie||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(W||_e!==U)&&Jm(o,E,y,U),Ps=!1;var Ee=o.memoizedState;E.state=Ee,eu(o,y,E,S),bf(),_e=o.memoizedState,W||Ee!==_e||Ps?(typeof Be=="function"&&(ch(o,d,Be,y),_e=o.memoizedState),(ie=Ps||Qm(o,d,ie,y,Ee,_e,U))?(Ie||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=y,o.memoizedState=_e),E.props=y,E.state=_e,E.context=U,y=ie):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),y=!1)}else{E=o.stateNode,Em(r,o),U=o.memoizedProps,Ie=rl(d,U),E.props=Ie,Be=o.pendingProps,Ee=E.context,_e=d.contextType,ie=qo,typeof _e=="object"&&_e!==null&&(ie=qt(_e)),W=d.getDerivedStateFromProps,(_e=typeof W=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(U!==Be||Ee!==ie)&&Jm(o,E,y,ie),Ps=!1,Ee=o.memoizedState,E.state=Ee,eu(o,y,E,S),bf();var Pe=o.memoizedState;U!==Be||Ee!==Pe||Ps||r!==null&&r.dependencies!==null&&mf(r.dependencies)?(typeof W=="function"&&(ch(o,d,W,y),Pe=o.memoizedState),(Ie=Ps||Qm(o,d,Ie,y,Ee,Pe,ie)||r!==null&&r.dependencies!==null&&mf(r.dependencies))?(_e||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(y,Pe,ie),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(y,Pe,ie)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||U===r.memoizedProps&&Ee===r.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&Ee===r.memoizedState||(o.flags|=1024),o.memoizedProps=y,o.memoizedState=Pe),E.props=y,E.state=Pe,E.context=ie,y=Ie):(typeof E.componentDidUpdate!="function"||U===r.memoizedProps&&Ee===r.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&Ee===r.memoizedState||(o.flags|=1024),y=!1)}return E=y,sc(r,o),y=(o.flags&128)!==0,E||y?(E=o.stateNode,d=y&&typeof d.getDerivedStateFromError!="function"?null:E.render(),o.flags|=1,r!==null&&y?(o.child=uo(o,r.child,null,S),o.child=uo(o,null,d,S)):ts(r,o,d,S),o.memoizedState=E.state,r=o.child):r=wi(r,o,S),r}function _v(r,o,d,y){return Ko(),o.flags|=256,ts(r,o,d,y),o.child}var rg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _s(r){return{baseLanes:r,cachePool:Tm()}}function gh(r,o,d){return r=r!==null?r.childLanes&~d:0,o&&(r|=Us),r}function Sv(r,o,d){var y=o.pendingProps,S=!1,E=(o.flags&128)!==0,U;if((U=E)||(U=r!==null&&r.memoizedState===null?!1:(Sn.current&2)!==0),U&&(S=!0,o.flags&=-129),U=(o.flags&32)!==0,o.flags&=-33,r===null){if(_n){if(S?ho(o):Gs(),(r=Kn)?(r=yA(r,fr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:ao!==null?{id:ui,overflow:la}:null,retryLane:536870912,hydrationErrors:null},d=Xc(r),d.return=o,o.child=d,yi=o,Kn=null)):r=null,r===null)throw Na(o);return eS(r)?o.lanes=32:o.lanes=536870912,null}var W=y.children;return y=y.fallback,S?(Gs(),S=o.mode,W=yh({mode:"hidden",children:W},S),y=Yo(y,S,d,null),W.return=o,y.return=o,W.sibling=y,o.child=W,y=o.child,y.memoizedState=_s(d),y.childLanes=gh(r,U,d),o.memoizedState=rg,Ua(null,y)):(ho(o),Af(o,W))}var ie=r.memoizedState;if(ie!==null&&(W=ie.dehydrated,W!==null)){if(E)o.flags&256?(ho(o),o.flags&=-257,o=ag(r,o,d)):o.memoizedState!==null?(Gs(),o.child=r.child,o.flags|=128,o=null):(Gs(),W=y.fallback,S=o.mode,y=yh({mode:"visible",children:y.children},S),W=Yo(W,S,d,null),W.flags|=2,y.return=o,W.return=o,y.sibling=W,o.child=y,uo(o,r.child,null,d),y=o.child,y.memoizedState=_s(d),y.childLanes=gh(r,U,d),o.memoizedState=rg,o=Ua(null,y));else if(ho(o),eS(W)){if(U=W.nextSibling&&W.nextSibling.dataset,U)var _e=U.dgst;U=_e,y=Error(i(419)),y.stack="",y.digest=U,Da({value:y,source:null,stack:null}),o=ag(r,o,d)}else if(Oi||La(r,o,d,!1),U=(d&r.childLanes)!==0,Oi||U){if(U=Zt,U!==null&&(y=Vi(U,d),y!==0&&y!==ie.retryLane))throw ie.retryLane=y,Ds(r,y),cn(U,r,y),fh;J_(W)||du(),o=ag(r,o,d)}else J_(W)?(o.flags|=192,o.child=r.child,o=null):(r=ie.treeContext,Kn=Wa(W.nextSibling),yi=o,_n=!0,oo=null,fr=!1,r!==null&&Gd(o,r),o=Af(o,y.children),o.flags|=4096);return o}return S?(Gs(),W=y.fallback,S=o.mode,ie=r.child,_e=ie.sibling,y=ks(ie,{mode:"hidden",children:y.children}),y.subtreeFlags=ie.subtreeFlags&65011712,_e!==null?W=ks(_e,W):(W=Yo(W,S,d,null),W.flags|=2),W.return=o,y.return=o,y.sibling=W,o.child=y,Ua(null,y),y=o.child,W=r.child.memoizedState,W===null?W=_s(d):(S=W.cachePool,S!==null?(ie=Li._currentValue,S=S.parent!==ie?{parent:ie,pool:ie}:S):S=Tm(),W={baseLanes:W.baseLanes|d,cachePool:S}),y.memoizedState=W,y.childLanes=gh(r,U,d),o.memoizedState=rg,Ua(r.child,y)):(ho(o),d=r.child,r=d.sibling,d=ks(d,{mode:"visible",children:y.children}),d.return=o,d.sibling=null,r!==null&&(U=o.deletions,U===null?(o.deletions=[r],o.flags|=16):U.push(r)),o.child=d,o.memoizedState=null,d)}function Af(r,o){return o=yh({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function yh(r,o){return r=ci(22,r,null,o),r.lanes=0,r}function ag(r,o,d){return uo(o,r.child,null,d),r=Af(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function wv(r,o,d){r.lanes|=o;var y=r.alternate;y!==null&&(y.lanes|=o),Xd(r.return,o,d)}function rc(r,o,d,y,S,E){var U=r.memoizedState;U===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:y,tail:d,tailMode:S,treeForkCount:E}:(U.isBackwards=o,U.rendering=null,U.renderingStartTime=0,U.last=y,U.tail=d,U.tailMode=S,U.treeForkCount=E)}function Xs(r,o,d){var y=o.pendingProps,S=y.revealOrder,E=y.tail;y=y.children;var U=Sn.current,W=(U&2)!==0;if(W?(U=U&1|2,o.flags|=128):U&=1,fe(Sn,U),ts(r,o,y,d),y=_n?Yc:0,!W&&r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&wv(r,d,o);else if(r.tag===19)wv(r,d,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(S){case"forwards":for(d=o.child,S=null;d!==null;)r=d.alternate,r!==null&&hr(r)===null&&(S=d),d=d.sibling;d=S,d===null?(S=o.child,o.child=null):(S=d.sibling,d.sibling=null),rc(o,!1,S,d,E,y);break;case"backwards":case"unstable_legacy-backwards":for(d=null,S=o.child,o.child=null;S!==null;){if(r=S.alternate,r!==null&&hr(r)===null){o.child=S;break}r=S.sibling,S.sibling=d,d=S,S=r}rc(o,!0,d,null,E,y);break;case"together":rc(o,!1,null,null,void 0,y);break;default:o.memoizedState=null}return o.child}function wi(r,o,d){if(r!==null&&(o.dependencies=r.dependencies),Ha|=o.lanes,(d&o.childLanes)===0)if(r!==null){if(La(r,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,d=ks(r,r.pendingProps),o.child=d,d.return=o;r.sibling!==null;)r=r.sibling,d=d.sibling=ks(r,r.pendingProps),d.return=o;d.sibling=null}return o.child}function vh(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&mf(r)))}function V_(r,o,d){switch(o.tag){case 3:Fe(o,o.stateNode.containerInfo),lo(o,Li,r.memoizedState.cache),Ko();break;case 27:case 5:rt(o);break;case 4:Fe(o,o.stateNode.containerInfo);break;case 10:lo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Rm(o),null;break;case 13:var y=o.memoizedState;if(y!==null)return y.dehydrated!==null?(ho(o),o.flags|=128,null):(d&o.child.childLanes)!==0?Sv(r,o,d):(ho(o),r=wi(r,o,d),r!==null?r.sibling:null);ho(o);break;case 19:var S=(r.flags&128)!==0;if(y=(d&o.childLanes)!==0,y||(La(r,o,d,!1),y=(d&o.childLanes)!==0),S){if(y)return Xs(r,o,d);o.flags|=128}if(S=o.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),fe(Sn,Sn.current),y)break;return null;case 22:return o.lanes=0,ic(r,o,d,o.pendingProps);case 24:lo(o,Li,r.memoizedState.cache)}return wi(r,o,d)}function xh(r,o,d){if(r!==null)if(r.memoizedProps!==o.pendingProps)Oi=!0;else{if(!vh(r,d)&&(o.flags&128)===0)return Oi=!1,V_(r,o,d);Oi=(r.flags&131072)!==0}else Oi=!1,_n&&(o.flags&1048576)!==0&&Ny(o,Yc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var y=o.pendingProps;if(r=Yl(o.elementType),o.type=r,typeof r=="function")kd(r)?(y=rl(r,y),o.tag=1,o=mh(null,o,r,y,d)):(o.tag=0,o=au(null,o,r,y,d));else{if(r!=null){var S=r.$$typeof;if(S===I){o.tag=11,o=sg(null,o,r,y,d);break e}else if(S===B){o.tag=14,o=nc(null,o,r,y,d);break e}}throw o=ne(r)||r,Error(i(306,o,""))}}return o;case 0:return au(r,o,o.type,o.pendingProps,d);case 1:return y=o.type,S=rl(y,o.pendingProps),mh(r,o,y,S,d);case 3:e:{if(Fe(o,o.stateNode.containerInfo),r===null)throw Error(i(387));y=o.pendingProps;var E=o.memoizedState;S=E.element,Em(r,o),eu(o,y,null,d);var U=o.memoizedState;if(y=U.cache,lo(o,Li,y),y!==E.cache&&qd(o,[Li],d,!0),bf(),y=U.element,E.isDehydrated)if(E={element:y,isDehydrated:!1,cache:U.cache},o.updateQueue.baseState=E,o.memoizedState=E,o.flags&256){o=_v(r,o,y,d);break e}else if(y!==S){S=ur(Error(i(424)),o),Da(S),o=_v(r,o,y,d);break e}else for(r=o.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Kn=Wa(r.firstChild),yi=o,_n=!0,oo=null,fr=!0,d=Jd(o,null,y,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ko(),y===S){o=wi(r,o,d);break e}ts(r,o,y,d)}o=o.child}return o;case 26:return sc(r,o),r===null?(d=wA(o.type,null,o.pendingProps,null))?o.memoizedState=d:_n||(d=o.type,r=o.pendingProps,y=Av(he.current).createElement(d),y[li]=o,y[Hi]=r,Fs(y,d,r),G(y),o.stateNode=y):o.memoizedState=wA(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return rt(o),r===null&&_n&&(y=o.stateNode=bA(o.type,o.pendingProps,he.current),yi=o,fr=!0,S=Kn,gu(o.type)?(tS=S,Kn=Wa(y.firstChild)):Kn=S),ts(r,o,o.pendingProps.children,d),sc(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&_n&&((S=y=Kn)&&(y=U5(y,o.type,o.pendingProps,fr),y!==null?(o.stateNode=y,yi=o,Kn=Wa(y.firstChild),fr=!1,S=!0):S=!1),S||Na(o)),rt(o),S=o.type,E=o.pendingProps,U=r!==null?r.memoizedProps:null,y=E.children,Z_(S,E)?y=null:U!==null&&Z_(S,U)&&(o.flags|=32),o.memoizedState!==null&&(S=nh(r,o,tc,null,null,d),yg._currentValue=S),sc(r,o),ts(r,o,y,d),o.child;case 6:return r===null&&_n&&((r=d=Kn)&&(d=z5(d,o.pendingProps,fr),d!==null?(o.stateNode=d,yi=o,Kn=null,r=!0):r=!1),r||Na(o)),null;case 13:return Sv(r,o,d);case 4:return Fe(o,o.stateNode.containerInfo),y=o.pendingProps,r===null?o.child=uo(o,null,y,d):ts(r,o,y,d),o.child;case 11:return sg(r,o,o.type,o.pendingProps,d);case 7:return ts(r,o,o.pendingProps,d),o.child;case 8:return ts(r,o,o.pendingProps.children,d),o.child;case 12:return ts(r,o,o.pendingProps.children,d),o.child;case 10:return y=o.pendingProps,lo(o,o.type,y.value),ts(r,o,y.children,d),o.child;case 9:return S=o.type._context,y=o.pendingProps.children,Jo(o),S=qt(S),y=y(S),o.flags|=1,ts(r,o,y,d),o.child;case 14:return nc(r,o,o.type,o.pendingProps,d);case 15:return dh(r,o,o.type,o.pendingProps,d);case 19:return Xs(r,o,d);case 31:return ph(r,o,d);case 22:return ic(r,o,d,o.pendingProps);case 24:return Jo(o),y=qt(Li),r===null?(S=$d(),S===null&&(S=Zt,E=_m(),S.pooledCache=E,E.refCount++,E!==null&&(S.pooledCacheLanes|=d),S=E),o.memoizedState={parent:y,cache:S},xf(o),lo(o,Li,S)):((r.lanes&d)!==0&&(Em(r,o),eu(o,null,null,d),bf()),S=r.memoizedState,E=o.memoizedState,S.parent!==y?(S={parent:y,cache:y},o.memoizedState=S,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=S),lo(o,Li,y)):(y=E.cache,lo(o,Li,y),y!==S.cache&&qd(o,[Li],d,!0))),ts(r,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function za(r){r.flags|=4}function Cf(r,o,d,y,S){if((o=(r.mode&32)!==0)&&(o=!1),o){if(r.flags|=16777216,(S&335544128)===S)if(r.stateNode.complete)r.flags|=8192;else if(pi())r.flags|=8192;else throw Oa=Zd,yf}else r.flags&=-16777217}function og(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!CA(o))if(pi())r.flags|=8192;else throw Oa=Zd,yf}function mo(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Gt():536870912,r.lanes|=o,ni|=o)}function Fa(r,o){if(!_n)switch(r.tailMode){case"hidden":o=r.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:y.sibling=null}}function Wn(r){var o=r.alternate!==null&&r.alternate.child===r.child,d=0,y=0;if(o)for(var S=r.child;S!==null;)d|=S.lanes|S.childLanes,y|=S.subtreeFlags&65011712,y|=S.flags&65011712,S.return=r,S=S.sibling;else for(S=r.child;S!==null;)d|=S.lanes|S.childLanes,y|=S.subtreeFlags,y|=S.flags,S.return=r,S=S.sibling;return r.subtreeFlags|=y,r.childLanes=d,o}function Rf(r,o,d){var y=o.pendingProps;switch(jd(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(o),null;case 1:return Wn(o),null;case 3:return d=o.stateNode,y=null,r!==null&&(y=r.memoizedState.cache),o.memoizedState.cache!==y&&(o.flags|=2048),Ia(Li),Ze(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Zc(o)?za(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Wd())),Wn(o),null;case 26:var S=o.type,E=o.memoizedState;return r===null?(za(o),E!==null?(Wn(o),og(o,E)):(Wn(o),Cf(o,S,null,y,d))):E?E!==r.memoizedState?(za(o),Wn(o),og(o,E)):(Wn(o),o.flags&=-16777217):(r=r.memoizedProps,r!==y&&za(o),Wn(o),Cf(o,S,r,y,d)),null;case 27:if(kt(o),d=he.current,S=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==y&&za(o);else{if(!y){if(o.stateNode===null)throw Error(i(166));return Wn(o),null}r=Te.current,Zc(o)?Dy(o):(r=bA(S,y,d),o.stateNode=r,za(o))}return Wn(o),null;case 5:if(kt(o),S=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==y&&za(o);else{if(!y){if(o.stateNode===null)throw Error(i(166));return Wn(o),null}if(E=Te.current,Zc(o))Dy(o);else{var U=Av(he.current);switch(E){case 1:E=U.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:E=U.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":E=U.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":E=U.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":E=U.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof y.is=="string"?U.createElement("select",{is:y.is}):U.createElement("select"),y.multiple?E.multiple=!0:y.size&&(E.size=y.size);break;default:E=typeof y.is=="string"?U.createElement(S,{is:y.is}):U.createElement(S)}}E[li]=o,E[Hi]=y;e:for(U=o.child;U!==null;){if(U.tag===5||U.tag===6)E.appendChild(U.stateNode);else if(U.tag!==4&&U.tag!==27&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===o)break e;for(;U.sibling===null;){if(U.return===null||U.return===o)break e;U=U.return}U.sibling.return=U.return,U=U.sibling}o.stateNode=E;e:switch(Fs(E,S,y),S){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&za(o)}}return Wn(o),Cf(o,o.type,r===null?null:r.memoizedProps,o.pendingProps,d),null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==y&&za(o);else{if(typeof y!="string"&&o.stateNode===null)throw Error(i(166));if(r=he.current,Zc(o)){if(r=o.stateNode,d=o.memoizedProps,y=null,S=yi,S!==null)switch(S.tag){case 27:case 5:y=S.memoizedProps}r[li]=o,r=!!(r.nodeValue===d||y!==null&&y.suppressHydrationWarning===!0||cA(r.nodeValue,d)),r||Na(o,!0)}else r=Av(r).createTextNode(y),r[li]=o,o.stateNode=r}return Wn(o),null;case 31:if(d=o.memoizedState,r===null||r.memoizedState!==null){if(y=Zc(o),d!==null){if(r===null){if(!y)throw Error(i(318));if(r=o.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[li]=o}else Ko(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wn(o),r=!1}else d=Wd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),r=!0;if(!r)return o.flags&256?(_i(o),o):(_i(o),null);if((o.flags&128)!==0)throw Error(i(558))}return Wn(o),null;case 13:if(y=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(S=Zc(o),y!==null&&y.dehydrated!==null){if(r===null){if(!S)throw Error(i(318));if(S=o.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(i(317));S[li]=o}else Ko(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wn(o),S=!1}else S=Wd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=S),S=!0;if(!S)return o.flags&256?(_i(o),o):(_i(o),null)}return _i(o),(o.flags&128)!==0?(o.lanes=d,o):(d=y!==null,r=r!==null&&r.memoizedState!==null,d&&(y=o.child,S=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(S=y.alternate.memoizedState.cachePool.pool),E=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(E=y.memoizedState.cachePool.pool),E!==S&&(y.flags|=2048)),d!==r&&d&&(o.child.flags|=8192),mo(o,o.updateQueue),Wn(o),null);case 4:return Ze(),r===null&&W_(o.stateNode.containerInfo),Wn(o),null;case 10:return Ia(o.type),Wn(o),null;case 19:if(ue(Sn),y=o.memoizedState,y===null)return Wn(o),null;if(S=(o.flags&128)!==0,E=y.rendering,E===null)if(S)Fa(y,!1);else{if(di!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(E=hr(r),E!==null){for(o.flags|=128,Fa(y,!1),r=E.updateQueue,o.updateQueue=r,mo(o,r),o.subtreeFlags=0,r=d,d=o.child;d!==null;)Wc(d,r),d=d.sibling;return fe(Sn,Sn.current&1|2),_n&&Ca(o,y.treeForkCount),o.child}r=r.sibling}y.tail!==null&&V()>Mi&&(o.flags|=128,S=!0,Fa(y,!1),o.lanes=4194304)}else{if(!S)if(r=hr(E),r!==null){if(o.flags|=128,S=!0,r=r.updateQueue,o.updateQueue=r,mo(o,r),Fa(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!_n)return Wn(o),null}else 2*V()-y.renderingStartTime>Mi&&d!==536870912&&(o.flags|=128,S=!0,Fa(y,!1),o.lanes=4194304);y.isBackwards?(E.sibling=o.child,o.child=E):(r=y.last,r!==null?r.sibling=E:o.child=E,y.last=E)}return y.tail!==null?(r=y.tail,y.rendering=r,y.tail=r.sibling,y.renderingStartTime=V(),r.sibling=null,d=Sn.current,fe(Sn,S?d&1|2:d&1),_n&&Ca(o,y.treeForkCount),r):(Wn(o),null);case 22:case 23:return _i(o),_f(),y=o.memoizedState!==null,r!==null?r.memoizedState!==null!==y&&(o.flags|=8192):y&&(o.flags|=8192),y?(d&536870912)!==0&&(o.flags&128)===0&&(Wn(o),o.subtreeFlags&6&&(o.flags|=8192)):Wn(o),d=o.updateQueue,d!==null&&mo(o,d.retryQueue),d=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),y=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(y=o.memoizedState.cachePool.pool),y!==d&&(o.flags|=2048),r!==null&&ue(el),null;case 24:return d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Ia(Li),Wn(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function Fr(r,o){switch(jd(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Ia(Li),Ze(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return kt(o),null;case 31:if(o.memoizedState!==null){if(_i(o),o.alternate===null)throw Error(i(340));Ko()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 13:if(_i(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Ko()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return ue(Sn),null;case 4:return Ze(),null;case 10:return Ia(o.type),null;case 22:case 23:return _i(o),_f(),r!==null&&ue(el),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Ia(Li),null;case 25:return null;default:return null}}function pr(r,o){switch(jd(o),o.tag){case 3:Ia(Li),Ze();break;case 26:case 27:case 5:kt(o);break;case 4:Ze();break;case 31:o.memoizedState!==null&&_i(o);break;case 13:_i(o);break;case 19:ue(Sn);break;case 10:Ia(o.type);break;case 22:case 23:_i(o),_f(),r!==null&&ue(el);break;case 24:Ia(Li)}}function Br(r,o){try{var d=o.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var S=y.next;d=S;do{if((d.tag&r)===r){y=void 0;var E=d.create,U=d.inst;y=E(),U.destroy=y}d=d.next}while(d!==S)}}catch(W){Pn(o,o.return,W)}}function us(r,o,d){try{var y=o.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var E=S.next;y=E;do{if((y.tag&r)===r){var U=y.inst,W=U.destroy;if(W!==void 0){U.destroy=void 0,S=o;var ie=d,_e=W;try{_e()}catch(Ie){Pn(S,ie,Ie)}}}y=y.next}while(y!==E)}}catch(Ie){Pn(o,o.return,Ie)}}function ca(r){var o=r.updateQueue;if(o!==null){var d=r.stateNode;try{Uy(o,d)}catch(y){Pn(r,r.return,y)}}}function ns(r,o,d){d.props=rl(r.type,r.memoizedProps),d.state=r.memoizedState;try{d.componentWillUnmount()}catch(y){Pn(r,o,y)}}function go(r,o){try{var d=r.ref;if(d!==null){switch(r.tag){case 26:case 27:case 5:var y=r.stateNode;break;case 30:y=r.stateNode;break;default:y=r.stateNode}typeof d=="function"?r.refCleanup=d(y):d.current=y}}catch(S){Pn(r,o,S)}}function fs(r,o){var d=r.ref,y=r.refCleanup;if(d!==null)if(typeof y=="function")try{y()}catch(S){Pn(r,o,S)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(S){Pn(r,o,S)}else d.current=null}function Nf(r){var o=r.type,d=r.memoizedProps,y=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&y.focus();break e;case"img":d.src?y.src=d.src:d.srcSet&&(y.srcset=d.srcSet)}}catch(S){Pn(r,r.return,S)}}function Xi(r,o,d){try{var y=r.stateNode;N5(y,r.type,d,o),y[Hi]=o}catch(S){Pn(r,r.return,S)}}function ai(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&gu(r.type)||r.tag===4}function vn(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ai(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&gu(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ba(r,o,d){var y=r.tag;if(y===5||y===6)r=r.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(r,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(r),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=io));else if(y!==4&&(y===27&&gu(r.type)&&(d=r.stateNode,o=null),r=r.child,r!==null))for(Ba(r,o,d),r=r.sibling;r!==null;)Ba(r,o,d),r=r.sibling}function Ls(r,o,d){var y=r.tag;if(y===5||y===6)r=r.stateNode,o?d.insertBefore(r,o):d.appendChild(r);else if(y!==4&&(y===27&&gu(r.type)&&(d=r.stateNode),r=r.child,r!==null))for(Ls(r,o,d),r=r.sibling;r!==null;)Ls(r,o,d),r=r.sibling}function bh(r){var o=r.stateNode,d=r.memoizedProps;try{for(var y=r.type,S=o.attributes;S.length;)o.removeAttributeNode(S[0]);Fs(o,y,d),o[li]=r,o[Hi]=d}catch(E){Pn(r,r.return,E)}}var kr=!1,Qn=!1,ua=!1,Mv=typeof WeakSet=="function"?WeakSet:Set,is=null;function H_(r,o){if(r=r.containerInfo,Y_=Lv,r=Ey(r),gm(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var y=d.getSelection&&d.getSelection();if(y&&y.rangeCount!==0){d=y.anchorNode;var S=y.anchorOffset,E=y.focusNode;y=y.focusOffset;try{d.nodeType,E.nodeType}catch{d=null;break e}var U=0,W=-1,ie=-1,_e=0,Ie=0,Be=r,Ee=null;t:for(;;){for(var Pe;Be!==d||S!==0&&Be.nodeType!==3||(W=U+S),Be!==E||y!==0&&Be.nodeType!==3||(ie=U+y),Be.nodeType===3&&(U+=Be.nodeValue.length),(Pe=Be.firstChild)!==null;)Ee=Be,Be=Pe;for(;;){if(Be===r)break t;if(Ee===d&&++_e===S&&(W=U),Ee===E&&++Ie===y&&(ie=U),(Pe=Be.nextSibling)!==null)break;Be=Ee,Ee=Be.parentNode}Be=Pe}d=W===-1||ie===-1?null:{start:W,end:ie}}else d=null}d=d||{start:0,end:0}}else d=null;for($_={focusedElem:r,selectionRange:d},Lv=!1,is=o;is!==null;)if(o=is,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,is=r;else for(;is!==null;){switch(o=is,E=o.alternate,r=o.flags,o.tag){case 0:if((r&4)!==0&&(r=o.updateQueue,r=r!==null?r.events:null,r!==null))for(d=0;d<r.length;d++)S=r[d],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&E!==null){r=void 0,d=o,S=E.memoizedProps,E=E.memoizedState,y=d.stateNode;try{var At=rl(d.type,S);r=y.getSnapshotBeforeUpdate(At,E),y.__reactInternalSnapshotBeforeUpdate=r}catch(Xt){Pn(d,d.return,Xt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,d=r.nodeType,d===9)Q_(r);else if(d===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Q_(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,is=r;break}is=o.return}}function oi(r,o,d){var y=d.flags;switch(d.tag){case 0:case 11:case 15:jr(r,d),y&4&&Br(5,d);break;case 1:if(jr(r,d),y&4)if(r=d.stateNode,o===null)try{r.componentDidMount()}catch(U){Pn(d,d.return,U)}else{var S=rl(d.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(S,o,r.__reactInternalSnapshotBeforeUpdate)}catch(U){Pn(d,d.return,U)}}y&64&&ca(d),y&512&&go(d,d.return);break;case 3:if(jr(r,d),y&64&&(r=d.updateQueue,r!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{Uy(r,o)}catch(U){Pn(d,d.return,U)}}break;case 27:o===null&&y&4&&bh(d);case 26:case 5:jr(r,d),o===null&&y&4&&Nf(d),y&512&&go(d,d.return);break;case 12:jr(r,d);break;case 31:jr(r,d),y&4&&al(r,d);break;case 13:jr(r,d),y&4&&ou(r,d),y&64&&(r=d.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(d=v.bind(null,d),F5(r,d))));break;case 22:if(y=d.memoizedState!==null||kr,!y){o=o!==null&&o.memoizedState!==null||Qn,S=kr;var E=Qn;kr=y,(Qn=o)&&!E?Os(r,d,(d.subtreeFlags&8772)!==0):jr(r,d),kr=S,Qn=E}break;case 30:break;default:jr(r,d)}}function Df(r){var o=r.alternate;o!==null&&(r.alternate=null,Df(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&eo(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Bn=null,Ss=!1;function Vr(r,o,d){for(d=d.child;d!==null;)_h(r,o,d),d=d.sibling}function _h(r,o,d){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(Xe,d)}catch{}switch(d.tag){case 26:Qn||fs(d,o),Vr(r,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Qn||fs(d,o);var y=Bn,S=Ss;gu(d.type)&&(Bn=d.stateNode,Ss=!1),Vr(r,o,d),pg(d.stateNode),Bn=y,Ss=S;break;case 5:Qn||fs(d,o);case 6:if(y=Bn,S=Ss,Bn=null,Vr(r,o,d),Bn=y,Ss=S,Bn!==null)if(Ss)try{(Bn.nodeType===9?Bn.body:Bn.nodeName==="HTML"?Bn.ownerDocument.body:Bn).removeChild(d.stateNode)}catch(E){Pn(d,o,E)}else try{Bn.removeChild(d.stateNode)}catch(E){Pn(d,o,E)}break;case 18:Bn!==null&&(Ss?(r=Bn,mA(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,d.stateNode),Rh(r)):mA(Bn,d.stateNode));break;case 4:y=Bn,S=Ss,Bn=d.stateNode.containerInfo,Ss=!0,Vr(r,o,d),Bn=y,Ss=S;break;case 0:case 11:case 14:case 15:us(2,d,o),Qn||us(4,d,o),Vr(r,o,d);break;case 1:Qn||(fs(d,o),y=d.stateNode,typeof y.componentWillUnmount=="function"&&ns(d,o,y)),Vr(r,o,d);break;case 21:Vr(r,o,d);break;case 22:Qn=(y=Qn)||d.memoizedState!==null,Vr(r,o,d),Qn=y;break;default:Vr(r,o,d)}}function al(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Rh(r)}catch(d){Pn(o,o.return,d)}}}function ou(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Rh(r)}catch(d){Pn(o,o.return,d)}}function lg(r){switch(r.tag){case 31:case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new Mv),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new Mv),o;default:throw Error(i(435,r.tag))}}function yo(r,o){var d=lg(r);o.forEach(function(y){if(!d.has(y)){d.add(y);var S=_.bind(null,r,y);y.then(S,S)}})}function qi(r,o){var d=o.deletions;if(d!==null)for(var y=0;y<d.length;y++){var S=d[y],E=r,U=o,W=U;e:for(;W!==null;){switch(W.tag){case 27:if(gu(W.type)){Bn=W.stateNode,Ss=!1;break e}break;case 5:Bn=W.stateNode,Ss=!1;break e;case 3:case 4:Bn=W.stateNode.containerInfo,Ss=!0;break e}W=W.return}if(Bn===null)throw Error(i(160));_h(E,U,S),Bn=null,Ss=!1,E=S.alternate,E!==null&&(E.return=null),S.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)ol(o,r),o=o.sibling}var Hr=null;function ol(r,o){var d=r.alternate,y=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:qi(o,r),Yi(r),y&4&&(us(3,r,r.return),Br(3,r),us(5,r,r.return));break;case 1:qi(o,r),Yi(r),y&512&&(Qn||d===null||fs(d,d.return)),y&64&&kr&&(r=r.updateQueue,r!==null&&(y=r.callbacks,y!==null&&(d=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=d===null?y:d.concat(y))));break;case 26:var S=Hr;if(qi(o,r),Yi(r),y&512&&(Qn||d===null||fs(d,d.return)),y&4){var E=d!==null?d.memoizedState:null;if(y=r.memoizedState,d===null)if(y===null)if(r.stateNode===null){e:{y=r.type,d=r.memoizedProps,S=S.ownerDocument||S;t:switch(y){case"title":E=S.getElementsByTagName("title")[0],(!E||E[aa]||E[li]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=S.createElement(y),S.head.insertBefore(E,S.querySelector("head > title"))),Fs(E,y,d),E[li]=r,G(E),y=E;break e;case"link":var U=EA("link","href",S).get(y+(d.href||""));if(U){for(var W=0;W<U.length;W++)if(E=U[W],E.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&E.getAttribute("rel")===(d.rel==null?null:d.rel)&&E.getAttribute("title")===(d.title==null?null:d.title)&&E.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){U.splice(W,1);break t}}E=S.createElement(y),Fs(E,y,d),S.head.appendChild(E);break;case"meta":if(U=EA("meta","content",S).get(y+(d.content||""))){for(W=0;W<U.length;W++)if(E=U[W],E.getAttribute("content")===(d.content==null?null:""+d.content)&&E.getAttribute("name")===(d.name==null?null:d.name)&&E.getAttribute("property")===(d.property==null?null:d.property)&&E.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&E.getAttribute("charset")===(d.charSet==null?null:d.charSet)){U.splice(W,1);break t}}E=S.createElement(y),Fs(E,y,d),S.head.appendChild(E);break;default:throw Error(i(468,y))}E[li]=r,G(E),y=E}r.stateNode=y}else AA(S,r.type,r.stateNode);else r.stateNode=TA(S,y,r.memoizedProps);else E!==y?(E===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):E.count--,y===null?AA(S,r.type,r.stateNode):TA(S,y,r.memoizedProps)):y===null&&r.stateNode!==null&&Xi(r,r.memoizedProps,d.memoizedProps)}break;case 27:qi(o,r),Yi(r),y&512&&(Qn||d===null||fs(d,d.return)),d!==null&&y&4&&Xi(r,r.memoizedProps,d.memoizedProps);break;case 5:if(qi(o,r),Yi(r),y&512&&(Qn||d===null||fs(d,d.return)),r.flags&32){S=r.stateNode;try{Ii(S,"")}catch(At){Pn(r,r.return,At)}}y&4&&r.stateNode!=null&&(S=r.memoizedProps,Xi(r,S,d!==null?d.memoizedProps:S)),y&1024&&(ua=!0);break;case 6:if(qi(o,r),Yi(r),y&4){if(r.stateNode===null)throw Error(i(162));y=r.memoizedProps,d=r.stateNode;try{d.nodeValue=y}catch(At){Pn(r,r.return,At)}}break;case 3:if(Nv=null,S=Hr,Hr=Cv(o.containerInfo),qi(o,r),Hr=S,Yi(r),y&4&&d!==null&&d.memoizedState.isDehydrated)try{Rh(o.containerInfo)}catch(At){Pn(r,r.return,At)}ua&&(ua=!1,Sh(r));break;case 4:y=Hr,Hr=Cv(r.stateNode.containerInfo),qi(o,r),Yi(r),Hr=y;break;case 12:qi(o,r),Yi(r);break;case 31:qi(o,r),Yi(r),y&4&&(y=r.updateQueue,y!==null&&(r.updateQueue=null,yo(r,y)));break;case 13:qi(o,r),Yi(r),r.child.flags&8192&&r.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(lu=V()),y&4&&(y=r.updateQueue,y!==null&&(r.updateQueue=null,yo(r,y)));break;case 22:S=r.memoizedState!==null;var ie=d!==null&&d.memoizedState!==null,_e=kr,Ie=Qn;if(kr=_e||S,Qn=Ie||ie,qi(o,r),Qn=Ie,kr=_e,Yi(r),y&8192)e:for(o=r.stateNode,o._visibility=S?o._visibility&-2:o._visibility|1,S&&(d===null||ie||kr||Qn||ka(r)),d=null,o=r;;){if(o.tag===5||o.tag===26){if(d===null){ie=d=o;try{if(E=ie.stateNode,S)U=E.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{W=ie.stateNode;var Be=ie.memoizedProps.style,Ee=Be!=null&&Be.hasOwnProperty("display")?Be.display:null;W.style.display=Ee==null||typeof Ee=="boolean"?"":(""+Ee).trim()}}catch(At){Pn(ie,ie.return,At)}}}else if(o.tag===6){if(d===null){ie=o;try{ie.stateNode.nodeValue=S?"":ie.memoizedProps}catch(At){Pn(ie,ie.return,At)}}}else if(o.tag===18){if(d===null){ie=o;try{var Pe=ie.stateNode;S?gA(Pe,!0):gA(ie.stateNode,!1)}catch(At){Pn(ie,ie.return,At)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}y&4&&(y=r.updateQueue,y!==null&&(d=y.retryQueue,d!==null&&(y.retryQueue=null,yo(r,d))));break;case 19:qi(o,r),Yi(r),y&4&&(y=r.updateQueue,y!==null&&(r.updateQueue=null,yo(r,y)));break;case 30:break;case 21:break;default:qi(o,r),Yi(r)}}function Yi(r){var o=r.flags;if(o&2){try{for(var d,y=r.return;y!==null;){if(ai(y)){d=y;break}y=y.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var S=d.stateNode,E=vn(r);Ls(r,E,S);break;case 5:var U=d.stateNode;d.flags&32&&(Ii(U,""),d.flags&=-33);var W=vn(r);Ls(r,W,U);break;case 3:case 4:var ie=d.stateNode.containerInfo,_e=vn(r);Ba(r,_e,ie);break;default:throw Error(i(161))}}catch(Ie){Pn(r,r.return,Ie)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function Sh(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;Sh(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function jr(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)oi(r,o.alternate,o),o=o.sibling}function ka(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:us(4,o,o.return),ka(o);break;case 1:fs(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&ns(o,o.return,d),ka(o);break;case 27:pg(o.stateNode);case 26:case 5:fs(o,o.return),ka(o);break;case 22:o.memoizedState===null&&ka(o);break;case 30:ka(o);break;default:ka(o)}r=r.sibling}}function Os(r,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var y=o.alternate,S=r,E=o,U=E.flags;switch(E.tag){case 0:case 11:case 15:Os(S,E,d),Br(4,E);break;case 1:if(Os(S,E,d),y=E,S=y.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(_e){Pn(y,y.return,_e)}if(y=E,S=y.updateQueue,S!==null){var W=y.stateNode;try{var ie=S.shared.hiddenCallbacks;if(ie!==null)for(S.shared.hiddenCallbacks=null,S=0;S<ie.length;S++)tu(ie[S],W)}catch(_e){Pn(y,y.return,_e)}}d&&U&64&&ca(E),go(E,E.return);break;case 27:bh(E);case 26:case 5:Os(S,E,d),d&&y===null&&U&4&&Nf(E),go(E,E.return);break;case 12:Os(S,E,d);break;case 31:Os(S,E,d),d&&U&4&&al(S,E);break;case 13:Os(S,E,d),d&&U&4&&ou(S,E);break;case 22:E.memoizedState===null&&Os(S,E,d),go(E,E.return);break;case 30:break;default:Os(S,E,d)}o=o.sibling}}function ll(r,o){var d=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==d&&(r!=null&&r.refCount++,d!=null&&Xl(d))}function ac(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Xl(r))}function ds(r,o,d,y){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)cg(r,o,d,y),o=o.sibling}function cg(r,o,d,y){var S=o.flags;switch(o.tag){case 0:case 11:case 15:ds(r,o,d,y),S&2048&&Br(9,o);break;case 1:ds(r,o,d,y);break;case 3:ds(r,o,d,y),S&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Xl(r)));break;case 12:if(S&2048){ds(r,o,d,y),r=o.stateNode;try{var E=o.memoizedProps,U=E.id,W=E.onPostCommit;typeof W=="function"&&W(U,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ie){Pn(o,o.return,ie)}}else ds(r,o,d,y);break;case 31:ds(r,o,d,y);break;case 13:ds(r,o,d,y);break;case 23:break;case 22:E=o.stateNode,U=o.alternate,o.memoizedState!==null?E._visibility&2?ds(r,o,d,y):Va(r,o):E._visibility&2?ds(r,o,d,y):(E._visibility|=2,hs(r,o,d,y,(o.subtreeFlags&10256)!==0||!1)),S&2048&&ll(U,o);break;case 24:ds(r,o,d,y),S&2048&&ac(o.alternate,o);break;default:ds(r,o,d,y)}}function hs(r,o,d,y,S){for(S=S&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var E=r,U=o,W=d,ie=y,_e=U.flags;switch(U.tag){case 0:case 11:case 15:hs(E,U,W,ie,S),Br(8,U);break;case 23:break;case 22:var Ie=U.stateNode;U.memoizedState!==null?Ie._visibility&2?hs(E,U,W,ie,S):Va(E,U):(Ie._visibility|=2,hs(E,U,W,ie,S)),S&&_e&2048&&ll(U.alternate,U);break;case 24:hs(E,U,W,ie,S),S&&_e&2048&&ac(U.alternate,U);break;default:hs(E,U,W,ie,S)}o=o.sibling}}function Va(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=r,y=o,S=y.flags;switch(y.tag){case 22:Va(d,y),S&2048&&ll(y.alternate,y);break;case 24:Va(d,y),S&2048&&ac(y.alternate,y);break;default:Va(d,y)}o=o.sibling}}var oc=8192;function mr(r,o,d){if(r.subtreeFlags&oc)for(r=r.child;r!==null;)wh(r,o,d),r=r.sibling}function wh(r,o,d){switch(r.tag){case 26:mr(r,o,d),r.flags&oc&&r.memoizedState!==null&&Z5(d,Hr,r.memoizedState,r.memoizedProps);break;case 5:mr(r,o,d);break;case 3:case 4:var y=Hr;Hr=Cv(r.stateNode.containerInfo),mr(r,o,d),Hr=y;break;case 22:r.memoizedState===null&&(y=r.alternate,y!==null&&y.memoizedState!==null?(y=oc,oc=16777216,mr(r,o,d),oc=y):mr(r,o,d));break;default:mr(r,o,d)}}function lc(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function cl(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var y=o[d];is=y,vi(y,r)}lc(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)qs(r),r=r.sibling}function qs(r){switch(r.tag){case 0:case 11:case 15:cl(r),r.flags&2048&&us(9,r,r.return);break;case 3:cl(r);break;case 12:cl(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,Ys(r)):cl(r);break;default:cl(r)}}function Ys(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var y=o[d];is=y,vi(y,r)}lc(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:us(8,o,o.return),Ys(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,Ys(o));break;default:Ys(o)}r=r.sibling}}function vi(r,o){for(;is!==null;){var d=is;switch(d.tag){case 0:case 11:case 15:us(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var y=d.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:Xl(d.memoizedState.cache)}if(y=d.child,y!==null)y.return=d,is=y;else e:for(d=r;is!==null;){y=is;var S=y.sibling,E=y.return;if(Df(y),y===d){is=null;break e}if(S!==null){S.return=E,is=S;break e}is=E}}}var vo={getCacheForType:function(r){var o=qt(Li),d=o.data.get(r);return d===void 0&&(d=r(),o.data.set(r,d)),d},cacheSignal:function(){return qt(Li).controller.signal}},nn=typeof WeakMap=="function"?WeakMap:Map,Lt=0,Zt=null,ln=null,rn=0,Mn=0,ws=null,Gr=!1,fa=!1,ug=!1,gr=0,di=0,Ha=0,ul=0,Pf=0,Us=0,ni=0,cc=null,xi=null,bi=!1,lu=0,fg=0,Mi=1/0,hi=null,Ti=null,kn=0,yr=null,cu=null,Wr=0,uu=0,fu=null,If=null,fl=0,uc=null;function vr(){return(Lt&2)!==0&&rn!==0?rn&-rn:X.T!==null?Re():ko()}function pn(){if(Us===0)if((rn&536870912)===0||_n){var r=Qe;Qe<<=1,(Qe&3932160)===0&&(Qe=262144),Us=r}else Us=536870912;return r=js.current,r!==null&&(r.flags|=32),Us}function cn(r,o,d){(r===Zt&&(Mn===2||Mn===9)||r.cancelPendingCommit!==null)&&(hl(r,0),Ui(r,rn,Us,!1)),wn(r,d),((Lt&2)===0||r!==Zt)&&(r===Zt&&((Lt&2)===0&&(ul|=d),di===4&&Ui(r,rn,Us,!1)),Ye(r))}function mn(r,o,d){if((Lt&6)!==0)throw Error(i(327));var y=!d&&(o&127)===0&&(o&r.expiredLanes)===0||Ge(r,o),S=y?Lf(r,o):zs(r,o,!0),E=y;do{if(S===0){fa&&!y&&Ui(r,o,0,!1);break}else{if(d=r.current.alternate,E&&!Vn(d)){S=zs(r,o,!1),E=!1;continue}if(S===2){if(E=o,r.errorRecoveryDisabledLanes&E)var U=0;else U=r.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){o=U;e:{var W=r;S=cc;var ie=W.current.memoizedState.isDehydrated;if(ie&&(hl(W,U).flags|=256),U=zs(W,U,!1),U!==2){if(ug&&!ie){W.errorRecoveryDisabledLanes|=E,ul|=E,S=4;break e}E=xi,xi=S,E!==null&&(xi===null?xi=E:xi.push.apply(xi,E))}S=U}if(E=!1,S!==2)continue}}if(S===1){hl(r,0),Ui(r,o,0,!0);break}e:{switch(y=r,E=S,E){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Ui(y,o,Us,!Gr);break e;case 2:xi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(S=lu+300-V(),10<S)){if(Ui(y,o,Us,!Gr),xe(y,0,!0)!==0)break e;Wr=o,y.timeoutHandle=hA(xn.bind(null,y,d,xi,hi,bi,o,Us,ul,ni,Gr,E,"Throttled",-0,0),S);break e}xn(y,d,xi,hi,bi,o,Us,ul,ni,Gr,E,null,-0,0)}}break}while(!0);Ye(r)}function xn(r,o,d,y,S,E,U,W,ie,_e,Ie,Be,Ee,Pe){if(r.timeoutHandle=-1,Be=o.subtreeFlags,Be&8192||(Be&16785408)===16785408){Be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:io},wh(o,E,Be);var At=(E&62914560)===E?lu-V():(E&4194048)===E?fg-V():0;if(At=K5(Be,At),At!==null){Wr=E,r.cancelPendingCommit=At(bo.bind(null,r,o,E,d,y,S,U,W,ie,Ie,Be,null,Ee,Pe)),Ui(r,E,U,!_e);return}}bo(r,o,E,d,y,S,U,W,ie)}function Vn(r){for(var o=r;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var y=0;y<d.length;y++){var S=d[y],E=S.getSnapshot;S=S.value;try{if(!Ns(E(),S))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ui(r,o,d,y){o&=~Pf,o&=~ul,r.suspendedLanes|=o,r.pingedLanes&=~o,y&&(r.warmLanes|=o),y=r.expirationTimes;for(var S=o;0<S;){var E=31-dt(S),U=1<<E;y[E]=-1,S&=~U}d!==0&&sr(r,d,o)}function da(){return(Lt&6)===0?(vt(0),!1):!0}function dl(){if(ln!==null){if(Mn===0)var r=ln.return;else r=ln,Pa=Qo=null,Lm(r),Kl=null,Ql=0,r=ln;for(;r!==null;)pr(r.alternate,r),r=r.return;ln=null}}function hl(r,o){var d=r.timeoutHandle;d!==-1&&(r.timeoutHandle=-1,I5(d)),d=r.cancelPendingCommit,d!==null&&(r.cancelPendingCommit=null,d()),Wr=0,dl(),Zt=r,ln=d=ks(r.current,null),rn=o,Mn=0,ws=null,Gr=!1,fa=Ge(r,o),ug=!1,ni=Us=Pf=ul=Ha=di=0,xi=cc=null,bi=!1,(o&8)!==0&&(o|=o&32);var y=r.entangledLanes;if(y!==0)for(r=r.entanglements,y&=o;0<y;){var S=31-dt(y),E=1<<S;o|=r[S],y&=~E}return gr=o,hf(),d}function ja(r,o){tn=null,X.H=ru,o===ql||o===on?(o=$l(),Mn=3):o===yf?(o=$l(),Mn=4):Mn=o===fh?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ws=o,ln===null&&(di=1,uh(r,ur(o,r.current)))}function pi(){var r=js.current;return r===null?!0:(rn&4194048)===rn?Is===null:(rn&62914560)===rn||(rn&536870912)!==0?r===Is:!1}function xo(){var r=X.H;return X.H=ru,r===null?ru:r}function pl(){var r=X.A;return X.A=vo,r}function du(){di=4,Gr||(rn&4194048)!==rn&&js.current!==null||(fa=!0),(Ha&134217727)===0&&(ul&134217727)===0||Zt===null||Ui(Zt,rn,Us,!1)}function zs(r,o,d){var y=Lt;Lt|=2;var S=xo(),E=pl();(Zt!==r||rn!==o)&&(hi=null,hl(r,o)),o=!1;var U=di;e:do try{if(Mn!==0&&ln!==null){var W=ln,ie=ws;switch(Mn){case 8:dl(),U=6;break e;case 3:case 2:case 9:case 6:js.current===null&&(o=!0);var _e=Mn;if(Mn=0,ws=null,fc(r,W,ie,_e),d&&fa){U=0;break e}break;default:_e=Mn,Mn=0,ws=null,fc(r,W,ie,_e)}}hu(),U=di;break}catch(Ie){ja(r,Ie)}while(!0);return o&&r.shellSuspendCounter++,Pa=Qo=null,Lt=y,X.H=S,X.A=E,ln===null&&(Zt=null,rn=0,hf()),U}function hu(){for(;ln!==null;)Mh(ln)}function Lf(r,o){var d=Lt;Lt|=2;var y=xo(),S=pl();Zt!==r||rn!==o?(hi=null,Mi=V()+500,hl(r,o)):fa=Ge(r,o);e:do try{if(Mn!==0&&ln!==null){o=ln;var E=ws;t:switch(Mn){case 1:Mn=0,ws=null,fc(r,o,E,1);break;case 2:case 9:if(Hs(E)){Mn=0,ws=null,Of(o);break}o=function(){Mn!==2&&Mn!==9||Zt!==r||(Mn=7),Ye(r)},E.then(o,o);break e;case 3:Mn=7;break e;case 4:Mn=5;break e;case 7:Hs(E)?(Mn=0,ws=null,Of(o)):(Mn=0,ws=null,fc(r,o,E,7));break;case 5:var U=null;switch(ln.tag){case 26:U=ln.memoizedState;case 5:case 27:var W=ln;if(U?CA(U):W.stateNode.complete){Mn=0,ws=null;var ie=W.sibling;if(ie!==null)ln=ie;else{var _e=W.return;_e!==null?(ln=_e,ml(_e)):ln=null}break t}}Mn=0,ws=null,fc(r,o,E,5);break;case 6:Mn=0,ws=null,fc(r,o,E,6);break;case 8:dl(),di=6;break e;default:throw Error(i(462))}}$s();break}catch(Ie){ja(r,Ie)}while(!0);return Pa=Qo=null,X.H=y,X.A=S,Lt=d,ln!==null?0:(Zt=null,rn=0,hf(),di)}function $s(){for(;ln!==null&&!He();)Mh(ln)}function Mh(r){var o=xh(r.alternate,r,gr);r.memoizedProps=r.pendingProps,o===null?ml(r):ln=o}function Of(r){var o=r,d=o.alternate;switch(o.tag){case 15:case 0:o=Ef(d,o,o.pendingProps,o.type,void 0,rn);break;case 11:o=Ef(d,o,o.pendingProps,o.type.render,o.ref,rn);break;case 5:Lm(o);default:pr(d,o),o=ln=Wc(o,gr),o=xh(d,o,gr)}r.memoizedProps=r.pendingProps,o===null?ml(r):ln=o}function fc(r,o,d,y){Pa=Qo=null,Lm(o),Kl=null,Ql=0;var S=o.return;try{if(Wi(r,S,o,d,rn)){di=1,uh(r,ur(d,r.current)),ln=null;return}}catch(E){if(S!==null)throw ln=S,E;di=1,uh(r,ur(d,r.current)),ln=null;return}o.flags&32768?(_n||y===1?r=!0:fa||(rn&536870912)!==0?r=!1:(Gr=r=!0,(y===2||y===9||y===3||y===6)&&(y=js.current,y!==null&&y.tag===13&&(y.flags|=16384))),Uf(o,r)):ml(o)}function ml(r){var o=r;do{if((o.flags&32768)!==0){Uf(o,Gr);return}r=o.return;var d=Rf(o.alternate,o,gr);if(d!==null){ln=d;return}if(o=o.sibling,o!==null){ln=o;return}ln=o=r}while(o!==null);di===0&&(di=5)}function Uf(r,o){do{var d=Fr(r.alternate,r);if(d!==null){d.flags&=32767,ln=d;return}if(d=r.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(r=r.sibling,r!==null)){ln=r;return}ln=r=d}while(r!==null);di=6,ln=null}function bo(r,o,d,y,S,E,U,W,ie){r.cancelPendingCommit=null;do pu();while(kn!==0);if((Lt&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(E=o.lanes|o.childLanes,E|=Ji,Yn(r,d,E,U,W,ie),r===Zt&&(ln=Zt=null,rn=0),cu=o,yr=r,Wr=d,uu=E,fu=S,If=y,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,R(Ne,function(){return Th(),null})):(r.callbackNode=null,r.callbackPriority=0),y=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||y){y=X.T,X.T=null,S=Z.p,Z.p=2,U=Lt,Lt|=4;try{H_(r,o,d)}finally{Lt=U,Z.p=S,X.T=y}}kn=1,zi(),_o(),dc()}}function zi(){if(kn===1){kn=0;var r=yr,o=cu,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=X.T,X.T=null;var y=Z.p;Z.p=2;var S=Lt;Lt|=4;try{ol(o,r);var E=$_,U=Ey(r.containerInfo),W=E.focusedElem,ie=E.selectionRange;if(U!==W&&W&&W.ownerDocument&&Zn(W.ownerDocument.documentElement,W)){if(ie!==null&&gm(W)){var _e=ie.start,Ie=ie.end;if(Ie===void 0&&(Ie=_e),"selectionStart"in W)W.selectionStart=_e,W.selectionEnd=Math.min(Ie,W.value.length);else{var Be=W.ownerDocument||document,Ee=Be&&Be.defaultView||window;if(Ee.getSelection){var Pe=Ee.getSelection(),At=W.textContent.length,Xt=Math.min(ie.start,At),ei=ie.end===void 0?Xt:Math.min(ie.end,At);!Pe.extend&&Xt>ei&&(U=ei,ei=Xt,Xt=U);var pe=Hc(W,Xt),le=Hc(W,ei);if(pe&&le&&(Pe.rangeCount!==1||Pe.anchorNode!==pe.node||Pe.anchorOffset!==pe.offset||Pe.focusNode!==le.node||Pe.focusOffset!==le.offset)){var be=Be.createRange();be.setStart(pe.node,pe.offset),Pe.removeAllRanges(),Xt>ei?(Pe.addRange(be),Pe.extend(le.node,le.offset)):(be.setEnd(le.node,le.offset),Pe.addRange(be))}}}}for(Be=[],Pe=W;Pe=Pe.parentNode;)Pe.nodeType===1&&Be.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Be.length;W++){var ze=Be[W];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}Lv=!!Y_,$_=Y_=null}finally{Lt=S,Z.p=y,X.T=d}}r.current=o,kn=2}}function _o(){if(kn===2){kn=0;var r=yr,o=cu,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=X.T,X.T=null;var y=Z.p;Z.p=2;var S=Lt;Lt|=4;try{oi(r,o.alternate,o)}finally{Lt=S,Z.p=y,X.T=d}}kn=3}}function dc(){if(kn===4||kn===3){kn=0,Y();var r=yr,o=cu,d=Wr,y=If;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?kn=5:(kn=0,cu=yr=null,Ga(r,r.pendingLanes));var S=r.pendingLanes;if(S===0&&(Ti=null),ls(d),o=o.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(Xe,o,void 0,(o.current.flags&128)===128)}catch{}if(y!==null){o=X.T,S=Z.p,Z.p=2,X.T=null;try{for(var E=r.onRecoverableError,U=0;U<y.length;U++){var W=y[U];E(W.value,{componentStack:W.stack})}}finally{X.T=o,Z.p=S}}(Wr&3)!==0&&pu(),Ye(r),S=r.pendingLanes,(d&261930)!==0&&(S&42)!==0?r===uc?fl++:(fl=0,uc=r):fl=0,vt(0)}}function Ga(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Xl(o)))}function pu(){return zi(),_o(),dc(),Th()}function Th(){if(kn!==5)return!1;var r=yr,o=uu;uu=0;var d=ls(Wr),y=X.T,S=Z.p;try{Z.p=32>d?32:d,X.T=null,d=fu,fu=null;var E=yr,U=Wr;if(kn=0,cu=yr=null,Wr=0,(Lt&6)!==0)throw Error(i(331));var W=Lt;if(Lt|=4,qs(E.current),cg(E,E.current,U,d),Lt=W,vt(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(Xe,E)}catch{}return!0}finally{Z.p=S,X.T=y,Ga(r,o)}}function dg(r,o,d){o=ur(d,o),o=ng(r.stateNode,o,2),r=tl(r,o,2),r!==null&&(wn(r,2),Ye(r))}function Pn(r,o,d){if(r.tag===3)dg(r,r,d);else for(;o!==null;){if(o.tag===3){dg(o,r,d);break}else if(o.tag===1){var y=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Ti===null||!Ti.has(y))){r=ur(d,r),d=ig(2),y=tl(o,d,2),y!==null&&(xv(d,y,o,r),wn(y,2),Ye(y));break}}o=o.return}}function zf(r,o,d){var y=r.pingCache;if(y===null){y=r.pingCache=new nn;var S=new Set;y.set(o,S)}else S=y.get(o),S===void 0&&(S=new Set,y.set(o,S));S.has(d)||(ug=!0,S.add(d),r=c.bind(null,r,o,d),o.then(r,r))}function c(r,o,d){var y=r.pingCache;y!==null&&y.delete(o),r.pingedLanes|=r.suspendedLanes&d,r.warmLanes&=~d,Zt===r&&(rn&d)===d&&(di===4||di===3&&(rn&62914560)===rn&&300>V()-lu?(Lt&2)===0&&hl(r,0):Pf|=d,ni===rn&&(ni=0)),Ye(r)}function f(r,o){o===0&&(o=Gt()),r=Ds(r,o),r!==null&&(wn(r,o),Ye(r))}function v(r){var o=r.memoizedState,d=0;o!==null&&(d=o.retryLane),f(r,d)}function _(r,o){var d=0;switch(r.tag){case 31:case 13:var y=r.stateNode,S=r.memoizedState;S!==null&&(d=S.retryLane);break;case 19:y=r.stateNode;break;case 22:y=r.stateNode._retryCache;break;default:throw Error(i(314))}y!==null&&y.delete(o),f(r,d)}function R(r,o){return ot(r,o)}var P=null,j=null,re=!1,De=!1,We=!1,st=0;function Ye(r){r!==j&&r.next===null&&(j===null?P=j=r:j=j.next=r),De=!0,re||(re=!0,ge())}function vt(r,o){if(!We&&De){We=!0;do for(var d=!1,y=P;y!==null;){if(r!==0){var S=y.pendingLanes;if(S===0)var E=0;else{var U=y.suspendedLanes,W=y.pingedLanes;E=(1<<31-dt(42|r)+1)-1,E&=S&~(U&~W),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(d=!0,Me(y,E))}else E=rn,E=xe(y,y===Zt?E:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(E&3)===0||Ge(y,E)||(d=!0,Me(y,E));y=y.next}while(d);We=!1}}function en(){Ei()}function Ei(){De=re=!1;var r=0;st!==0&&P5()&&(r=st);for(var o=V(),d=null,y=P;y!==null;){var S=y.next,E=mu(y,o);E===0?(y.next=null,d===null?P=S:d.next=S,S===null&&(j=d)):(d=y,(r!==0||(E&3)!==0)&&(De=!0)),y=S}kn!==0&&kn!==5||vt(r),st!==0&&(st=0)}function mu(r,o){for(var d=r.suspendedLanes,y=r.pingedLanes,S=r.expirationTimes,E=r.pendingLanes&-62914561;0<E;){var U=31-dt(E),W=1<<U,ie=S[U];ie===-1?((W&d)===0||(W&y)!==0)&&(S[U]=wt(W,o)):ie<=o&&(r.expiredLanes|=W),E&=~W}if(o=Zt,d=rn,d=xe(r,r===o?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),y=r.callbackNode,d===0||r===o&&(Mn===2||Mn===9)||r.cancelPendingCommit!==null)return y!==null&&y!==null&&Nt(y),r.callbackNode=null,r.callbackPriority=0;if((d&3)===0||Ge(r,d)){if(o=d&-d,o===r.callbackPriority)return o;switch(y!==null&&Nt(y),ls(d)){case 2:case 8:d=Ue;break;case 32:d=Ne;break;case 268435456:d=Ke;break;default:d=Ne}return y=gl.bind(null,r),d=ot(d,y),r.callbackPriority=o,r.callbackNode=d,o}return y!==null&&y!==null&&Nt(y),r.callbackPriority=2,r.callbackNode=null,2}function gl(r,o){if(kn!==0&&kn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var d=r.callbackNode;if(pu()&&r.callbackNode!==d)return null;var y=rn;return y=xe(r,r===Zt?y:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),y===0?null:(mn(r,y,o),mu(r,V()),r.callbackNode!=null&&r.callbackNode===d?gl.bind(null,r):null)}function Me(r,o){if(pu())return null;mn(r,o,!0)}function ge(){L5(function(){(Lt&6)!==0?ot(Ce,en):Ei()})}function Re(){if(st===0){var r=co;r===0&&(r=lt,lt<<=1,(lt&261888)===0&&(lt=256)),st=r}return st}function nt(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Qu(""+r)}function Bt(r,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,r.id&&d.setAttribute("form",r.id),o.parentNode.insertBefore(d,o),r=new FormData(r),d.parentNode.removeChild(d),r}function mi(r,o,d,y,S){if(o==="submit"&&d&&d.stateNode===S){var E=nt((S[Hi]||null).action),U=y.submitter;U&&(o=(o=U[Hi]||null)?nt(o.formAction):U.getAttribute("formAction"),o!==null&&(E=o,U=null));var W=new tf("action","action",null,y,S);r.push({event:W,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(st!==0){var ie=U?Bt(S,U):new FormData(S);Ym(d,{pending:!0,data:ie,method:S.method,action:E},null,ie)}}else typeof E=="function"&&(W.preventDefault(),ie=U?Bt(S,U):new FormData(S),Ym(d,{pending:!0,data:ie,method:S.method,action:E},E,ie))},currentTarget:S}]})}}for(var jt=0;jt<ff.length;jt++){var An=ff[jt],ss=An.toLowerCase(),In=An[0].toUpperCase()+An.slice(1);Dr(ss,"on"+In)}Dr(Fd,"onAnimationEnd"),Dr(uf,"onAnimationIteration"),Dr(vm,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Cy,"onTransitionRun"),Dr(L_,"onTransitionStart"),Dr(Ry,"onTransitionCancel"),Dr(xm,"onTransitionEnd"),me("onMouseEnter",["mouseout","mouseover"]),me("onMouseLeave",["mouseout","mouseover"]),me("onPointerEnter",["pointerout","pointerover"]),me("onPointerLeave",["pointerout","pointerover"]),we("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),we("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),we("onBeforeInput",["compositionend","keypress","textInput","paste"]),we("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),we("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),we("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xr));function rA(r,o){o=(o&4)!==0;for(var d=0;d<r.length;d++){var y=r[d],S=y.event;y=y.listeners;e:{var E=void 0;if(o)for(var U=y.length-1;0<=U;U--){var W=y[U],ie=W.instance,_e=W.currentTarget;if(W=W.listener,ie!==E&&S.isPropagationStopped())break e;E=W,S.currentTarget=_e;try{E(S)}catch(Ie){df(Ie)}S.currentTarget=null,E=ie}else for(U=0;U<y.length;U++){if(W=y[U],ie=W.instance,_e=W.currentTarget,W=W.listener,ie!==E&&S.isPropagationStopped())break e;E=W,S.currentTarget=_e;try{E(S)}catch(Ie){df(Ie)}S.currentTarget=null,E=ie}}}}function Tn(r,o){var d=o[or];d===void 0&&(d=o[or]=new Set);var y=r+"__bubble";d.has(y)||(aA(o,r,2,!1),d.add(y))}function G_(r,o,d){var y=0;o&&(y|=4),aA(d,r,y,o)}var Tv="_reactListening"+Math.random().toString(36).slice(2);function W_(r){if(!r[Tv]){r[Tv]=!0,de.forEach(function(d){d!=="selectionchange"&&(j_.has(d)||G_(d,!1,r),G_(d,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Tv]||(o[Tv]=!0,G_("selectionchange",!1,o))}}function aA(r,o,d,y){switch(OA(o)){case 2:var S=e4;break;case 8:S=t4;break;default:S=aS}d=S.bind(null,o,d,r),S=void 0,!em||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(S=!0),y?S!==void 0?r.addEventListener(o,d,{capture:!0,passive:S}):r.addEventListener(o,d,!0):S!==void 0?r.addEventListener(o,d,{passive:S}):r.addEventListener(o,d,!1)}function X_(r,o,d,y,S){var E=y;if((o&1)===0&&(o&2)===0&&y!==null)e:for(;;){if(y===null)return;var U=y.tag;if(U===3||U===4){var W=y.stateNode.containerInfo;if(W===S)break;if(U===4)for(U=y.return;U!==null;){var ie=U.tag;if((ie===3||ie===4)&&U.stateNode.containerInfo===S)return;U=U.return}for(;W!==null;){if(U=to(W),U===null)return;if(ie=U.tag,ie===5||ie===6||ie===26||ie===27){y=E=U;continue e}W=W.parentNode}}y=y.return}Jp(function(){var _e=E,Ie=Td(d),Be=[];e:{var Ee=Nr.get(r);if(Ee!==void 0){var Pe=tf,At=r;switch(r){case"keypress":if(ef(d)===0)break e;case"keydown":case"keyup":Pe=Vl;break;case"focusin":At="focus",Pe=Rd;break;case"focusout":At="blur",Pe=Rd;break;case"beforeblur":case"afterblur":Pe=Rd;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=ly;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=py;break;case Fd:case uf:case vm:Pe=D_;break;case xm:Pe=I_;break;case"scroll":case"scrollend":Pe=ay;break;case"wheel":Pe=gy;break;case"copy":case"cut":case"paste":Pe=uy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=sm;break;case"toggle":case"beforetoggle":Pe=vy}var Xt=(o&4)!==0,ei=!Xt&&(r==="scroll"||r==="scrollend"),pe=Xt?Ee!==null?Ee+"Capture":null:Ee;Xt=[];for(var le=_e,be;le!==null;){var ze=le;if(be=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||be===null||pe===null||(ze=Ic(le,pe),ze!=null&&Xt.push(hg(le,ze,be))),ei)break;le=le.return}0<Xt.length&&(Ee=new Pe(Ee,At,null,d,Ie),Be.push({event:Ee,listeners:Xt}))}}if((o&7)===0){e:{if(Ee=r==="mouseover"||r==="pointerover",Pe=r==="mouseout"||r==="pointerout",Ee&&d!==Md&&(At=d.relatedTarget||d.fromElement)&&(to(At)||At[ar]))break e;if((Pe||Ee)&&(Ee=Ie.window===Ie?Ie:(Ee=Ie.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Pe?(At=d.relatedTarget||d.toElement,Pe=_e,At=At?to(At):null,At!==null&&(ei=a(At),Xt=At.tag,At!==ei||Xt!==5&&Xt!==27&&Xt!==6)&&(At=null)):(Pe=null,At=_e),Pe!==At)){if(Xt=tm,ze="onMouseLeave",pe="onMouseEnter",le="mouse",(r==="pointerout"||r==="pointerover")&&(Xt=sm,ze="onPointerLeave",pe="onPointerEnter",le="pointer"),ei=Pe==null?Ee:Ho(Pe),be=At==null?Ee:Ho(At),Ee=new Xt(ze,le+"leave",Pe,d,Ie),Ee.target=ei,Ee.relatedTarget=be,ze=null,to(Ie)===_e&&(Xt=new Xt(pe,le+"enter",At,d,Ie),Xt.target=be,Xt.relatedTarget=ei,ze=Xt),ei=ze,Pe&&At)t:{for(Xt=A5,pe=Pe,le=At,be=0,ze=pe;ze;ze=Xt(ze))be++;ze=0;for(var Ft=le;Ft;Ft=Xt(Ft))ze++;for(;0<be-ze;)pe=Xt(pe),be--;for(;0<ze-be;)le=Xt(le),ze--;for(;be--;){if(pe===le||le!==null&&pe===le.alternate){Xt=pe;break t}pe=Xt(pe),le=Xt(le)}Xt=null}else Xt=null;Pe!==null&&oA(Be,Ee,Pe,Xt,!1),At!==null&&ei!==null&&oA(Be,ei,At,Xt,!0)}}e:{if(Ee=_e?Ho(_e):window,Pe=Ee.nodeName&&Ee.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&Ee.type==="file")var zn=fm;else if(um(Ee))if(Ma)zn=Ty;else{zn=pm;var It=wy}else Pe=Ee.nodeName,!Pe||Pe.toLowerCase()!=="input"||Ee.type!=="checkbox"&&Ee.type!=="radio"?_e&&Cr(_e.elementType)&&(zn=fm):zn=My;if(zn&&(zn=zn(r,_e))){Ud(Be,zn,d,Ie);break e}It&&It(r,Ee,_e),r==="focusout"&&_e&&Ee.type==="number"&&_e.memoizedProps.value!=null&&ti(Ee,"number",Ee.value)}switch(It=_e?Ho(_e):window,r){case"focusin":(um(It)||It.contentEditable==="true")&&(Ta=It,Ea=_e,jc=null);break;case"focusout":jc=Ea=Ta=null;break;case"mousedown":zd=!0;break;case"contextmenu":case"mouseup":case"dragend":zd=!1,Gc(Be,d,Ie);break;case"selectionchange":if(Ay)break;case"keydown":case"keyup":Gc(Be,d,Ie)}var dn;if(Hl)e:{switch(r){case"compositionstart":var Cn="onCompositionStart";break e;case"compositionend":Cn="onCompositionEnd";break e;case"compositionupdate":Cn="onCompositionUpdate";break e}Cn=void 0}else jl?Od(r,d)&&(Cn="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(Cn="onCompositionStart");Cn&&(am&&d.locale!=="ko"&&(jl||Cn!=="onCompositionStart"?Cn==="onCompositionEnd"&&jl&&(dn=Ju()):(cr=Ie,Ad="value"in cr?cr.value:cr.textContent,jl=!0)),It=Ev(_e,Cn),0<It.length&&(Cn=new Nd(Cn,r,null,d,Ie),Be.push({event:Cn,listeners:It}),dn?Cn.data=dn:(dn=om(d),dn!==null&&(Cn.data=dn)))),(dn=Ld?_y(r,d):lm(r,d))&&(Cn=Ev(_e,"onBeforeInput"),0<Cn.length&&(It=new Nd("onBeforeInput","beforeinput",null,d,Ie),Be.push({event:It,listeners:Cn}),It.data=dn)),mi(Be,r,_e,d,Ie)}rA(Be,o)})}function hg(r,o,d){return{instance:r,listener:o,currentTarget:d}}function Ev(r,o){for(var d=o+"Capture",y=[];r!==null;){var S=r,E=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||E===null||(S=Ic(r,d),S!=null&&y.unshift(hg(r,S,E)),S=Ic(r,o),S!=null&&y.push(hg(r,S,E))),r.tag===3)return y;r=r.return}return[]}function A5(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function oA(r,o,d,y,S){for(var E=o._reactName,U=[];d!==null&&d!==y;){var W=d,ie=W.alternate,_e=W.stateNode;if(W=W.tag,ie!==null&&ie===y)break;W!==5&&W!==26&&W!==27||_e===null||(ie=_e,S?(_e=Ic(d,E),_e!=null&&U.unshift(hg(d,_e,ie))):S||(_e=Ic(d,E),_e!=null&&U.push(hg(d,_e,ie)))),d=d.return}U.length!==0&&r.push({event:o,listeners:U})}var C5=/\r\n?/g,R5=/\u0000|\uFFFD/g;function lA(r){return(typeof r=="string"?r:""+r).replace(C5,`
`).replace(R5,"")}function cA(r,o){return o=lA(o),lA(r)===o}function Jn(r,o,d,y,S,E){switch(d){case"children":typeof y=="string"?o==="body"||o==="textarea"&&y===""||Ii(r,y):(typeof y=="number"||typeof y=="bigint")&&o!=="body"&&Ii(r,""+y);break;case"className":Ut(r,"class",y);break;case"tabIndex":Ut(r,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Ut(r,d,y);break;case"style":Fl(r,y,E);break;case"data":if(o!=="object"){Ut(r,"data",y);break}case"src":case"href":if(y===""&&(o!=="a"||d!=="href")){r.removeAttribute(d);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){r.removeAttribute(d);break}y=Qu(""+y),r.setAttribute(d,y);break;case"action":case"formAction":if(typeof y=="function"){r.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(d==="formAction"?(o!=="input"&&Jn(r,o,"name",S.name,S,null),Jn(r,o,"formEncType",S.formEncType,S,null),Jn(r,o,"formMethod",S.formMethod,S,null),Jn(r,o,"formTarget",S.formTarget,S,null)):(Jn(r,o,"encType",S.encType,S,null),Jn(r,o,"method",S.method,S,null),Jn(r,o,"target",S.target,S,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){r.removeAttribute(d);break}y=Qu(""+y),r.setAttribute(d,y);break;case"onClick":y!=null&&(r.onclick=io);break;case"onScroll":y!=null&&Tn("scroll",r);break;case"onScrollEnd":y!=null&&Tn("scrollend",r);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(i(61));if(d=y.__html,d!=null){if(S.children!=null)throw Error(i(60));r.innerHTML=d}}break;case"multiple":r.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":r.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){r.removeAttribute("xlink:href");break}d=Qu(""+y),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?r.setAttribute(d,""+y):r.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?r.setAttribute(d,""):r.removeAttribute(d);break;case"capture":case"download":y===!0?r.setAttribute(d,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?r.setAttribute(d,y):r.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?r.setAttribute(d,y):r.removeAttribute(d);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?r.removeAttribute(d):r.setAttribute(d,y);break;case"popover":Tn("beforetoggle",r),Tn("toggle",r),Mt(r,"popover",y);break;case"xlinkActuate":Et(r,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Et(r,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Et(r,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Et(r,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Et(r,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Et(r,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Et(r,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Et(r,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Et(r,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Mt(r,"is",y);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=sy.get(d)||d,Mt(r,d,y))}}function q_(r,o,d,y,S,E){switch(d){case"style":Fl(r,y,E);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(i(61));if(d=y.__html,d!=null){if(S.children!=null)throw Error(i(60));r.innerHTML=d}}break;case"children":typeof y=="string"?Ii(r,y):(typeof y=="number"||typeof y=="bigint")&&Ii(r,""+y);break;case"onScroll":y!=null&&Tn("scroll",r);break;case"onScrollEnd":y!=null&&Tn("scrollend",r);break;case"onClick":y!=null&&(r.onclick=io);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ae.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(S=d.endsWith("Capture"),o=d.slice(2,S?d.length-7:void 0),E=r[Hi]||null,E=E!=null?E[d]:null,typeof E=="function"&&r.removeEventListener(o,E,S),typeof y=="function")){typeof E!="function"&&E!==null&&(d in r?r[d]=null:r.hasAttribute(d)&&r.removeAttribute(d)),r.addEventListener(o,y,S);break e}d in r?r[d]=y:y===!0?r.setAttribute(d,""):Mt(r,d,y)}}}function Fs(r,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tn("error",r),Tn("load",r);var y=!1,S=!1,E;for(E in d)if(d.hasOwnProperty(E)){var U=d[E];if(U!=null)switch(E){case"src":y=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Jn(r,o,E,U,d,null)}}S&&Jn(r,o,"srcSet",d.srcSet,d,null),y&&Jn(r,o,"src",d.src,d,null);return;case"input":Tn("invalid",r);var W=E=U=S=null,ie=null,_e=null;for(y in d)if(d.hasOwnProperty(y)){var Ie=d[y];if(Ie!=null)switch(y){case"name":S=Ie;break;case"type":U=Ie;break;case"checked":ie=Ie;break;case"defaultChecked":_e=Ie;break;case"value":E=Ie;break;case"defaultValue":W=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(i(137,o));break;default:Jn(r,o,y,Ie,d,null)}}oa(r,E,W,ie,_e,U,S,!1);return;case"select":Tn("invalid",r),y=U=E=null;for(S in d)if(d.hasOwnProperty(S)&&(W=d[S],W!=null))switch(S){case"value":E=W;break;case"defaultValue":U=W;break;case"multiple":y=W;default:Jn(r,o,S,W,d,null)}o=E,d=U,r.multiple=!!y,o!=null?Cs(r,!!y,o,!1):d!=null&&Cs(r,!!y,d,!0);return;case"textarea":Tn("invalid",r),E=S=y=null;for(U in d)if(d.hasOwnProperty(U)&&(W=d[U],W!=null))switch(U){case"value":y=W;break;case"defaultValue":S=W;break;case"children":E=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(91));break;default:Jn(r,o,U,W,d,null)}ji(r,y,S,E);return;case"option":for(ie in d)d.hasOwnProperty(ie)&&(y=d[ie],y!=null)&&(ie==="selected"?r.selected=y&&typeof y!="function"&&typeof y!="symbol":Jn(r,o,ie,y,d,null));return;case"dialog":Tn("beforetoggle",r),Tn("toggle",r),Tn("cancel",r),Tn("close",r);break;case"iframe":case"object":Tn("load",r);break;case"video":case"audio":for(y=0;y<Xr.length;y++)Tn(Xr[y],r);break;case"image":Tn("error",r),Tn("load",r);break;case"details":Tn("toggle",r);break;case"embed":case"source":case"link":Tn("error",r),Tn("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_e in d)if(d.hasOwnProperty(_e)&&(y=d[_e],y!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Jn(r,o,_e,y,d,null)}return;default:if(Cr(o)){for(Ie in d)d.hasOwnProperty(Ie)&&(y=d[Ie],y!==void 0&&q_(r,o,Ie,y,d,void 0));return}}for(W in d)d.hasOwnProperty(W)&&(y=d[W],y!=null&&Jn(r,o,W,y,d,null))}function N5(r,o,d,y){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,E=null,U=null,W=null,ie=null,_e=null,Ie=null;for(Pe in d){var Be=d[Pe];if(d.hasOwnProperty(Pe)&&Be!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":ie=Be;default:y.hasOwnProperty(Pe)||Jn(r,o,Pe,null,y,Be)}}for(var Ee in y){var Pe=y[Ee];if(Be=d[Ee],y.hasOwnProperty(Ee)&&(Pe!=null||Be!=null))switch(Ee){case"type":E=Pe;break;case"name":S=Pe;break;case"checked":_e=Pe;break;case"defaultChecked":Ie=Pe;break;case"value":U=Pe;break;case"defaultValue":W=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(i(137,o));break;default:Pe!==Be&&Jn(r,o,Ee,Pe,y,Be)}}Pi(r,U,W,ie,_e,Ie,E,S);return;case"select":Pe=U=W=Ee=null;for(E in d)if(ie=d[E],d.hasOwnProperty(E)&&ie!=null)switch(E){case"value":break;case"multiple":Pe=ie;default:y.hasOwnProperty(E)||Jn(r,o,E,null,y,ie)}for(S in y)if(E=y[S],ie=d[S],y.hasOwnProperty(S)&&(E!=null||ie!=null))switch(S){case"value":Ee=E;break;case"defaultValue":W=E;break;case"multiple":U=E;default:E!==ie&&Jn(r,o,S,E,y,ie)}o=W,d=U,y=Pe,Ee!=null?Cs(r,!!d,Ee,!1):!!y!=!!d&&(o!=null?Cs(r,!!d,o,!0):Cs(r,!!d,d?[]:"",!1));return;case"textarea":Pe=Ee=null;for(W in d)if(S=d[W],d.hasOwnProperty(W)&&S!=null&&!y.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:Jn(r,o,W,null,y,S)}for(U in y)if(S=y[U],E=d[U],y.hasOwnProperty(U)&&(S!=null||E!=null))switch(U){case"value":Ee=S;break;case"defaultValue":Pe=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:S!==E&&Jn(r,o,U,S,y,E)}On(r,Ee,Pe);return;case"option":for(var At in d)Ee=d[At],d.hasOwnProperty(At)&&Ee!=null&&!y.hasOwnProperty(At)&&(At==="selected"?r.selected=!1:Jn(r,o,At,null,y,Ee));for(ie in y)Ee=y[ie],Pe=d[ie],y.hasOwnProperty(ie)&&Ee!==Pe&&(Ee!=null||Pe!=null)&&(ie==="selected"?r.selected=Ee&&typeof Ee!="function"&&typeof Ee!="symbol":Jn(r,o,ie,Ee,y,Pe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xt in d)Ee=d[Xt],d.hasOwnProperty(Xt)&&Ee!=null&&!y.hasOwnProperty(Xt)&&Jn(r,o,Xt,null,y,Ee);for(_e in y)if(Ee=y[_e],Pe=d[_e],y.hasOwnProperty(_e)&&Ee!==Pe&&(Ee!=null||Pe!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(i(137,o));break;default:Jn(r,o,_e,Ee,y,Pe)}return;default:if(Cr(o)){for(var ei in d)Ee=d[ei],d.hasOwnProperty(ei)&&Ee!==void 0&&!y.hasOwnProperty(ei)&&q_(r,o,ei,void 0,y,Ee);for(Ie in y)Ee=y[Ie],Pe=d[Ie],!y.hasOwnProperty(Ie)||Ee===Pe||Ee===void 0&&Pe===void 0||q_(r,o,Ie,Ee,y,Pe);return}}for(var pe in d)Ee=d[pe],d.hasOwnProperty(pe)&&Ee!=null&&!y.hasOwnProperty(pe)&&Jn(r,o,pe,null,y,Ee);for(Be in y)Ee=y[Be],Pe=d[Be],!y.hasOwnProperty(Be)||Ee===Pe||Ee==null&&Pe==null||Jn(r,o,Be,Ee,y,Pe)}function uA(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D5(){if(typeof performance.getEntriesByType=="function"){for(var r=0,o=0,d=performance.getEntriesByType("resource"),y=0;y<d.length;y++){var S=d[y],E=S.transferSize,U=S.initiatorType,W=S.duration;if(E&&W&&uA(U)){for(U=0,W=S.responseEnd,y+=1;y<d.length;y++){var ie=d[y],_e=ie.startTime;if(_e>W)break;var Ie=ie.transferSize,Be=ie.initiatorType;Ie&&uA(Be)&&(ie=ie.responseEnd,U+=Ie*(ie<W?1:(W-_e)/(ie-_e)))}if(--y,o+=8*(E+U)/(S.duration/1e3),r++,10<r)break}}if(0<r)return o/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Y_=null,$_=null;function Av(r){return r.nodeType===9?r:r.ownerDocument}function fA(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dA(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Z_(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var K_=null;function P5(){var r=window.event;return r&&r.type==="popstate"?r===K_?!1:(K_=r,!0):(K_=null,!1)}var hA=typeof setTimeout=="function"?setTimeout:void 0,I5=typeof clearTimeout=="function"?clearTimeout:void 0,pA=typeof Promise=="function"?Promise:void 0,L5=typeof queueMicrotask=="function"?queueMicrotask:typeof pA<"u"?function(r){return pA.resolve(null).then(r).catch(O5)}:hA;function O5(r){setTimeout(function(){throw r})}function gu(r){return r==="head"}function mA(r,o){var d=o,y=0;do{var S=d.nextSibling;if(r.removeChild(d),S&&S.nodeType===8)if(d=S.data,d==="/$"||d==="/&"){if(y===0){r.removeChild(S),Rh(o);return}y--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")y++;else if(d==="html")pg(r.ownerDocument.documentElement);else if(d==="head"){d=r.ownerDocument.head,pg(d);for(var E=d.firstChild;E;){var U=E.nextSibling,W=E.nodeName;E[aa]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&E.rel.toLowerCase()==="stylesheet"||d.removeChild(E),E=U}}else d==="body"&&pg(r.ownerDocument.body);d=S}while(d);Rh(o)}function gA(r,o){var d=r;r=0;do{var y=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(r===0)break;r--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||r++;d=y}while(d)}function Q_(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Q_(d),eo(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}r.removeChild(d)}}function U5(r,o,d,y){for(;r.nodeType===1;){var S=d;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!y&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(y){if(!r[aa])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(E=r.getAttribute("rel"),E==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(E!==S.rel||r.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||r.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||r.getAttribute("title")!==(S.title==null?null:S.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(E=r.getAttribute("src"),(E!==(S.src==null?null:S.src)||r.getAttribute("type")!==(S.type==null?null:S.type)||r.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&E&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var E=S.name==null?null:""+S.name;if(S.type==="hidden"&&r.getAttribute("name")===E)return r}else return r;if(r=Wa(r.nextSibling),r===null)break}return null}function z5(r,o,d){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!d||(r=Wa(r.nextSibling),r===null))return null;return r}function yA(r,o){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Wa(r.nextSibling),r===null))return null;return r}function J_(r){return r.data==="$?"||r.data==="$~"}function eS(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function F5(r,o){var d=r.ownerDocument;if(r.data==="$~")r._reactRetry=o;else if(r.data!=="$?"||d.readyState!=="loading")o();else{var y=function(){o(),d.removeEventListener("DOMContentLoaded",y)};d.addEventListener("DOMContentLoaded",y),r._reactRetry=y}}function Wa(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return r}var tS=null;function vA(r){r=r.nextSibling;for(var o=0;r;){if(r.nodeType===8){var d=r.data;if(d==="/$"||d==="/&"){if(o===0)return Wa(r.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}r=r.nextSibling}return null}function xA(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return r;o--}else d!=="/$"&&d!=="/&"||o++}r=r.previousSibling}return null}function bA(r,o,d){switch(o=Av(d),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function pg(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);eo(r)}var Xa=new Map,_A=new Set;function Cv(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var hc=Z.d;Z.d={f:B5,r:k5,D:V5,C:H5,L:j5,m:G5,X:X5,S:W5,M:q5};function B5(){var r=hc.f(),o=da();return r||o}function k5(r){var o=no(r);o!==null&&o.tag===5&&o.type==="form"?uv(o):hc.r(r)}var Eh=typeof document>"u"?null:document;function SA(r,o,d){var y=Eh;if(y&&typeof o=="string"&&o){var S=Wt(o);S='link[rel="'+r+'"][href="'+S+'"]',typeof d=="string"&&(S+='[crossorigin="'+d+'"]'),_A.has(S)||(_A.add(S),r={rel:r,crossOrigin:d,href:o},y.querySelector(S)===null&&(o=y.createElement("link"),Fs(o,"link",r),G(o),y.head.appendChild(o)))}}function V5(r){hc.D(r),SA("dns-prefetch",r,null)}function H5(r,o){hc.C(r,o),SA("preconnect",r,o)}function j5(r,o,d){hc.L(r,o,d);var y=Eh;if(y&&r&&o){var S='link[rel="preload"][as="'+Wt(o)+'"]';o==="image"&&d&&d.imageSrcSet?(S+='[imagesrcset="'+Wt(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(S+='[imagesizes="'+Wt(d.imageSizes)+'"]')):S+='[href="'+Wt(r)+'"]';var E=S;switch(o){case"style":E=Ah(r);break;case"script":E=Ch(r)}Xa.has(E)||(r=m({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:r,as:o},d),Xa.set(E,r),y.querySelector(S)!==null||o==="style"&&y.querySelector(mg(E))||o==="script"&&y.querySelector(gg(E))||(o=y.createElement("link"),Fs(o,"link",r),G(o),y.head.appendChild(o)))}}function G5(r,o){hc.m(r,o);var d=Eh;if(d&&r){var y=o&&typeof o.as=="string"?o.as:"script",S='link[rel="modulepreload"][as="'+Wt(y)+'"][href="'+Wt(r)+'"]',E=S;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Ch(r)}if(!Xa.has(E)&&(r=m({rel:"modulepreload",href:r},o),Xa.set(E,r),d.querySelector(S)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(gg(E)))return}y=d.createElement("link"),Fs(y,"link",r),G(y),d.head.appendChild(y)}}}function W5(r,o,d){hc.S(r,o,d);var y=Eh;if(y&&r){var S=Sa(y).hoistableStyles,E=Ah(r);o=o||"default";var U=S.get(E);if(!U){var W={loading:0,preload:null};if(U=y.querySelector(mg(E)))W.loading=5;else{r=m({rel:"stylesheet",href:r,"data-precedence":o},d),(d=Xa.get(E))&&nS(r,d);var ie=U=y.createElement("link");G(ie),Fs(ie,"link",r),ie._p=new Promise(function(_e,Ie){ie.onload=_e,ie.onerror=Ie}),ie.addEventListener("load",function(){W.loading|=1}),ie.addEventListener("error",function(){W.loading|=2}),W.loading|=4,Rv(U,o,y)}U={type:"stylesheet",instance:U,count:1,state:W},S.set(E,U)}}}function X5(r,o){hc.X(r,o);var d=Eh;if(d&&r){var y=Sa(d).hoistableScripts,S=Ch(r),E=y.get(S);E||(E=d.querySelector(gg(S)),E||(r=m({src:r,async:!0},o),(o=Xa.get(S))&&iS(r,o),E=d.createElement("script"),G(E),Fs(E,"link",r),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},y.set(S,E))}}function q5(r,o){hc.M(r,o);var d=Eh;if(d&&r){var y=Sa(d).hoistableScripts,S=Ch(r),E=y.get(S);E||(E=d.querySelector(gg(S)),E||(r=m({src:r,async:!0,type:"module"},o),(o=Xa.get(S))&&iS(r,o),E=d.createElement("script"),G(E),Fs(E,"link",r),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},y.set(S,E))}}function wA(r,o,d,y){var S=(S=he.current)?Cv(S):null;if(!S)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Ah(d.href),d=Sa(S).hoistableStyles,y=d.get(o),y||(y={type:"style",instance:null,count:0,state:null},d.set(o,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){r=Ah(d.href);var E=Sa(S).hoistableStyles,U=E.get(r);if(U||(S=S.ownerDocument||S,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(r,U),(E=S.querySelector(mg(r)))&&!E._p&&(U.instance=E,U.state.loading=5),Xa.has(r)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Xa.set(r,d),E||Y5(S,r,d,U.state))),o&&y===null)throw Error(i(528,""));return U}if(o&&y!==null)throw Error(i(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ch(d),d=Sa(S).hoistableScripts,y=d.get(o),y||(y={type:"script",instance:null,count:0,state:null},d.set(o,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ah(r){return'href="'+Wt(r)+'"'}function mg(r){return'link[rel="stylesheet"]['+r+"]"}function MA(r){return m({},r,{"data-precedence":r.precedence,precedence:null})}function Y5(r,o,d,y){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?y.loading=1:(o=r.createElement("link"),y.preload=o,o.addEventListener("load",function(){return y.loading|=1}),o.addEventListener("error",function(){return y.loading|=2}),Fs(o,"link",d),G(o),r.head.appendChild(o))}function Ch(r){return'[src="'+Wt(r)+'"]'}function gg(r){return"script[async]"+r}function TA(r,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var y=r.querySelector('style[data-href~="'+Wt(d.href)+'"]');if(y)return o.instance=y,G(y),y;var S=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return y=(r.ownerDocument||r).createElement("style"),G(y),Fs(y,"style",S),Rv(y,d.precedence,r),o.instance=y;case"stylesheet":S=Ah(d.href);var E=r.querySelector(mg(S));if(E)return o.state.loading|=4,o.instance=E,G(E),E;y=MA(d),(S=Xa.get(S))&&nS(y,S),E=(r.ownerDocument||r).createElement("link"),G(E);var U=E;return U._p=new Promise(function(W,ie){U.onload=W,U.onerror=ie}),Fs(E,"link",y),o.state.loading|=4,Rv(E,d.precedence,r),o.instance=E;case"script":return E=Ch(d.src),(S=r.querySelector(gg(E)))?(o.instance=S,G(S),S):(y=d,(S=Xa.get(E))&&(y=m({},d),iS(y,S)),r=r.ownerDocument||r,S=r.createElement("script"),G(S),Fs(S,"link",y),r.head.appendChild(S),o.instance=S);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(y=o.instance,o.state.loading|=4,Rv(y,d.precedence,r));return o.instance}function Rv(r,o,d){for(var y=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=y.length?y[y.length-1]:null,E=S,U=0;U<y.length;U++){var W=y[U];if(W.dataset.precedence===o)E=W;else if(E!==S)break}E?E.parentNode.insertBefore(r,E.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(r,o.firstChild))}function nS(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function iS(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Nv=null;function EA(r,o,d){if(Nv===null){var y=new Map,S=Nv=new Map;S.set(d,y)}else S=Nv,y=S.get(d),y||(y=new Map,S.set(d,y));if(y.has(r))return y;for(y.set(r,null),d=d.getElementsByTagName(r),S=0;S<d.length;S++){var E=d[S];if(!(E[aa]||E[li]||r==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var U=E.getAttribute(o)||"";U=r+U;var W=y.get(U);W?W.push(E):y.set(U,[E])}}return y}function AA(r,o,d){r=r.ownerDocument||r,r.head.insertBefore(d,o==="title"?r.querySelector("head > title"):null)}function $5(r,o,d){if(d===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(r=o.disabled,typeof o.precedence=="string"&&r==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function CA(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function Z5(r,o,d,y){if(d.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var S=Ah(y.href),E=o.querySelector(mg(S));if(E){o=E._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(r.count++,r=Dv.bind(r),o.then(r,r)),d.state.loading|=4,d.instance=E,G(E);return}E=o.ownerDocument||o,y=MA(y),(S=Xa.get(S))&&nS(y,S),E=E.createElement("link"),G(E);var U=E;U._p=new Promise(function(W,ie){U.onload=W,U.onerror=ie}),Fs(E,"link",y),d.instance=E}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(r.count++,d=Dv.bind(r),o.addEventListener("load",d),o.addEventListener("error",d))}}var sS=0;function K5(r,o){return r.stylesheets&&r.count===0&&Iv(r,r.stylesheets),0<r.count||0<r.imgCount?function(d){var y=setTimeout(function(){if(r.stylesheets&&Iv(r,r.stylesheets),r.unsuspend){var E=r.unsuspend;r.unsuspend=null,E()}},6e4+o);0<r.imgBytes&&sS===0&&(sS=62500*D5());var S=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Iv(r,r.stylesheets),r.unsuspend)){var E=r.unsuspend;r.unsuspend=null,E()}},(r.imgBytes>sS?50:800)+o);return r.unsuspend=d,function(){r.unsuspend=null,clearTimeout(y),clearTimeout(S)}}:null}function Dv(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Iv(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Pv=null;function Iv(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Pv=new Map,o.forEach(Q5,r),Pv=null,Dv.call(r))}function Q5(r,o){if(!(o.state.loading&4)){var d=Pv.get(r);if(d)var y=d.get(null);else{d=new Map,Pv.set(r,d);for(var S=r.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<S.length;E++){var U=S[E];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(d.set(U.dataset.precedence,U),y=U)}y&&d.set(null,y)}S=o.instance,U=S.getAttribute("data-precedence"),E=d.get(U)||y,E===y&&d.set(null,S),d.set(U,S),this.count++,y=Dv.bind(this),S.addEventListener("load",y),S.addEventListener("error",y),E?E.parentNode.insertBefore(S,E.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(S,r.firstChild)),o.state.loading|=4}}var yg={$$typeof:D,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function J5(r,o,d,y,S,E,U,W,ie){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fn(0),this.hiddenUpdates=fn(null),this.identifierPrefix=y,this.onUncaughtError=S,this.onCaughtError=E,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ie,this.incompleteTransitions=new Map}function RA(r,o,d,y,S,E,U,W,ie,_e,Ie,Be){return r=new J5(r,o,d,U,ie,_e,Ie,Be,W),o=1,E===!0&&(o|=24),E=ci(3,null,null,o),r.current=E,E.stateNode=r,o=_m(),o.refCount++,r.pooledCache=o,o.refCount++,E.memoizedState={element:y,isDehydrated:d,cache:o},xf(E),r}function NA(r){return r?(r=qo,r):qo}function DA(r,o,d,y,S,E){S=NA(S),y.context===null?y.context=S:y.pendingContext=S,y=fo(o),y.payload={element:d},E=E===void 0?null:E,E!==null&&(y.callback=E),d=tl(r,y,o),d!==null&&(cn(d,r,o),nl(d,r,o))}function PA(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<o?d:o}}function rS(r,o){PA(r,o),(r=r.alternate)&&PA(r,o)}function IA(r){if(r.tag===13||r.tag===31){var o=Ds(r,67108864);o!==null&&cn(o,r,67108864),rS(r,67108864)}}function LA(r){if(r.tag===13||r.tag===31){var o=vr();o=ra(o);var d=Ds(r,o);d!==null&&cn(d,r,o),rS(r,o)}}var Lv=!0;function e4(r,o,d,y){var S=X.T;X.T=null;var E=Z.p;try{Z.p=2,aS(r,o,d,y)}finally{Z.p=E,X.T=S}}function t4(r,o,d,y){var S=X.T;X.T=null;var E=Z.p;try{Z.p=8,aS(r,o,d,y)}finally{Z.p=E,X.T=S}}function aS(r,o,d,y){if(Lv){var S=oS(y);if(S===null)X_(r,o,y,Ov,d),UA(r,y);else if(i4(S,r,o,d,y))y.stopPropagation();else if(UA(r,y),o&4&&-1<n4.indexOf(r)){for(;S!==null;){var E=no(S);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var U=je(E.pendingLanes);if(U!==0){var W=E;for(W.pendingLanes|=2,W.entangledLanes|=2;U;){var ie=1<<31-dt(U);W.entanglements[1]|=ie,U&=~ie}Ye(E),(Lt&6)===0&&(Mi=V()+500,vt(0))}}break;case 31:case 13:W=Ds(E,2),W!==null&&cn(W,E,2),da(),rS(E,2)}if(E=oS(y),E===null&&X_(r,o,y,Ov,d),E===S)break;S=E}S!==null&&y.stopPropagation()}else X_(r,o,y,null,d)}}function oS(r){return r=Td(r),lS(r)}var Ov=null;function lS(r){if(Ov=null,r=to(r),r!==null){var o=a(r);if(o===null)r=null;else{var d=o.tag;if(d===13){if(r=l(o),r!==null)return r;r=null}else if(d===31){if(r=u(o),r!==null)return r;r=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Ov=r,null}function OA(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case Ce:return 2;case Ue:return 8;case Ne:case ft:return 32;case Ke:return 268435456;default:return 32}default:return 32}}var cS=!1,yu=null,vu=null,xu=null,vg=new Map,xg=new Map,bu=[],n4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function UA(r,o){switch(r){case"focusin":case"focusout":yu=null;break;case"dragenter":case"dragleave":vu=null;break;case"mouseover":case"mouseout":xu=null;break;case"pointerover":case"pointerout":vg.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":xg.delete(o.pointerId)}}function bg(r,o,d,y,S,E){return r===null||r.nativeEvent!==E?(r={blockedOn:o,domEventName:d,eventSystemFlags:y,nativeEvent:E,targetContainers:[S]},o!==null&&(o=no(o),o!==null&&IA(o)),r):(r.eventSystemFlags|=y,o=r.targetContainers,S!==null&&o.indexOf(S)===-1&&o.push(S),r)}function i4(r,o,d,y,S){switch(o){case"focusin":return yu=bg(yu,r,o,d,y,S),!0;case"dragenter":return vu=bg(vu,r,o,d,y,S),!0;case"mouseover":return xu=bg(xu,r,o,d,y,S),!0;case"pointerover":var E=S.pointerId;return vg.set(E,bg(vg.get(E)||null,r,o,d,y,S)),!0;case"gotpointercapture":return E=S.pointerId,xg.set(E,bg(xg.get(E)||null,r,o,d,y,S)),!0}return!1}function zA(r){var o=to(r.target);if(o!==null){var d=a(o);if(d!==null){if(o=d.tag,o===13){if(o=l(d),o!==null){r.blockedOn=o,xs(r.priority,function(){LA(d)});return}}else if(o===31){if(o=u(d),o!==null){r.blockedOn=o,xs(r.priority,function(){LA(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Uv(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var d=oS(r.nativeEvent);if(d===null){d=r.nativeEvent;var y=new d.constructor(d.type,d);Md=y,d.target.dispatchEvent(y),Md=null}else return o=no(d),o!==null&&IA(o),r.blockedOn=d,!1;o.shift()}return!0}function FA(r,o,d){Uv(r)&&d.delete(o)}function s4(){cS=!1,yu!==null&&Uv(yu)&&(yu=null),vu!==null&&Uv(vu)&&(vu=null),xu!==null&&Uv(xu)&&(xu=null),vg.forEach(FA),xg.forEach(FA)}function zv(r,o){r.blockedOn===o&&(r.blockedOn=null,cS||(cS=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,s4)))}var Fv=null;function BA(r){Fv!==r&&(Fv=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Fv===r&&(Fv=null);for(var o=0;o<r.length;o+=3){var d=r[o],y=r[o+1],S=r[o+2];if(typeof y!="function"){if(lS(y||d)===null)continue;break}var E=no(d);E!==null&&(r.splice(o,3),o-=3,Ym(E,{pending:!0,data:S,method:d.method,action:y},y,S))}}))}function Rh(r){function o(ie){return zv(ie,r)}yu!==null&&zv(yu,r),vu!==null&&zv(vu,r),xu!==null&&zv(xu,r),vg.forEach(o),xg.forEach(o);for(var d=0;d<bu.length;d++){var y=bu[d];y.blockedOn===r&&(y.blockedOn=null)}for(;0<bu.length&&(d=bu[0],d.blockedOn===null);)zA(d),d.blockedOn===null&&bu.shift();if(d=(r.ownerDocument||r).$$reactFormReplay,d!=null)for(y=0;y<d.length;y+=3){var S=d[y],E=d[y+1],U=S[Hi]||null;if(typeof E=="function")U||BA(d);else if(U){var W=null;if(E&&E.hasAttribute("formAction")){if(S=E,U=E[Hi]||null)W=U.formAction;else if(lS(S)!==null)continue}else W=U.action;typeof W=="function"?d[y+1]=W:(d.splice(y,3),y-=3),BA(d)}}}function kA(){function r(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(U){return S=U})},focusReset:"manual",scroll:"manual"})}function o(){S!==null&&(S(),S=null),y||setTimeout(d,20)}function d(){if(!y&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,S=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){y=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),S!==null&&(S(),S=null)}}}function uS(r){this._internalRoot=r}Bv.prototype.render=uS.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var d=o.current,y=vr();DA(d,y,r,o,null,null)},Bv.prototype.unmount=uS.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;DA(r.current,2,null,r,null,null),da(),o[ar]=null}};function Bv(r){this._internalRoot=r}Bv.prototype.unstable_scheduleHydration=function(r){if(r){var o=ko();r={blockedOn:null,target:r,priority:o};for(var d=0;d<bu.length&&o!==0&&o<bu[d].priority;d++);bu.splice(d,0,r),d===0&&zA(r)}};var VA=e.version;if(VA!=="19.2.3")throw Error(i(527,VA,"19.2.3"));Z.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(o),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var r4={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kv.isDisabled&&kv.supportsFiber)try{Xe=kv.inject(r4),Je=kv}catch{}}return Sg.createRoot=function(r,o){if(!s(r))throw Error(i(299));var d=!1,y="",S=yv,E=eg,U=tg;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(y=o.identifierPrefix),o.onUncaughtError!==void 0&&(S=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(U=o.onRecoverableError)),o=RA(r,1,!1,null,null,d,y,null,S,E,U,kA),r[ar]=o.current,W_(r),new uS(o)},Sg.hydrateRoot=function(r,o,d){if(!s(r))throw Error(i(299));var y=!1,S="",E=yv,U=eg,W=tg,ie=null;return d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onUncaughtError!==void 0&&(E=d.onUncaughtError),d.onCaughtError!==void 0&&(U=d.onCaughtError),d.onRecoverableError!==void 0&&(W=d.onRecoverableError),d.formState!==void 0&&(ie=d.formState)),o=RA(r,1,!0,o,d??null,y,S,ie,E,U,W,kA),o.context=NA(null),d=o.current,y=vr(),y=ra(y),S=fo(y),S.callback=null,tl(d,S,y),d=y,o.current.lanes=d,wn(o,d),Ye(o),r[ar]=o.current,W_(r),new Bv(o)},Sg.version="19.2.3",Sg}var KA;function p4(){if(KA)return dS.exports;KA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dS.exports=h4(),dS.exports}var m4=p4(),L=z0();const it=M1(L),cD=o4({__proto__:null,default:it},[L]),g4=1,y4=1e6;let yS=0;function v4(){return yS=(yS+1)%Number.MAX_SAFE_INTEGER,yS.toString()}const vS=new Map,QA=n=>{if(vS.has(n))return;const e=setTimeout(()=>{vS.delete(n),Gg({type:"REMOVE_TOAST",toastId:n})},y4);vS.set(n,e)},x4=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,g4)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?QA(t):n.toasts.forEach(i=>{QA(i.id)}),{...n,toasts:n.toasts.map(i=>i.id===t||t===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},qx=[];let Yx={toasts:[]};function Gg(n){Yx=x4(Yx,n),qx.forEach(e=>{e(Yx)})}function b4({...n}){const e=v4(),t=s=>Gg({type:"UPDATE_TOAST",toast:{...s,id:e}}),i=()=>Gg({type:"DISMISS_TOAST",toastId:e});return Gg({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:s=>{s||i()}}}),{id:e,dismiss:i,update:t}}function _4(){const[n,e]=L.useState(Yx);return L.useEffect(()=>(qx.push(e),()=>{const t=qx.indexOf(e);t>-1&&qx.splice(t,1)}),[n]),{...n,toast:b4,dismiss:t=>Gg({type:"DISMISS_TOAST",toastId:t})}}var T1=lD();const uD=M1(T1);function gs(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n?.(s),t===!1||!s.defaultPrevented)return e?.(s)}}function JA(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function E1(...n){return e=>{let t=!1;const i=n.map(s=>{const a=JA(s,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let s=0;s<i.length;s++){const a=i[s];typeof a=="function"?a():JA(n[s],null)}}}}function Io(...n){return L.useCallback(E1(...n),n)}function A1(n,e=[]){let t=[];function i(a,l){const u=L.createContext(l),h=t.length;t=[...t,l];const p=m=>{const{scope:x,children:b,...w}=m,A=x?.[n]?.[h]||u,T=L.useMemo(()=>w,Object.values(w));return C.jsx(A.Provider,{value:T,children:b})};p.displayName=a+"Provider";function g(m,x){const b=x?.[n]?.[h]||u,w=L.useContext(b);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[p,g]}const s=()=>{const a=t.map(l=>L.createContext(l));return function(u){const h=u?.[n]||a;return L.useMemo(()=>({[`__scope${n}`]:{...u,[n]:h}}),[u,h])}};return s.scopeName=n,[i,S4(s,...e)]}function S4(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=i.reduce((u,{useScope:h,scopeName:p})=>{const m=h(a)[`__scope${p}`];return{...u,...m}},{});return L.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function eC(n){const e=w4(n),t=L.forwardRef((i,s)=>{const{children:a,...l}=i,u=L.Children.toArray(a),h=u.find(T4);if(h){const p=h.props.children,g=u.map(m=>m===h?L.Children.count(p)>1?L.Children.only(null):L.isValidElement(p)?p.props.children:null:m);return C.jsx(e,{...l,ref:s,children:L.isValidElement(p)?L.cloneElement(p,void 0,g):null})}return C.jsx(e,{...l,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}function w4(n){const e=L.forwardRef((t,i)=>{const{children:s,...a}=t;if(L.isValidElement(s)){const l=A4(s),u=E4(a,s.props);return s.type!==L.Fragment&&(u.ref=i?E1(i,l):l),L.cloneElement(s,u)}return L.Children.count(s)>1?L.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var M4=Symbol("radix.slottable");function T4(n){return L.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===M4}function E4(n,e){const t={...e};for(const i in e){const s=n[i],a=e[i];/^on[A-Z]/.test(i)?s&&a?t[i]=(...u)=>{const h=a(...u);return s(...u),h}:s&&(t[i]=s):i==="style"?t[i]={...s,...a}:i==="className"&&(t[i]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function A4(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function C4(n){const e=n+"CollectionProvider",[t,i]=A1(e),[s,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=A=>{const{scope:T,children:M}=A,N=it.useRef(null),D=it.useRef(new Map).current;return C.jsx(s,{scope:T,itemMap:D,collectionRef:N,children:M})};l.displayName=e;const u=n+"CollectionSlot",h=eC(u),p=it.forwardRef((A,T)=>{const{scope:M,children:N}=A,D=a(u,M),I=Io(T,D.collectionRef);return C.jsx(h,{ref:I,children:N})});p.displayName=u;const g=n+"CollectionItemSlot",m="data-radix-collection-item",x=eC(g),b=it.forwardRef((A,T)=>{const{scope:M,children:N,...D}=A,I=it.useRef(null),O=Io(T,I),F=a(g,M);return it.useEffect(()=>(F.itemMap.set(I,{ref:I,...D}),()=>{F.itemMap.delete(I)})),C.jsx(x,{[m]:"",ref:O,children:N})});b.displayName=g;function w(A){const T=a(n+"CollectionConsumer",A);return it.useCallback(()=>{const N=T.collectionRef.current;if(!N)return[];const D=Array.from(N.querySelectorAll(`[${m}]`));return Array.from(T.itemMap.values()).sort((F,B)=>D.indexOf(F.ref.current)-D.indexOf(B.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:l,Slot:p,ItemSlot:b},w,i]}function R4(n){const e=N4(n),t=L.forwardRef((i,s)=>{const{children:a,...l}=i,u=L.Children.toArray(a),h=u.find(P4);if(h){const p=h.props.children,g=u.map(m=>m===h?L.Children.count(p)>1?L.Children.only(null):L.isValidElement(p)?p.props.children:null:m);return C.jsx(e,{...l,ref:s,children:L.isValidElement(p)?L.cloneElement(p,void 0,g):null})}return C.jsx(e,{...l,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}function N4(n){const e=L.forwardRef((t,i)=>{const{children:s,...a}=t;if(L.isValidElement(s)){const l=L4(s),u=I4(a,s.props);return s.type!==L.Fragment&&(u.ref=i?E1(i,l):l),L.cloneElement(s,u)}return L.Children.count(s)>1?L.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var D4=Symbol("radix.slottable");function P4(n){return L.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===D4}function I4(n,e){const t={...e};for(const i in e){const s=n[i],a=e[i];/^on[A-Z]/.test(i)?s&&a?t[i]=(...u)=>{const h=a(...u);return s(...u),h}:s&&(t[i]=s):i==="style"?t[i]={...s,...a}:i==="className"&&(t[i]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function L4(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var O4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ia=O4.reduce((n,e)=>{const t=R4(`Primitive.${e}`),i=L.forwardRef((s,a)=>{const{asChild:l,...u}=s,h=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(h,{...u,ref:a})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function fD(n,e){n&&T1.flushSync(()=>n.dispatchEvent(e))}function zu(n){const e=L.useRef(n);return L.useEffect(()=>{e.current=n}),L.useMemo(()=>(...t)=>e.current?.(...t),[])}function U4(n,e=globalThis?.document){const t=zu(n);L.useEffect(()=>{const i=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var z4="DismissableLayer",Xw="dismissableLayer.update",F4="dismissableLayer.pointerDownOutside",B4="dismissableLayer.focusOutside",tC,dD=L.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tT=L.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...h}=n,p=L.useContext(dD),[g,m]=L.useState(null),x=g?.ownerDocument??globalThis?.document,[,b]=L.useState({}),w=Io(e,B=>m(B)),A=Array.from(p.layers),[T]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),M=A.indexOf(T),N=g?A.indexOf(g):-1,D=p.layersWithOutsidePointerEventsDisabled.size>0,I=N>=M,O=V4(B=>{const H=B.target,z=[...p.branches].some(k=>k.contains(H));!I||z||(s?.(B),l?.(B),B.defaultPrevented||u?.())},x),F=H4(B=>{const H=B.target;[...p.branches].some(k=>k.contains(H))||(a?.(B),l?.(B),B.defaultPrevented||u?.())},x);return U4(B=>{N===p.layers.size-1&&(i?.(B),!B.defaultPrevented&&u&&(B.preventDefault(),u()))},x),L.useEffect(()=>{if(g)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(tC=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),nC(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=tC)}},[g,x,t,p]),L.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),nC())},[g,p]),L.useEffect(()=>{const B=()=>b({});return document.addEventListener(Xw,B),()=>document.removeEventListener(Xw,B)},[]),C.jsx(ia.div,{...h,ref:w,style:{pointerEvents:D?I?"auto":"none":void 0,...n.style},onFocusCapture:gs(n.onFocusCapture,F.onFocusCapture),onBlurCapture:gs(n.onBlurCapture,F.onBlurCapture),onPointerDownCapture:gs(n.onPointerDownCapture,O.onPointerDownCapture)})});tT.displayName=z4;var k4="DismissableLayerBranch",hD=L.forwardRef((n,e)=>{const t=L.useContext(dD),i=L.useRef(null),s=Io(e,i);return L.useEffect(()=>{const a=i.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),C.jsx(ia.div,{...n,ref:s})});hD.displayName=k4;function V4(n,e=globalThis?.document){const t=zu(n),i=L.useRef(!1),s=L.useRef(()=>{});return L.useEffect(()=>{const a=u=>{if(u.target&&!i.current){let h=function(){pD(F4,t,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);i.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function H4(n,e=globalThis?.document){const t=zu(n),i=L.useRef(!1);return L.useEffect(()=>{const s=a=>{a.target&&!i.current&&pD(B4,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function nC(){const n=new CustomEvent(Xw);document.dispatchEvent(n)}function pD(n,e,t,{discrete:i}){const s=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),i?fD(s,a):s.dispatchEvent(a)}var j4=tT,G4=hD,Fu=globalThis?.document?L.useLayoutEffect:()=>{},W4="Portal",mD=L.forwardRef((n,e)=>{const{container:t,...i}=n,[s,a]=L.useState(!1);Fu(()=>a(!0),[]);const l=t||s&&globalThis?.document?.body;return l?uD.createPortal(C.jsx(ia.div,{...i,ref:e}),l):null});mD.displayName=W4;function X4(n,e){return L.useReducer((t,i)=>e[t][i]??t,n)}var nT=n=>{const{present:e,children:t}=n,i=q4(e),s=typeof t=="function"?t({present:i.isPresent}):L.Children.only(t),a=Io(i.ref,Y4(s));return typeof t=="function"||i.isPresent?L.cloneElement(s,{ref:a}):null};nT.displayName="Presence";function q4(n){const[e,t]=L.useState(),i=L.useRef(null),s=L.useRef(n),a=L.useRef("none"),l=n?"mounted":"unmounted",[u,h]=X4(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return L.useEffect(()=>{const p=Vv(i.current);a.current=u==="mounted"?p:"none"},[u]),Fu(()=>{const p=i.current,g=s.current;if(g!==n){const x=a.current,b=Vv(p);n?h("MOUNT"):b==="none"||p?.display==="none"?h("UNMOUNT"):h(g&&x!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,h]),Fu(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,m=b=>{const A=Vv(i.current).includes(CSS.escape(b.animationName));if(b.target===e&&A&&(h("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},x=b=>{b.target===e&&(a.current=Vv(i.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:L.useCallback(p=>{i.current=p?getComputedStyle(p):null,t(p)},[])}}function Vv(n){return n?.animationName||"none"}function Y4(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var $4=cD[" useInsertionEffect ".trim().toString()]||Fu;function Z4({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[s,a,l]=K4({defaultProp:e,onChange:t}),u=n!==void 0,h=u?n:s;{const g=L.useRef(n!==void 0);L.useEffect(()=>{const m=g.current;m!==u&&console.warn(`${i} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,i])}const p=L.useCallback(g=>{if(u){const m=Q4(g)?g(n):g;m!==n&&l.current?.(m)}else a(g)},[u,n,a,l]);return[h,p]}function K4({defaultProp:n,onChange:e}){const[t,i]=L.useState(n),s=L.useRef(t),a=L.useRef(e);return $4(()=>{a.current=e},[e]),L.useEffect(()=>{s.current!==t&&(a.current?.(t),s.current=t)},[t,s]),[t,i,a]}function Q4(n){return typeof n=="function"}var J4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ez="VisuallyHidden",C1=L.forwardRef((n,e)=>C.jsx(ia.span,{...n,ref:e,style:{...J4,...n.style}}));C1.displayName=ez;var tz=C1,iT="ToastProvider",[sT,nz,iz]=C4("Toast"),[gD]=A1("Toast",[iz]),[sz,R1]=gD(iT),yD=n=>{const{__scopeToast:e,label:t="Notification",duration:i=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:l}=n,[u,h]=L.useState(null),[p,g]=L.useState(0),m=L.useRef(!1),x=L.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${iT}\`. Expected non-empty \`string\`.`),C.jsx(sT.Provider,{scope:e,children:C.jsx(sz,{scope:e,label:t,duration:i,swipeDirection:s,swipeThreshold:a,toastCount:p,viewport:u,onViewportChange:h,onToastAdd:L.useCallback(()=>g(b=>b+1),[]),onToastRemove:L.useCallback(()=>g(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:x,children:l})})};yD.displayName=iT;var vD="ToastViewport",rz=["F8"],qw="toast.viewportPause",Yw="toast.viewportResume",xD=L.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:i=rz,label:s="Notifications ({hotkey})",...a}=n,l=R1(vD,t),u=nz(t),h=L.useRef(null),p=L.useRef(null),g=L.useRef(null),m=L.useRef(null),x=Io(e,m,l.onViewportChange),b=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=l.toastCount>0;L.useEffect(()=>{const T=M=>{i.length!==0&&i.every(D=>M[D]||M.code===D)&&m.current?.focus()};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[i]),L.useEffect(()=>{const T=h.current,M=m.current;if(w&&T&&M){const N=()=>{if(!l.isClosePausedRef.current){const F=new CustomEvent(qw);M.dispatchEvent(F),l.isClosePausedRef.current=!0}},D=()=>{if(l.isClosePausedRef.current){const F=new CustomEvent(Yw);M.dispatchEvent(F),l.isClosePausedRef.current=!1}},I=F=>{!T.contains(F.relatedTarget)&&D()},O=()=>{T.contains(document.activeElement)||D()};return T.addEventListener("focusin",N),T.addEventListener("focusout",I),T.addEventListener("pointermove",N),T.addEventListener("pointerleave",O),window.addEventListener("blur",N),window.addEventListener("focus",D),()=>{T.removeEventListener("focusin",N),T.removeEventListener("focusout",I),T.removeEventListener("pointermove",N),T.removeEventListener("pointerleave",O),window.removeEventListener("blur",N),window.removeEventListener("focus",D)}}},[w,l.isClosePausedRef]);const A=L.useCallback(({tabbingDirection:T})=>{const N=u().map(D=>{const I=D.ref.current,O=[I,...vz(I)];return T==="forwards"?O:O.reverse()});return(T==="forwards"?N.reverse():N).flat()},[u]);return L.useEffect(()=>{const T=m.current;if(T){const M=N=>{const D=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!D){const O=document.activeElement,F=N.shiftKey;if(N.target===T&&F){p.current?.focus();return}const z=A({tabbingDirection:F?"backwards":"forwards"}),k=z.findIndex($=>$===O);xS(z.slice(k+1))?N.preventDefault():F?p.current?.focus():g.current?.focus()}};return T.addEventListener("keydown",M),()=>T.removeEventListener("keydown",M)}},[u,A]),C.jsxs(G4,{ref:h,role:"region","aria-label":s.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&C.jsx($w,{ref:p,onFocusFromOutsideViewport:()=>{const T=A({tabbingDirection:"forwards"});xS(T)}}),C.jsx(sT.Slot,{scope:t,children:C.jsx(ia.ol,{tabIndex:-1,...a,ref:x})}),w&&C.jsx($w,{ref:g,onFocusFromOutsideViewport:()=>{const T=A({tabbingDirection:"backwards"});xS(T)}})]})});xD.displayName=vD;var bD="ToastFocusProxy",$w=L.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:i,...s}=n,a=R1(bD,t);return C.jsx(C1,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:l=>{const u=l.relatedTarget;!a.viewport?.contains(u)&&i()}})});$w.displayName=bD;var F0="Toast",az="toast.swipeStart",oz="toast.swipeMove",lz="toast.swipeCancel",cz="toast.swipeEnd",_D=L.forwardRef((n,e)=>{const{forceMount:t,open:i,defaultOpen:s,onOpenChange:a,...l}=n,[u,h]=Z4({prop:i,defaultProp:s??!0,onChange:a,caller:F0});return C.jsx(nT,{present:t||u,children:C.jsx(dz,{open:u,...l,ref:e,onClose:()=>h(!1),onPause:zu(n.onPause),onResume:zu(n.onResume),onSwipeStart:gs(n.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:gs(n.onSwipeMove,p=>{const{x:g,y:m}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:gs(n.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:gs(n.onSwipeEnd,p=>{const{x:g,y:m}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),h(!1)})})})});_D.displayName=F0;var[uz,fz]=gD(F0,{onClose(){}}),dz=L.forwardRef((n,e)=>{const{__scopeToast:t,type:i="foreground",duration:s,open:a,onClose:l,onEscapeKeyDown:u,onPause:h,onResume:p,onSwipeStart:g,onSwipeMove:m,onSwipeCancel:x,onSwipeEnd:b,...w}=n,A=R1(F0,t),[T,M]=L.useState(null),N=Io(e,ne=>M(ne)),D=L.useRef(null),I=L.useRef(null),O=s||A.duration,F=L.useRef(0),B=L.useRef(O),H=L.useRef(0),{onToastAdd:z,onToastRemove:k}=A,$=zu(()=>{T?.contains(document.activeElement)&&A.viewport?.focus(),l()}),se=L.useCallback(ne=>{!ne||ne===1/0||(window.clearTimeout(H.current),F.current=new Date().getTime(),H.current=window.setTimeout($,ne))},[$]);L.useEffect(()=>{const ne=A.viewport;if(ne){const ae=()=>{se(B.current),p?.()},X=()=>{const Z=new Date().getTime()-F.current;B.current=B.current-Z,window.clearTimeout(H.current),h?.()};return ne.addEventListener(qw,X),ne.addEventListener(Yw,ae),()=>{ne.removeEventListener(qw,X),ne.removeEventListener(Yw,ae)}}},[A.viewport,O,h,p,se]),L.useEffect(()=>{a&&!A.isClosePausedRef.current&&se(O)},[a,O,A.isClosePausedRef,se]),L.useEffect(()=>(z(),()=>k()),[z,k]);const ee=L.useMemo(()=>T?CD(T):null,[T]);return A.viewport?C.jsxs(C.Fragment,{children:[ee&&C.jsx(hz,{__scopeToast:t,role:"status","aria-live":i==="foreground"?"assertive":"polite",children:ee}),C.jsx(uz,{scope:t,onClose:$,children:T1.createPortal(C.jsx(sT.ItemSlot,{scope:t,children:C.jsx(j4,{asChild:!0,onEscapeKeyDown:gs(u,()=>{A.isFocusedToastEscapeKeyDownRef.current||$(),A.isFocusedToastEscapeKeyDownRef.current=!1}),children:C.jsx(ia.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":A.swipeDirection,...w,ref:N,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:gs(n.onKeyDown,ne=>{ne.key==="Escape"&&(u?.(ne.nativeEvent),ne.nativeEvent.defaultPrevented||(A.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:gs(n.onPointerDown,ne=>{ne.button===0&&(D.current={x:ne.clientX,y:ne.clientY})}),onPointerMove:gs(n.onPointerMove,ne=>{if(!D.current)return;const ae=ne.clientX-D.current.x,X=ne.clientY-D.current.y,Z=!!I.current,Q=["left","right"].includes(A.swipeDirection),ye=["left","up"].includes(A.swipeDirection)?Math.min:Math.max,Se=Q?ye(0,ae):0,q=Q?0:ye(0,X),ue=ne.pointerType==="touch"?10:2,fe={x:Se,y:q},Te={originalEvent:ne,delta:fe};Z?(I.current=fe,Hv(oz,m,Te,{discrete:!1})):iC(fe,A.swipeDirection,ue)?(I.current=fe,Hv(az,g,Te,{discrete:!1}),ne.target.setPointerCapture(ne.pointerId)):(Math.abs(ae)>ue||Math.abs(X)>ue)&&(D.current=null)}),onPointerUp:gs(n.onPointerUp,ne=>{const ae=I.current,X=ne.target;if(X.hasPointerCapture(ne.pointerId)&&X.releasePointerCapture(ne.pointerId),I.current=null,D.current=null,ae){const Z=ne.currentTarget,Q={originalEvent:ne,delta:ae};iC(ae,A.swipeDirection,A.swipeThreshold)?Hv(cz,b,Q,{discrete:!0}):Hv(lz,x,Q,{discrete:!0}),Z.addEventListener("click",ye=>ye.preventDefault(),{once:!0})}})})})}),A.viewport)})]}):null}),hz=n=>{const{__scopeToast:e,children:t,...i}=n,s=R1(F0,e),[a,l]=L.useState(!1),[u,h]=L.useState(!1);return gz(()=>l(!0)),L.useEffect(()=>{const p=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(p)},[]),u?null:C.jsx(mD,{asChild:!0,children:C.jsx(C1,{...i,children:a&&C.jsxs(C.Fragment,{children:[s.label," ",t]})})})},pz="ToastTitle",SD=L.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return C.jsx(ia.div,{...i,ref:e})});SD.displayName=pz;var mz="ToastDescription",wD=L.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return C.jsx(ia.div,{...i,ref:e})});wD.displayName=mz;var MD="ToastAction",TD=L.forwardRef((n,e)=>{const{altText:t,...i}=n;return t.trim()?C.jsx(AD,{altText:t,asChild:!0,children:C.jsx(rT,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${MD}\`. Expected non-empty \`string\`.`),null)});TD.displayName=MD;var ED="ToastClose",rT=L.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n,s=fz(ED,t);return C.jsx(AD,{asChild:!0,children:C.jsx(ia.button,{type:"button",...i,ref:e,onClick:gs(n.onClick,s.onClose)})})});rT.displayName=ED;var AD=L.forwardRef((n,e)=>{const{__scopeToast:t,altText:i,...s}=n;return C.jsx(ia.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...s,ref:e})});function CD(n){const e=[];return Array.from(n.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),yz(i)){const s=i.ariaHidden||i.hidden||i.style.display==="none",a=i.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const l=i.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...CD(i))}}),e}function Hv(n,e,t,{discrete:i}){const s=t.originalEvent.currentTarget,a=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),i?fD(s,a):s.dispatchEvent(a)}var iC=(n,e,t=0)=>{const i=Math.abs(n.x),s=Math.abs(n.y),a=i>s;return e==="left"||e==="right"?a&&i>t:!a&&s>t};function gz(n=()=>{}){const e=zu(n);Fu(()=>{let t=0,i=0;return t=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(i)}},[e])}function yz(n){return n.nodeType===n.ELEMENT_NODE}function vz(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function xS(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var xz=yD,RD=xD,ND=_D,DD=SD,PD=wD,ID=TD,LD=rT;function OD(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=OD(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function UD(){for(var n,e,t=0,i="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=OD(n))&&(i&&(i+=" "),i+=e);return i}const sC=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,rC=UD,zD=(n,e)=>t=>{var i;if(e?.variants==null)return rC(n,t?.class,t?.className);const{variants:s,defaultVariants:a}=e,l=Object.keys(s).map(p=>{const g=t?.[p],m=a?.[p];if(g===null)return null;const x=sC(g)||sC(m);return s[p][x]}),u=t&&Object.entries(t).reduce((p,g)=>{let[m,x]=g;return x===void 0||(p[m]=x),p},{}),h=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((p,g)=>{let{class:m,className:x,...b}=g;return Object.entries(b).every(w=>{let[A,T]=w;return Array.isArray(T)?T.includes({...a,...u}[A]):{...a,...u}[A]===T})?[...p,m,x]:p},[]);return rC(n,l,h,t?.class,t?.className)};const bz=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_z=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),aC=n=>{const e=_z(n);return e.charAt(0).toUpperCase()+e.slice(1)},FD=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),Sz=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var wz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Mz=L.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:l,...u},h)=>L.createElement("svg",{ref:h,...wz,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:FD("lucide",s),...!a&&!Sz(u)&&{"aria-hidden":"true"},...u},[...l.map(([p,g])=>L.createElement(p,g)),...Array.isArray(a)?a:[a]]));const gn=(n,e)=>{const t=L.forwardRef(({className:i,...s},a)=>L.createElement(Mz,{ref:a,iconNode:e,className:FD(`lucide-${bz(aC(n))}`,`lucide-${n}`,i),...s}));return t.displayName=aC(n),t};const Tz=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Ez=gn("arrow-down",Tz);const Az=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Wg=gn("arrow-right",Az);const Cz=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Rz=gn("arrow-up-right",Cz);const Nz=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Dz=gn("award",Nz);const Pz=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],aT=gn("building-2",Pz);const Iz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Lz=gn("calendar",Iz);const Oz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Uz=gn("chevron-down",Oz);const zz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Fz=gn("chevron-left",zz);const Bz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],kz=gn("chevron-right",Bz);const Vz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Hz=gn("circle-check-big",Vz);const jz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],N1=gn("circle-check",jz);const Gz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Wz=gn("circle-question-mark",Gz);const Xz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],BD=gn("clock",Xz);const qz=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Yz=gn("cpu",qz);const $z=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],oC=gn("droplets",$z);const Zz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Kz=gn("external-link",Zz);const Qz=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Jz=gn("factory",Qz);const eF=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],tF=gn("file-text",eF);const nF=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],iF=gn("gauge",nF);const sF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],rF=gn("globe",sF);const aF=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],oT=gn("leaf",aF);const oF=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],lF=gn("lightbulb",oF);const cF=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],uF=gn("loader-circle",cF);const fF=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],lT=gn("mail",fF);const dF=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Dp=gn("map-pin",dF);const hF=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],pF=gn("menu",hF);const mF=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],gF=gn("message-square",mF);const yF=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ub=gn("phone",yF);const vF=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],xF=gn("send",vF);const bF=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kD=gn("settings",bF);const _F=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],D1=gn("shield",_F);const SF=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],l0=gn("sparkles",SF);const wF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],MF=gn("target",wF);const TF=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],EF=gn("thermometer",TF);const AF=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],CF=gn("trending-up",AF);const RF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],NF=gn("user",RF);const DF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],VD=gn("users",DF);const PF=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],lC=gn("waves",PF);const IF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cT=gn("x",IF);const LF=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],pd=gn("zap",LF),OF=(n,e)=>{const t=new Array(n.length+e.length);for(let i=0;i<n.length;i++)t[i]=n[i];for(let i=0;i<e.length;i++)t[n.length+i]=e[i];return t},UF=(n,e)=>({classGroupId:n,validator:e}),HD=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),fb="-",cC=[],zF="arbitrary..",FF=n=>{const e=kF(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return BF(l);const u=l.split(fb),h=u[0]===""&&u.length>1?1:0;return jD(u,h,e)},getConflictingClassGroupIds:(l,u)=>{if(u){const h=i[l],p=t[l];return h?p?OF(p,h):h:p||cC}return t[l]||cC}}},jD=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const s=n[e],a=t.nextPart.get(s);if(a){const p=jD(n,e+1,a);if(p)return p}const l=t.validators;if(l===null)return;const u=e===0?n.join(fb):n.slice(e).join(fb),h=l.length;for(let p=0;p<h;p++){const g=l[p];if(g.validator(u))return g.classGroupId}},BF=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),i=e.slice(0,t);return i?zF+i:void 0})(),kF=n=>{const{theme:e,classGroups:t}=n;return VF(t,e)},VF=(n,e)=>{const t=HD();for(const i in n){const s=n[i];uT(s,t,i,e)}return t},uT=(n,e,t,i)=>{const s=n.length;for(let a=0;a<s;a++){const l=n[a];HF(l,e,t,i)}},HF=(n,e,t,i)=>{if(typeof n=="string"){jF(n,e,t);return}if(typeof n=="function"){GF(n,e,t,i);return}WF(n,e,t,i)},jF=(n,e,t)=>{const i=n===""?e:GD(e,n);i.classGroupId=t},GF=(n,e,t,i)=>{if(XF(n)){uT(n(i),e,t,i);return}e.validators===null&&(e.validators=[]),e.validators.push(UF(t,n))},WF=(n,e,t,i)=>{const s=Object.entries(n),a=s.length;for(let l=0;l<a;l++){const[u,h]=s[l];uT(h,GD(e,u),t,i)}},GD=(n,e)=>{let t=n;const i=e.split(fb),s=i.length;for(let a=0;a<s;a++){const l=i[a];let u=t.nextPart.get(l);u||(u=HD(),t.nextPart.set(l,u)),t=u}return t},XF=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,qF=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),i=Object.create(null);const s=(a,l)=>{t[a]=l,e++,e>n&&(e=0,i=t,t=Object.create(null))};return{get(a){let l=t[a];if(l!==void 0)return l;if((l=i[a])!==void 0)return s(a,l),l},set(a,l){a in t?t[a]=l:s(a,l)}}},Zw="!",uC=":",YF=[],fC=(n,e,t,i,s)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:i,isExternal:s}),$F=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=s=>{const a=[];let l=0,u=0,h=0,p;const g=s.length;for(let A=0;A<g;A++){const T=s[A];if(l===0&&u===0){if(T===uC){a.push(s.slice(h,A)),h=A+1;continue}if(T==="/"){p=A;continue}}T==="["?l++:T==="]"?l--:T==="("?u++:T===")"&&u--}const m=a.length===0?s:s.slice(h);let x=m,b=!1;m.endsWith(Zw)?(x=m.slice(0,-1),b=!0):m.startsWith(Zw)&&(x=m.slice(1),b=!0);const w=p&&p>h?p-h:void 0;return fC(a,b,x,w)};if(e){const s=e+uC,a=i;i=l=>l.startsWith(s)?a(l.slice(s.length)):fC(YF,!1,l,void 0,!0)}if(t){const s=i;i=a=>t({className:a,parseClassName:s})}return i},ZF=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,i)=>{e.set(t,1e6+i)}),t=>{const i=[];let s=[];for(let a=0;a<t.length;a++){const l=t[a],u=l[0]==="[",h=e.has(l);u||h?(s.length>0&&(s.sort(),i.push(...s),s=[]),i.push(l)):s.push(l)}return s.length>0&&(s.sort(),i.push(...s)),i}},KF=n=>({cache:qF(n.cacheSize),parseClassName:$F(n),sortModifiers:ZF(n),...FF(n)}),QF=/\s+/,JF=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:a}=e,l=[],u=n.trim().split(QF);let h="";for(let p=u.length-1;p>=0;p-=1){const g=u[p],{isExternal:m,modifiers:x,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:A}=t(g);if(m){h=g+(h.length>0?" "+h:h);continue}let T=!!A,M=i(T?w.substring(0,A):w);if(!M){if(!T){h=g+(h.length>0?" "+h:h);continue}if(M=i(w),!M){h=g+(h.length>0?" "+h:h);continue}T=!1}const N=x.length===0?"":x.length===1?x[0]:a(x).join(":"),D=b?N+Zw:N,I=D+M;if(l.indexOf(I)>-1)continue;l.push(I);const O=s(M,T);for(let F=0;F<O.length;++F){const B=O[F];l.push(D+B)}h=g+(h.length>0?" "+h:h)}return h},eB=(...n)=>{let e=0,t,i,s="";for(;e<n.length;)(t=n[e++])&&(i=WD(t))&&(s&&(s+=" "),s+=i);return s},WD=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=WD(n[i]))&&(t&&(t+=" "),t+=e);return t},tB=(n,...e)=>{let t,i,s,a;const l=h=>{const p=e.reduce((g,m)=>m(g),n());return t=KF(p),i=t.cache.get,s=t.cache.set,a=u,u(h)},u=h=>{const p=i(h);if(p)return p;const g=JF(h,t);return s(h,g),g};return a=l,(...h)=>a(eB(...h))},nB=[],ps=n=>{const e=t=>t[n]||nB;return e.isThemeGetter=!0,e},XD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,qD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,iB=/^\d+\/\d+$/,sB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,oB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nh=n=>iB.test(n),bn=n=>!!n&&!Number.isNaN(Number(n)),Su=n=>!!n&&Number.isInteger(Number(n)),bS=n=>n.endsWith("%")&&bn(n.slice(0,-1)),pc=n=>sB.test(n),cB=()=>!0,uB=n=>rB.test(n)&&!aB.test(n),YD=()=>!1,fB=n=>oB.test(n),dB=n=>lB.test(n),hB=n=>!Ct(n)&&!Rt(n),pB=n=>Pp(n,KD,YD),Ct=n=>XD.test(n),Ff=n=>Pp(n,QD,uB),_S=n=>Pp(n,xB,bn),dC=n=>Pp(n,$D,YD),mB=n=>Pp(n,ZD,dB),jv=n=>Pp(n,JD,fB),Rt=n=>qD.test(n),wg=n=>Ip(n,QD),gB=n=>Ip(n,bB),hC=n=>Ip(n,$D),yB=n=>Ip(n,KD),vB=n=>Ip(n,ZD),Gv=n=>Ip(n,JD,!0),Pp=(n,e,t)=>{const i=XD.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},Ip=(n,e,t=!1)=>{const i=qD.exec(n);return i?i[1]?e(i[1]):t:!1},$D=n=>n==="position"||n==="percentage",ZD=n=>n==="image"||n==="url",KD=n=>n==="length"||n==="size"||n==="bg-size",QD=n=>n==="length",xB=n=>n==="number",bB=n=>n==="family-name",JD=n=>n==="shadow",_B=()=>{const n=ps("color"),e=ps("font"),t=ps("text"),i=ps("font-weight"),s=ps("tracking"),a=ps("leading"),l=ps("breakpoint"),u=ps("container"),h=ps("spacing"),p=ps("radius"),g=ps("shadow"),m=ps("inset-shadow"),x=ps("text-shadow"),b=ps("drop-shadow"),w=ps("blur"),A=ps("perspective"),T=ps("aspect"),M=ps("ease"),N=ps("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...I(),Rt,Ct],F=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],H=()=>[Rt,Ct,h],z=()=>[Nh,"full","auto",...H()],k=()=>[Su,"none","subgrid",Rt,Ct],$=()=>["auto",{span:["full",Su,Rt,Ct]},Su,Rt,Ct],se=()=>[Su,"auto",Rt,Ct],ee=()=>["auto","min","max","fr",Rt,Ct],ne=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ae=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...H()],Z=()=>[Nh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...H()],Q=()=>[n,Rt,Ct],ye=()=>[...I(),hC,dC,{position:[Rt,Ct]}],Se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",yB,pB,{size:[Rt,Ct]}],ue=()=>[bS,wg,Ff],fe=()=>["","none","full",p,Rt,Ct],Te=()=>["",bn,wg,Ff],Ve=()=>["solid","dashed","dotted","double"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>[bn,bS,hC,dC],Fe=()=>["","none",w,Rt,Ct],Ze=()=>["none",bn,Rt,Ct],rt=()=>["none",bn,Rt,Ct],kt=()=>[bn,Rt,Ct],Vt=()=>[Nh,"full",...H()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[pc],breakpoint:[pc],color:[cB],container:[pc],"drop-shadow":[pc],ease:["in","out","in-out"],font:[hB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[pc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[pc],shadow:[pc],spacing:["px",bn],text:[pc],"text-shadow":[pc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Nh,Ct,Rt,T]}],container:["container"],columns:[{columns:[bn,Ct,Rt,u]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[Su,"auto",Rt,Ct]}],basis:[{basis:[Nh,"full","auto",u,...H()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[bn,Nh,"auto","initial","none",Ct]}],grow:[{grow:["",bn,Rt,Ct]}],shrink:[{shrink:["",bn,Rt,Ct]}],order:[{order:[Su,"first","last","none",Rt,Ct]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ee()}],"auto-rows":[{"auto-rows":ee()}],gap:[{gap:H()}],"gap-x":[{"gap-x":H()}],"gap-y":[{"gap-y":H()}],"justify-content":[{justify:[...ne(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...ne()]}],"align-items":[{items:[...ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":ne()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:H()}],px:[{px:H()}],py:[{py:H()}],ps:[{ps:H()}],pe:[{pe:H()}],pt:[{pt:H()}],pr:[{pr:H()}],pb:[{pb:H()}],pl:[{pl:H()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":H()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":H()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[u,"screen",...Z()]}],"min-w":[{"min-w":[u,"screen","none",...Z()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",t,wg,Ff]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Rt,_S]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",bS,Ct]}],"font-family":[{font:[gB,Ct,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Rt,Ct]}],"line-clamp":[{"line-clamp":[bn,"none",Rt,_S]}],leading:[{leading:[a,...H()]}],"list-image":[{"list-image":["none",Rt,Ct]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Rt,Ct]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Q()}],"text-color":[{text:Q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[bn,"from-font","auto",Rt,Ff]}],"text-decoration-color":[{decoration:Q()}],"underline-offset":[{"underline-offset":[bn,"auto",Rt,Ct]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Rt,Ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Rt,Ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ye()}],"bg-repeat":[{bg:Se()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Su,Rt,Ct],radial:["",Rt,Ct],conic:[Su,Rt,Ct]},vB,mB]}],"bg-color":[{bg:Q()}],"gradient-from-pos":[{from:ue()}],"gradient-via-pos":[{via:ue()}],"gradient-to-pos":[{to:ue()}],"gradient-from":[{from:Q()}],"gradient-via":[{via:Q()}],"gradient-to":[{to:Q()}],rounded:[{rounded:fe()}],"rounded-s":[{"rounded-s":fe()}],"rounded-e":[{"rounded-e":fe()}],"rounded-t":[{"rounded-t":fe()}],"rounded-r":[{"rounded-r":fe()}],"rounded-b":[{"rounded-b":fe()}],"rounded-l":[{"rounded-l":fe()}],"rounded-ss":[{"rounded-ss":fe()}],"rounded-se":[{"rounded-se":fe()}],"rounded-ee":[{"rounded-ee":fe()}],"rounded-es":[{"rounded-es":fe()}],"rounded-tl":[{"rounded-tl":fe()}],"rounded-tr":[{"rounded-tr":fe()}],"rounded-br":[{"rounded-br":fe()}],"rounded-bl":[{"rounded-bl":fe()}],"border-w":[{border:Te()}],"border-w-x":[{"border-x":Te()}],"border-w-y":[{"border-y":Te()}],"border-w-s":[{"border-s":Te()}],"border-w-e":[{"border-e":Te()}],"border-w-t":[{"border-t":Te()}],"border-w-r":[{"border-r":Te()}],"border-w-b":[{"border-b":Te()}],"border-w-l":[{"border-l":Te()}],"divide-x":[{"divide-x":Te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ve(),"hidden","none"]}],"divide-style":[{divide:[...Ve(),"hidden","none"]}],"border-color":[{border:Q()}],"border-color-x":[{"border-x":Q()}],"border-color-y":[{"border-y":Q()}],"border-color-s":[{"border-s":Q()}],"border-color-e":[{"border-e":Q()}],"border-color-t":[{"border-t":Q()}],"border-color-r":[{"border-r":Q()}],"border-color-b":[{"border-b":Q()}],"border-color-l":[{"border-l":Q()}],"divide-color":[{divide:Q()}],"outline-style":[{outline:[...Ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[bn,Rt,Ct]}],"outline-w":[{outline:["",bn,wg,Ff]}],"outline-color":[{outline:Q()}],shadow:[{shadow:["","none",g,Gv,jv]}],"shadow-color":[{shadow:Q()}],"inset-shadow":[{"inset-shadow":["none",m,Gv,jv]}],"inset-shadow-color":[{"inset-shadow":Q()}],"ring-w":[{ring:Te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Q()}],"ring-offset-w":[{"ring-offset":[bn,Ff]}],"ring-offset-color":[{"ring-offset":Q()}],"inset-ring-w":[{"inset-ring":Te()}],"inset-ring-color":[{"inset-ring":Q()}],"text-shadow":[{"text-shadow":["none",x,Gv,jv]}],"text-shadow-color":[{"text-shadow":Q()}],opacity:[{opacity:[bn,Rt,Ct]}],"mix-blend":[{"mix-blend":[...he(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":he()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[bn]}],"mask-image-linear-from-pos":[{"mask-linear-from":ve()}],"mask-image-linear-to-pos":[{"mask-linear-to":ve()}],"mask-image-linear-from-color":[{"mask-linear-from":Q()}],"mask-image-linear-to-color":[{"mask-linear-to":Q()}],"mask-image-t-from-pos":[{"mask-t-from":ve()}],"mask-image-t-to-pos":[{"mask-t-to":ve()}],"mask-image-t-from-color":[{"mask-t-from":Q()}],"mask-image-t-to-color":[{"mask-t-to":Q()}],"mask-image-r-from-pos":[{"mask-r-from":ve()}],"mask-image-r-to-pos":[{"mask-r-to":ve()}],"mask-image-r-from-color":[{"mask-r-from":Q()}],"mask-image-r-to-color":[{"mask-r-to":Q()}],"mask-image-b-from-pos":[{"mask-b-from":ve()}],"mask-image-b-to-pos":[{"mask-b-to":ve()}],"mask-image-b-from-color":[{"mask-b-from":Q()}],"mask-image-b-to-color":[{"mask-b-to":Q()}],"mask-image-l-from-pos":[{"mask-l-from":ve()}],"mask-image-l-to-pos":[{"mask-l-to":ve()}],"mask-image-l-from-color":[{"mask-l-from":Q()}],"mask-image-l-to-color":[{"mask-l-to":Q()}],"mask-image-x-from-pos":[{"mask-x-from":ve()}],"mask-image-x-to-pos":[{"mask-x-to":ve()}],"mask-image-x-from-color":[{"mask-x-from":Q()}],"mask-image-x-to-color":[{"mask-x-to":Q()}],"mask-image-y-from-pos":[{"mask-y-from":ve()}],"mask-image-y-to-pos":[{"mask-y-to":ve()}],"mask-image-y-from-color":[{"mask-y-from":Q()}],"mask-image-y-to-color":[{"mask-y-to":Q()}],"mask-image-radial":[{"mask-radial":[Rt,Ct]}],"mask-image-radial-from-pos":[{"mask-radial-from":ve()}],"mask-image-radial-to-pos":[{"mask-radial-to":ve()}],"mask-image-radial-from-color":[{"mask-radial-from":Q()}],"mask-image-radial-to-color":[{"mask-radial-to":Q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[bn]}],"mask-image-conic-from-pos":[{"mask-conic-from":ve()}],"mask-image-conic-to-pos":[{"mask-conic-to":ve()}],"mask-image-conic-from-color":[{"mask-conic-from":Q()}],"mask-image-conic-to-color":[{"mask-conic-to":Q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ye()}],"mask-repeat":[{mask:Se()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Rt,Ct]}],filter:[{filter:["","none",Rt,Ct]}],blur:[{blur:Fe()}],brightness:[{brightness:[bn,Rt,Ct]}],contrast:[{contrast:[bn,Rt,Ct]}],"drop-shadow":[{"drop-shadow":["","none",b,Gv,jv]}],"drop-shadow-color":[{"drop-shadow":Q()}],grayscale:[{grayscale:["",bn,Rt,Ct]}],"hue-rotate":[{"hue-rotate":[bn,Rt,Ct]}],invert:[{invert:["",bn,Rt,Ct]}],saturate:[{saturate:[bn,Rt,Ct]}],sepia:[{sepia:["",bn,Rt,Ct]}],"backdrop-filter":[{"backdrop-filter":["","none",Rt,Ct]}],"backdrop-blur":[{"backdrop-blur":Fe()}],"backdrop-brightness":[{"backdrop-brightness":[bn,Rt,Ct]}],"backdrop-contrast":[{"backdrop-contrast":[bn,Rt,Ct]}],"backdrop-grayscale":[{"backdrop-grayscale":["",bn,Rt,Ct]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[bn,Rt,Ct]}],"backdrop-invert":[{"backdrop-invert":["",bn,Rt,Ct]}],"backdrop-opacity":[{"backdrop-opacity":[bn,Rt,Ct]}],"backdrop-saturate":[{"backdrop-saturate":[bn,Rt,Ct]}],"backdrop-sepia":[{"backdrop-sepia":["",bn,Rt,Ct]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":H()}],"border-spacing-x":[{"border-spacing-x":H()}],"border-spacing-y":[{"border-spacing-y":H()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Rt,Ct]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[bn,"initial",Rt,Ct]}],ease:[{ease:["linear","initial",M,Rt,Ct]}],delay:[{delay:[bn,Rt,Ct]}],animate:[{animate:["none",N,Rt,Ct]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,Rt,Ct]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:Ze()}],"rotate-x":[{"rotate-x":Ze()}],"rotate-y":[{"rotate-y":Ze()}],"rotate-z":[{"rotate-z":Ze()}],scale:[{scale:rt()}],"scale-x":[{"scale-x":rt()}],"scale-y":[{"scale-y":rt()}],"scale-z":[{"scale-z":rt()}],"scale-3d":["scale-3d"],skew:[{skew:kt()}],"skew-x":[{"skew-x":kt()}],"skew-y":[{"skew-y":kt()}],transform:[{transform:[Rt,Ct,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Vt()}],"translate-x":[{"translate-x":Vt()}],"translate-y":[{"translate-y":Vt()}],"translate-z":[{"translate-z":Vt()}],"translate-none":["translate-none"],accent:[{accent:Q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Rt,Ct]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Rt,Ct]}],fill:[{fill:["none",...Q()]}],"stroke-w":[{stroke:[bn,wg,Ff,_S]}],stroke:[{stroke:["none",...Q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},SB=tB(_B);function Il(...n){return SB(UD(n))}const wB=xz,eP=L.forwardRef(({className:n,...e},t)=>C.jsx(RD,{ref:t,className:Il("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));eP.displayName=RD.displayName;const MB=zD("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),tP=L.forwardRef(({className:n,variant:e,...t},i)=>C.jsx(ND,{ref:i,className:Il(MB({variant:e}),n),...t}));tP.displayName=ND.displayName;const TB=L.forwardRef(({className:n,...e},t)=>C.jsx(ID,{ref:t,className:Il("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",n),...e}));TB.displayName=ID.displayName;const nP=L.forwardRef(({className:n,...e},t)=>C.jsx(LD,{ref:t,className:Il("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:C.jsx(cT,{className:"h-4 w-4"})}));nP.displayName=LD.displayName;const iP=L.forwardRef(({className:n,...e},t)=>C.jsx(DD,{ref:t,className:Il("text-sm font-semibold",n),...e}));iP.displayName=DD.displayName;const sP=L.forwardRef(({className:n,...e},t)=>C.jsx(PD,{ref:t,className:Il("text-sm opacity-90",n),...e}));sP.displayName=PD.displayName;function EB(){const{toasts:n}=_4();return C.jsxs(wB,{children:[n.map(function({id:e,title:t,description:i,action:s,...a}){return C.jsxs(tP,{...a,children:[C.jsxs("div",{className:"grid gap-1",children:[t&&C.jsx(iP,{children:t}),i&&C.jsx(sP,{children:i})]}),s,C.jsx(nP,{})]},e)}),C.jsx(eP,{})]})}var AB=(n,e,t,i,s,a,l,u)=>{let h=document.documentElement,p=["light","dark"];function g(b){(Array.isArray(n)?n:[n]).forEach(w=>{let A=w==="class",T=A&&a?s.map(M=>a[M]||M):s;A?(h.classList.remove(...T),h.classList.add(a&&a[b]?a[b]:b)):h.setAttribute(w,b)}),m(b)}function m(b){u&&p.includes(b)&&(h.style.colorScheme=b)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(i)g(i);else try{let b=localStorage.getItem(e)||t,w=l&&b==="system"?x():b;g(w)}catch{}},CB=L.createContext(void 0),RB={setTheme:n=>{},themes:[]},NB=()=>{var n;return(n=L.useContext(CB))!=null?n:RB};L.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:i,enableColorScheme:s,defaultTheme:a,value:l,themes:u,nonce:h,scriptProps:p})=>{let g=JSON.stringify([t,e,a,n,u,l,i,s]).slice(1,-1);return L.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${AB.toString()})(${g})`}})});function DB(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const PB=n=>{switch(n){case"success":return OB;case"info":return zB;case"warning":return UB;case"error":return FB;default:return null}},IB=Array(12).fill(0),LB=({visible:n,className:e})=>it.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},it.createElement("div",{className:"sonner-spinner"},IB.map((t,i)=>it.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),OB=it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},it.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),UB=it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},it.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zB=it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},it.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),FB=it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},it.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),BB=it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},it.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),it.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),kB=()=>{const[n,e]=it.useState(document.hidden);return it.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let Kw=1;class VB{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:i,...s}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Kw++,l=this.toasts.find(h=>h.id===a),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(h=>h.id===a?(this.publish({...h,...e,id:a,title:i}),{...h,...e,id:a,dismissible:u,title:i}):h):this.addToast({title:i,...s,dismissible:u,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(i=>i({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let i;t.loading!==void 0&&(i=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let a=i!==void 0,l;const u=s.then(async p=>{if(l=["resolve",p],it.isValidElement(p))a=!1,this.create({id:i,type:"default",message:p});else if(jB(p)&&!p.ok){a=!1;const m=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,x=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description,w=typeof m=="object"&&!it.isValidElement(m)?m:{message:m};this.create({id:i,type:"error",description:x,...w})}else if(p instanceof Error){a=!1;const m=typeof t.error=="function"?await t.error(p):t.error,x=typeof t.description=="function"?await t.description(p):t.description,w=typeof m=="object"&&!it.isValidElement(m)?m:{message:m};this.create({id:i,type:"error",description:x,...w})}else if(t.success!==void 0){a=!1;const m=typeof t.success=="function"?await t.success(p):t.success,x=typeof t.description=="function"?await t.description(p):t.description,w=typeof m=="object"&&!it.isValidElement(m)?m:{message:m};this.create({id:i,type:"success",description:x,...w})}}).catch(async p=>{if(l=["reject",p],t.error!==void 0){a=!1;const g=typeof t.error=="function"?await t.error(p):t.error,m=typeof t.description=="function"?await t.description(p):t.description,b=typeof g=="object"&&!it.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:m,...b})}}).finally(()=>{a&&(this.dismiss(i),i=void 0),t.finally==null||t.finally.call(t)}),h=()=>new Promise((p,g)=>u.then(()=>l[0]==="reject"?g(l[1]):p(l[1])).catch(g));return typeof i!="string"&&typeof i!="number"?{unwrap:h}:Object.assign(i,{unwrap:h})},this.custom=(e,t)=>{const i=t?.id||Kw++;return this.create({jsx:e(i),id:i,...t}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const $r=new VB,HB=(n,e)=>{const t=e?.id||Kw++;return $r.addToast({title:n,...e,id:t}),t},jB=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",GB=HB,WB=()=>$r.toasts,XB=()=>$r.getActiveToasts(),Wv=Object.assign(GB,{success:$r.success,info:$r.info,warning:$r.warning,error:$r.error,custom:$r.custom,message:$r.message,promise:$r.promise,dismiss:$r.dismiss,loading:$r.loading},{getHistory:WB,getToasts:XB});DB("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Xv(n){return n.label!==void 0}const qB=3,YB="24px",$B="16px",pC=4e3,ZB=356,KB=14,QB=45,JB=200;function yl(...n){return n.filter(Boolean).join(" ")}function ek(n){const[e,t]=n.split("-"),i=[];return e&&i.push(e),t&&i.push(t),i}const tk=n=>{var e,t,i,s,a,l,u,h,p;const{invert:g,toast:m,unstyled:x,interacting:b,setHeights:w,visibleToasts:A,heights:T,index:M,toasts:N,expanded:D,removeToast:I,defaultRichColors:O,closeButton:F,style:B,cancelButtonStyle:H,actionButtonStyle:z,className:k="",descriptionClassName:$="",duration:se,position:ee,gap:ne,expandByDefault:ae,classNames:X,icons:Z,closeButtonAriaLabel:Q="Close toast"}=n,[ye,Se]=it.useState(null),[q,ue]=it.useState(null),[fe,Te]=it.useState(!1),[Ve,he]=it.useState(!1),[ve,Fe]=it.useState(!1),[Ze,rt]=it.useState(!1),[kt,Vt]=it.useState(!1),[Pt,Le]=it.useState(0),[qe,Oe]=it.useState(0),et=it.useRef(m.duration||se||pC),J=it.useRef(null),xt=it.useRef(null),ot=M===0,Nt=M+1<=A,He=m.type,Y=m.dismissible!==!1,V=m.className||"",ce=m.descriptionClassName||"",Ce=it.useMemo(()=>T.findIndex(xe=>xe.toastId===m.id)||0,[T,m.id]),Ue=it.useMemo(()=>{var xe;return(xe=m.closeButton)!=null?xe:F},[m.closeButton,F]),Ne=it.useMemo(()=>m.duration||se||pC,[m.duration,se]),ft=it.useRef(0),Ke=it.useRef(0),bt=it.useRef(0),Dt=it.useRef(null),[Xe,Je]=ee.split("-"),pt=it.useMemo(()=>T.reduce((xe,Ge,wt)=>wt>=Ce?xe:xe+Ge.height,0),[T,Ce]),dt=kB(),at=m.invert||g,Kt=He==="loading";Ke.current=it.useMemo(()=>Ce*ne+pt,[Ce,pt]),it.useEffect(()=>{et.current=Ne},[Ne]),it.useEffect(()=>{Te(!0)},[]),it.useEffect(()=>{const xe=xt.current;if(xe){const Ge=xe.getBoundingClientRect().height;return Oe(Ge),w(wt=>[{toastId:m.id,height:Ge,position:m.position},...wt]),()=>w(wt=>wt.filter(Gt=>Gt.toastId!==m.id))}},[w,m.id]),it.useLayoutEffect(()=>{if(!fe)return;const xe=xt.current,Ge=xe.style.height;xe.style.height="auto";const wt=xe.getBoundingClientRect().height;xe.style.height=Ge,Oe(wt),w(Gt=>Gt.find(wn=>wn.toastId===m.id)?Gt.map(wn=>wn.toastId===m.id?{...wn,height:wt}:wn):[{toastId:m.id,height:wt,position:m.position},...Gt])},[fe,m.title,m.description,w,m.id,m.jsx,m.action,m.cancel]);const oe=it.useCallback(()=>{he(!0),Le(Ke.current),w(xe=>xe.filter(Ge=>Ge.toastId!==m.id)),setTimeout(()=>{I(m)},JB)},[m,I,w,Ke]);it.useEffect(()=>{if(m.promise&&He==="loading"||m.duration===1/0||m.type==="loading")return;let xe;return D||b||dt?(()=>{if(bt.current<ft.current){const Gt=new Date().getTime()-ft.current;et.current=et.current-Gt}bt.current=new Date().getTime()})():et.current!==1/0&&(ft.current=new Date().getTime(),xe=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),oe()},et.current)),()=>clearTimeout(xe)},[D,b,m,He,dt,oe]),it.useEffect(()=>{m.delete&&(oe(),m.onDismiss==null||m.onDismiss.call(m,m))},[oe,m.delete]);function lt(){var xe;if(Z?.loading){var Ge;return it.createElement("div",{className:yl(X?.loader,m==null||(Ge=m.classNames)==null?void 0:Ge.loader,"sonner-loader"),"data-visible":He==="loading"},Z.loading)}return it.createElement(LB,{className:yl(X?.loader,m==null||(xe=m.classNames)==null?void 0:xe.loader),visible:He==="loading"})}const Qe=m.icon||Z?.[He]||PB(He);var ct,je;return it.createElement("li",{tabIndex:0,ref:xt,className:yl(k,V,X?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,X?.default,X?.[He],m==null||(t=m.classNames)==null?void 0:t[He]),"data-sonner-toast":"","data-rich-colors":(ct=m.richColors)!=null?ct:O,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":fe,"data-promise":!!m.promise,"data-swiped":kt,"data-removed":Ve,"data-visible":Nt,"data-y-position":Xe,"data-x-position":Je,"data-index":M,"data-front":ot,"data-swiping":ve,"data-dismissible":Y,"data-type":He,"data-invert":at,"data-swipe-out":Ze,"data-swipe-direction":q,"data-expanded":!!(D||ae&&fe),"data-testid":m.testId,style:{"--index":M,"--toasts-before":M,"--z-index":N.length-M,"--offset":`${Ve?Pt:Ke.current}px`,"--initial-height":ae?"auto":`${qe}px`,...B,...m.style},onDragEnd:()=>{Fe(!1),Se(null),Dt.current=null},onPointerDown:xe=>{xe.button!==2&&(Kt||!Y||(J.current=new Date,Le(Ke.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(Fe(!0),Dt.current={x:xe.clientX,y:xe.clientY})))},onPointerUp:()=>{var xe,Ge,wt;if(Ze||!Y)return;Dt.current=null;const Gt=Number(((xe=xt.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),fn=Number(((Ge=xt.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),wn=new Date().getTime()-((wt=J.current)==null?void 0:wt.getTime()),Yn=ye==="x"?Gt:fn,sr=Math.abs(Yn)/wn;if(Math.abs(Yn)>=QB||sr>.11){Le(Ke.current),m.onDismiss==null||m.onDismiss.call(m,m),ue(ye==="x"?Gt>0?"right":"left":fn>0?"down":"up"),oe(),rt(!0);return}else{var Di,Vi;(Di=xt.current)==null||Di.style.setProperty("--swipe-amount-x","0px"),(Vi=xt.current)==null||Vi.style.setProperty("--swipe-amount-y","0px")}Vt(!1),Fe(!1),Se(null)},onPointerMove:xe=>{var Ge,wt,Gt;if(!Dt.current||!Y||((Ge=window.getSelection())==null?void 0:Ge.toString().length)>0)return;const wn=xe.clientY-Dt.current.y,Yn=xe.clientX-Dt.current.x;var sr;const Di=(sr=n.swipeDirections)!=null?sr:ek(ee);!ye&&(Math.abs(Yn)>1||Math.abs(wn)>1)&&Se(Math.abs(Yn)>Math.abs(wn)?"x":"y");let Vi={x:0,y:0};const ra=ls=>1/(1.5+Math.abs(ls)/20);if(ye==="y"){if(Di.includes("top")||Di.includes("bottom"))if(Di.includes("top")&&wn<0||Di.includes("bottom")&&wn>0)Vi.y=wn;else{const ls=wn*ra(wn);Vi.y=Math.abs(ls)<Math.abs(wn)?ls:wn}}else if(ye==="x"&&(Di.includes("left")||Di.includes("right")))if(Di.includes("left")&&Yn<0||Di.includes("right")&&Yn>0)Vi.x=Yn;else{const ls=Yn*ra(Yn);Vi.x=Math.abs(ls)<Math.abs(Yn)?ls:Yn}(Math.abs(Vi.x)>0||Math.abs(Vi.y)>0)&&Vt(!0),(wt=xt.current)==null||wt.style.setProperty("--swipe-amount-x",`${Vi.x}px`),(Gt=xt.current)==null||Gt.style.setProperty("--swipe-amount-y",`${Vi.y}px`)}},Ue&&!m.jsx&&He!=="loading"?it.createElement("button",{"aria-label":Q,"data-disabled":Kt,"data-close-button":!0,onClick:Kt||!Y?()=>{}:()=>{oe(),m.onDismiss==null||m.onDismiss.call(m,m)},className:yl(X?.closeButton,m==null||(i=m.classNames)==null?void 0:i.closeButton)},(je=Z?.close)!=null?je:BB):null,(He||m.icon||m.promise)&&m.icon!==null&&(Z?.[He]!==null||m.icon)?it.createElement("div",{"data-icon":"",className:yl(X?.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||lt():null,m.type!=="loading"?Qe:null):null,it.createElement("div",{"data-content":"",className:yl(X?.content,m==null||(a=m.classNames)==null?void 0:a.content)},it.createElement("div",{"data-title":"",className:yl(X?.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?it.createElement("div",{"data-description":"",className:yl($,ce,X?.description,m==null||(u=m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),it.isValidElement(m.cancel)?m.cancel:m.cancel&&Xv(m.cancel)?it.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||H,onClick:xe=>{Xv(m.cancel)&&Y&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,xe),oe())},className:yl(X?.cancelButton,m==null||(h=m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,it.isValidElement(m.action)?m.action:m.action&&Xv(m.action)?it.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||z,onClick:xe=>{Xv(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,xe),!xe.defaultPrevented&&oe())},className:yl(X?.actionButton,m==null||(p=m.classNames)==null?void 0:p.actionButton)},m.action.label):null)};function mC(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function nk(n,e){const t={};return[n,e].forEach((i,s)=>{const a=s===1,l=a?"--mobile-offset":"--offset",u=a?$B:YB;function h(p){["top","right","bottom","left"].forEach(g=>{t[`${l}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof i=="number"||typeof i=="string"?h(i):typeof i=="object"?["top","right","bottom","left"].forEach(p=>{i[p]===void 0?t[`${l}-${p}`]=u:t[`${l}-${p}`]=typeof i[p]=="number"?`${i[p]}px`:i[p]}):h(u)}),t}const ik=it.forwardRef(function(e,t){const{id:i,invert:s,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:h,className:p,offset:g,mobileOffset:m,theme:x="light",richColors:b,duration:w,style:A,visibleToasts:T=qB,toastOptions:M,dir:N=mC(),gap:D=KB,icons:I,containerAriaLabel:O="Notifications"}=e,[F,B]=it.useState([]),H=it.useMemo(()=>i?F.filter(fe=>fe.toasterId===i):F.filter(fe=>!fe.toasterId),[F,i]),z=it.useMemo(()=>Array.from(new Set([a].concat(H.filter(fe=>fe.position).map(fe=>fe.position)))),[H,a]),[k,$]=it.useState([]),[se,ee]=it.useState(!1),[ne,ae]=it.useState(!1),[X,Z]=it.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q=it.useRef(null),ye=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),Se=it.useRef(null),q=it.useRef(!1),ue=it.useCallback(fe=>{B(Te=>{var Ve;return(Ve=Te.find(he=>he.id===fe.id))!=null&&Ve.delete||$r.dismiss(fe.id),Te.filter(({id:he})=>he!==fe.id)})},[]);return it.useEffect(()=>$r.subscribe(fe=>{if(fe.dismiss){requestAnimationFrame(()=>{B(Te=>Te.map(Ve=>Ve.id===fe.id?{...Ve,delete:!0}:Ve))});return}setTimeout(()=>{uD.flushSync(()=>{B(Te=>{const Ve=Te.findIndex(he=>he.id===fe.id);return Ve!==-1?[...Te.slice(0,Ve),{...Te[Ve],...fe},...Te.slice(Ve+1)]:[fe,...Te]})})})}),[F]),it.useEffect(()=>{if(x!=="system"){Z(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;const fe=window.matchMedia("(prefers-color-scheme: dark)");try{fe.addEventListener("change",({matches:Te})=>{Z(Te?"dark":"light")})}catch{fe.addListener(({matches:Ve})=>{try{Z(Ve?"dark":"light")}catch(he){console.error(he)}})}},[x]),it.useEffect(()=>{F.length<=1&&ee(!1)},[F]),it.useEffect(()=>{const fe=Te=>{var Ve;if(l.every(Fe=>Te[Fe]||Te.code===Fe)){var ve;ee(!0),(ve=Q.current)==null||ve.focus()}Te.code==="Escape"&&(document.activeElement===Q.current||(Ve=Q.current)!=null&&Ve.contains(document.activeElement))&&ee(!1)};return document.addEventListener("keydown",fe),()=>document.removeEventListener("keydown",fe)},[l]),it.useEffect(()=>{if(Q.current)return()=>{Se.current&&(Se.current.focus({preventScroll:!0}),Se.current=null,q.current=!1)}},[Q.current]),it.createElement("section",{ref:t,"aria-label":`${O} ${ye}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},z.map((fe,Te)=>{var Ve;const[he,ve]=fe.split("-");return H.length?it.createElement("ol",{key:fe,dir:N==="auto"?mC():N,tabIndex:-1,ref:Q,className:p,"data-sonner-toaster":!0,"data-sonner-theme":X,"data-y-position":he,"data-x-position":ve,style:{"--front-toast-height":`${((Ve=k[0])==null?void 0:Ve.height)||0}px`,"--width":`${ZB}px`,"--gap":`${D}px`,...A,...nk(g,m)},onBlur:Fe=>{q.current&&!Fe.currentTarget.contains(Fe.relatedTarget)&&(q.current=!1,Se.current&&(Se.current.focus({preventScroll:!0}),Se.current=null))},onFocus:Fe=>{Fe.target instanceof HTMLElement&&Fe.target.dataset.dismissible==="false"||q.current||(q.current=!0,Se.current=Fe.relatedTarget)},onMouseEnter:()=>ee(!0),onMouseMove:()=>ee(!0),onMouseLeave:()=>{ne||ee(!1)},onDragEnd:()=>ee(!1),onPointerDown:Fe=>{Fe.target instanceof HTMLElement&&Fe.target.dataset.dismissible==="false"||ae(!0)},onPointerUp:()=>ae(!1)},H.filter(Fe=>!Fe.position&&Te===0||Fe.position===fe).map((Fe,Ze)=>{var rt,kt;return it.createElement(tk,{key:Fe.id,icons:I,index:Ze,toast:Fe,defaultRichColors:b,duration:(rt=M?.duration)!=null?rt:w,className:M?.className,descriptionClassName:M?.descriptionClassName,invert:s,visibleToasts:T,closeButton:(kt=M?.closeButton)!=null?kt:h,interacting:ne,position:fe,style:M?.style,unstyled:M?.unstyled,classNames:M?.classNames,cancelButtonStyle:M?.cancelButtonStyle,actionButtonStyle:M?.actionButtonStyle,closeButtonAriaLabel:M?.closeButtonAriaLabel,removeToast:ue,toasts:H.filter(Vt=>Vt.position==Fe.position),heights:k.filter(Vt=>Vt.position==Fe.position),setHeights:$,expandByDefault:u,gap:D,expanded:se,swipeDirections:e.swipeDirections})})):null}))}),sk=({...n})=>{const{theme:e="system"}=NB();return C.jsx(ik,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})},rk=["top","right","bottom","left"],Bu=Math.min,ma=Math.max,db=Math.round,qv=Math.floor,Ml=n=>({x:n,y:n}),ak={left:"right",right:"left",bottom:"top",top:"bottom"},ok={start:"end",end:"start"};function Qw(n,e,t){return ma(n,Bu(e,t))}function Ec(n,e){return typeof n=="function"?n(e):n}function Ac(n){return n.split("-")[0]}function Lp(n){return n.split("-")[1]}function fT(n){return n==="x"?"y":"x"}function dT(n){return n==="y"?"height":"width"}const lk=new Set(["top","bottom"]);function _l(n){return lk.has(Ac(n))?"y":"x"}function hT(n){return fT(_l(n))}function ck(n,e,t){t===void 0&&(t=!1);const i=Lp(n),s=hT(n),a=dT(s);let l=s==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=hb(l)),[l,hb(l)]}function uk(n){const e=hb(n);return[Jw(n),e,Jw(e)]}function Jw(n){return n.replace(/start|end/g,e=>ok[e])}const gC=["left","right"],yC=["right","left"],fk=["top","bottom"],dk=["bottom","top"];function hk(n,e,t){switch(n){case"top":case"bottom":return t?e?yC:gC:e?gC:yC;case"left":case"right":return e?fk:dk;default:return[]}}function pk(n,e,t,i){const s=Lp(n);let a=hk(Ac(n),t==="start",i);return s&&(a=a.map(l=>l+"-"+s),e&&(a=a.concat(a.map(Jw)))),a}function hb(n){return n.replace(/left|right|bottom|top/g,e=>ak[e])}function mk(n){return{top:0,right:0,bottom:0,left:0,...n}}function rP(n){return typeof n!="number"?mk(n):{top:n,right:n,bottom:n,left:n}}function pb(n){const{x:e,y:t,width:i,height:s}=n;return{width:i,height:s,top:t,left:e,right:e+i,bottom:t+s,x:e,y:t}}function vC(n,e,t){let{reference:i,floating:s}=n;const a=_l(e),l=hT(e),u=dT(l),h=Ac(e),p=a==="y",g=i.x+i.width/2-s.width/2,m=i.y+i.height/2-s.height/2,x=i[u]/2-s[u]/2;let b;switch(h){case"top":b={x:g,y:i.y-s.height};break;case"bottom":b={x:g,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y:m};break;case"left":b={x:i.x-s.width,y:m};break;default:b={x:i.x,y:i.y}}switch(Lp(e)){case"start":b[l]-=x*(t&&p?-1:1);break;case"end":b[l]+=x*(t&&p?-1:1);break}return b}const gk=async(n,e,t)=>{const{placement:i="bottom",strategy:s="absolute",middleware:a=[],platform:l}=t,u=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:n,floating:e,strategy:s}),{x:g,y:m}=vC(p,i,h),x=i,b={},w=0;for(let A=0;A<u.length;A++){const{name:T,fn:M}=u[A],{x:N,y:D,data:I,reset:O}=await M({x:g,y:m,initialPlacement:i,placement:x,strategy:s,middlewareData:b,rects:p,platform:l,elements:{reference:n,floating:e}});g=N??g,m=D??m,b={...b,[T]:{...b[T],...I}},O&&w<=50&&(w++,typeof O=="object"&&(O.placement&&(x=O.placement),O.rects&&(p=O.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:s}):O.rects),{x:g,y:m}=vC(p,x,h)),A=-1)}return{x:g,y:m,placement:x,strategy:s,middlewareData:b}};async function c0(n,e){var t;e===void 0&&(e={});const{x:i,y:s,platform:a,rects:l,elements:u,strategy:h}=n,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:x=!1,padding:b=0}=Ec(e,n),w=rP(b),T=u[x?m==="floating"?"reference":"floating":m],M=pb(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(T)))==null||t?T:T.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:p,rootBoundary:g,strategy:h})),N=m==="floating"?{x:i,y:s,width:l.floating.width,height:l.floating.height}:l.reference,D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),I=await(a.isElement==null?void 0:a.isElement(D))?await(a.getScale==null?void 0:a.getScale(D))||{x:1,y:1}:{x:1,y:1},O=pb(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:N,offsetParent:D,strategy:h}):N);return{top:(M.top-O.top+w.top)/I.y,bottom:(O.bottom-M.bottom+w.bottom)/I.y,left:(M.left-O.left+w.left)/I.x,right:(O.right-M.right+w.right)/I.x}}const yk=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:s,rects:a,platform:l,elements:u,middlewareData:h}=e,{element:p,padding:g=0}=Ec(n,e)||{};if(p==null)return{};const m=rP(g),x={x:t,y:i},b=hT(s),w=dT(b),A=await l.getDimensions(p),T=b==="y",M=T?"top":"left",N=T?"bottom":"right",D=T?"clientHeight":"clientWidth",I=a.reference[w]+a.reference[b]-x[b]-a.floating[w],O=x[b]-a.reference[b],F=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let B=F?F[D]:0;(!B||!await(l.isElement==null?void 0:l.isElement(F)))&&(B=u.floating[D]||a.floating[w]);const H=I/2-O/2,z=B/2-A[w]/2-1,k=Bu(m[M],z),$=Bu(m[N],z),se=k,ee=B-A[w]-$,ne=B/2-A[w]/2+H,ae=Qw(se,ne,ee),X=!h.arrow&&Lp(s)!=null&&ne!==ae&&a.reference[w]/2-(ne<se?k:$)-A[w]/2<0,Z=X?ne<se?ne-se:ne-ee:0;return{[b]:x[b]+Z,data:{[b]:ae,centerOffset:ne-ae-Z,...X&&{alignmentOffset:Z}},reset:X}}}),vk=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:s,middlewareData:a,rects:l,initialPlacement:u,platform:h,elements:p}=e,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:A=!0,...T}=Ec(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const M=Ac(s),N=_l(u),D=Ac(u)===u,I=await(h.isRTL==null?void 0:h.isRTL(p.floating)),O=x||(D||!A?[hb(u)]:uk(u)),F=w!=="none";!x&&F&&O.push(...pk(u,A,w,I));const B=[u,...O],H=await c0(e,T),z=[];let k=((i=a.flip)==null?void 0:i.overflows)||[];if(g&&z.push(H[M]),m){const ne=ck(s,l,I);z.push(H[ne[0]],H[ne[1]])}if(k=[...k,{placement:s,overflows:z}],!z.every(ne=>ne<=0)){var $,se;const ne=((($=a.flip)==null?void 0:$.index)||0)+1,ae=B[ne];if(ae&&(!(m==="alignment"?N!==_l(ae):!1)||k.every(Q=>_l(Q.placement)===N?Q.overflows[0]>0:!0)))return{data:{index:ne,overflows:k},reset:{placement:ae}};let X=(se=k.filter(Z=>Z.overflows[0]<=0).sort((Z,Q)=>Z.overflows[1]-Q.overflows[1])[0])==null?void 0:se.placement;if(!X)switch(b){case"bestFit":{var ee;const Z=(ee=k.filter(Q=>{if(F){const ye=_l(Q.placement);return ye===N||ye==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(ye=>ye>0).reduce((ye,Se)=>ye+Se,0)]).sort((Q,ye)=>Q[1]-ye[1])[0])==null?void 0:ee[0];Z&&(X=Z);break}case"initialPlacement":X=u;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function xC(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function bC(n){return rk.some(e=>n[e]>=0)}const xk=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...s}=Ec(n,e);switch(i){case"referenceHidden":{const a=await c0(e,{...s,elementContext:"reference"}),l=xC(a,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:bC(l)}}}case"escaped":{const a=await c0(e,{...s,altBoundary:!0}),l=xC(a,t.floating);return{data:{escapedOffsets:l,escaped:bC(l)}}}default:return{}}}}},aP=new Set(["left","top"]);async function bk(n,e){const{placement:t,platform:i,elements:s}=n,a=await(i.isRTL==null?void 0:i.isRTL(s.floating)),l=Ac(t),u=Lp(t),h=_l(t)==="y",p=aP.has(l)?-1:1,g=a&&h?-1:1,m=Ec(e,n);let{mainAxis:x,crossAxis:b,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof w=="number"&&(b=u==="end"?w*-1:w),h?{x:b*g,y:x*p}:{x:x*p,y:b*g}}const _k=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:s,y:a,placement:l,middlewareData:u}=e,h=await bk(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(i=u.arrow)!=null&&i.alignmentOffset?{}:{x:s+h.x,y:a+h.y,data:{...h,placement:l}}}}},Sk=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:s}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:T=>{let{x:M,y:N}=T;return{x:M,y:N}}},...h}=Ec(n,e),p={x:t,y:i},g=await c0(e,h),m=_l(Ac(s)),x=fT(m);let b=p[x],w=p[m];if(a){const T=x==="y"?"top":"left",M=x==="y"?"bottom":"right",N=b+g[T],D=b-g[M];b=Qw(N,b,D)}if(l){const T=m==="y"?"top":"left",M=m==="y"?"bottom":"right",N=w+g[T],D=w-g[M];w=Qw(N,w,D)}const A=u.fn({...e,[x]:b,[m]:w});return{...A,data:{x:A.x-t,y:A.y-i,enabled:{[x]:a,[m]:l}}}}}},wk=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:s,rects:a,middlewareData:l}=e,{offset:u=0,mainAxis:h=!0,crossAxis:p=!0}=Ec(n,e),g={x:t,y:i},m=_l(s),x=fT(m);let b=g[x],w=g[m];const A=Ec(u,e),T=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(h){const D=x==="y"?"height":"width",I=a.reference[x]-a.floating[D]+T.mainAxis,O=a.reference[x]+a.reference[D]-T.mainAxis;b<I?b=I:b>O&&(b=O)}if(p){var M,N;const D=x==="y"?"width":"height",I=aP.has(Ac(s)),O=a.reference[m]-a.floating[D]+(I&&((M=l.offset)==null?void 0:M[m])||0)+(I?0:T.crossAxis),F=a.reference[m]+a.reference[D]+(I?0:((N=l.offset)==null?void 0:N[m])||0)-(I?T.crossAxis:0);w<O?w=O:w>F&&(w=F)}return{[x]:b,[m]:w}}}},Mk=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:s,rects:a,platform:l,elements:u}=e,{apply:h=()=>{},...p}=Ec(n,e),g=await c0(e,p),m=Ac(s),x=Lp(s),b=_l(s)==="y",{width:w,height:A}=a.floating;let T,M;m==="top"||m==="bottom"?(T=m,M=x===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(M=m,T=x==="end"?"top":"bottom");const N=A-g.top-g.bottom,D=w-g.left-g.right,I=Bu(A-g[T],N),O=Bu(w-g[M],D),F=!e.middlewareData.shift;let B=I,H=O;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(H=D),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(B=N),F&&!x){const k=ma(g.left,0),$=ma(g.right,0),se=ma(g.top,0),ee=ma(g.bottom,0);b?H=w-2*(k!==0||$!==0?k+$:ma(g.left,g.right)):B=A-2*(se!==0||ee!==0?se+ee:ma(g.top,g.bottom))}await h({...e,availableWidth:H,availableHeight:B});const z=await l.getDimensions(u.floating);return w!==z.width||A!==z.height?{reset:{rects:!0}}:{}}}};function P1(){return typeof window<"u"}function Op(n){return oP(n)?(n.nodeName||"").toLowerCase():"#document"}function va(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ll(n){var e;return(e=(oP(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function oP(n){return P1()?n instanceof Node||n instanceof va(n).Node:!1}function Lo(n){return P1()?n instanceof Element||n instanceof va(n).Element:!1}function Cl(n){return P1()?n instanceof HTMLElement||n instanceof va(n).HTMLElement:!1}function _C(n){return!P1()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof va(n).ShadowRoot}const Tk=new Set(["inline","contents"]);function B0(n){const{overflow:e,overflowX:t,overflowY:i,display:s}=Oo(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!Tk.has(s)}const Ek=new Set(["table","td","th"]);function Ak(n){return Ek.has(Op(n))}const Ck=[":popover-open",":modal"];function I1(n){return Ck.some(e=>{try{return n.matches(e)}catch{return!1}})}const Rk=["transform","translate","scale","rotate","perspective"],Nk=["transform","translate","scale","rotate","perspective","filter"],Dk=["paint","layout","strict","content"];function pT(n){const e=mT(),t=Lo(n)?Oo(n):n;return Rk.some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||Nk.some(i=>(t.willChange||"").includes(i))||Dk.some(i=>(t.contain||"").includes(i))}function Pk(n){let e=ku(n);for(;Cl(e)&&!pp(e);){if(pT(e))return e;if(I1(e))return null;e=ku(e)}return null}function mT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ik=new Set(["html","body","#document"]);function pp(n){return Ik.has(Op(n))}function Oo(n){return va(n).getComputedStyle(n)}function L1(n){return Lo(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ku(n){if(Op(n)==="html")return n;const e=n.assignedSlot||n.parentNode||_C(n)&&n.host||Ll(n);return _C(e)?e.host:e}function lP(n){const e=ku(n);return pp(e)?n.ownerDocument?n.ownerDocument.body:n.body:Cl(e)&&B0(e)?e:lP(e)}function u0(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=lP(n),a=s===((i=n.ownerDocument)==null?void 0:i.body),l=va(s);if(a){const u=eM(l);return e.concat(l,l.visualViewport||[],B0(s)?s:[],u&&t?u0(u):[])}return e.concat(s,u0(s,[],t))}function eM(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function cP(n){const e=Oo(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=Cl(n),a=s?n.offsetWidth:t,l=s?n.offsetHeight:i,u=db(t)!==a||db(i)!==l;return u&&(t=a,i=l),{width:t,height:i,$:u}}function gT(n){return Lo(n)?n:n.contextElement}function up(n){const e=gT(n);if(!Cl(e))return Ml(1);const t=e.getBoundingClientRect(),{width:i,height:s,$:a}=cP(e);let l=(a?db(t.width):t.width)/i,u=(a?db(t.height):t.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const Lk=Ml(0);function uP(n){const e=va(n);return!mT()||!e.visualViewport?Lk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ok(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==va(n)?!1:e}function md(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),a=gT(n);let l=Ml(1);e&&(i?Lo(i)&&(l=up(i)):l=up(n));const u=Ok(a,t,i)?uP(a):Ml(0);let h=(s.left+u.x)/l.x,p=(s.top+u.y)/l.y,g=s.width/l.x,m=s.height/l.y;if(a){const x=va(a),b=i&&Lo(i)?va(i):i;let w=x,A=eM(w);for(;A&&i&&b!==w;){const T=up(A),M=A.getBoundingClientRect(),N=Oo(A),D=M.left+(A.clientLeft+parseFloat(N.paddingLeft))*T.x,I=M.top+(A.clientTop+parseFloat(N.paddingTop))*T.y;h*=T.x,p*=T.y,g*=T.x,m*=T.y,h+=D,p+=I,w=va(A),A=eM(w)}}return pb({width:g,height:m,x:h,y:p})}function O1(n,e){const t=L1(n).scrollLeft;return e?e.left+t:md(Ll(n)).left+t}function fP(n,e){const t=n.getBoundingClientRect(),i=t.left+e.scrollLeft-O1(n,t),s=t.top+e.scrollTop;return{x:i,y:s}}function Uk(n){let{elements:e,rect:t,offsetParent:i,strategy:s}=n;const a=s==="fixed",l=Ll(i),u=e?I1(e.floating):!1;if(i===l||u&&a)return t;let h={scrollLeft:0,scrollTop:0},p=Ml(1);const g=Ml(0),m=Cl(i);if((m||!m&&!a)&&((Op(i)!=="body"||B0(l))&&(h=L1(i)),Cl(i))){const b=md(i);p=up(i),g.x=b.x+i.clientLeft,g.y=b.y+i.clientTop}const x=l&&!m&&!a?fP(l,h):Ml(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-h.scrollLeft*p.x+g.x+x.x,y:t.y*p.y-h.scrollTop*p.y+g.y+x.y}}function zk(n){return Array.from(n.getClientRects())}function Fk(n){const e=Ll(n),t=L1(n),i=n.ownerDocument.body,s=ma(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=ma(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let l=-t.scrollLeft+O1(n);const u=-t.scrollTop;return Oo(i).direction==="rtl"&&(l+=ma(e.clientWidth,i.clientWidth)-s),{width:s,height:a,x:l,y:u}}const SC=25;function Bk(n,e){const t=va(n),i=Ll(n),s=t.visualViewport;let a=i.clientWidth,l=i.clientHeight,u=0,h=0;if(s){a=s.width,l=s.height;const g=mT();(!g||g&&e==="fixed")&&(u=s.offsetLeft,h=s.offsetTop)}const p=O1(i);if(p<=0){const g=i.ownerDocument,m=g.body,x=getComputedStyle(m),b=g.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,w=Math.abs(i.clientWidth-m.clientWidth-b);w<=SC&&(a-=w)}else p<=SC&&(a+=p);return{width:a,height:l,x:u,y:h}}const kk=new Set(["absolute","fixed"]);function Vk(n,e){const t=md(n,!0,e==="fixed"),i=t.top+n.clientTop,s=t.left+n.clientLeft,a=Cl(n)?up(n):Ml(1),l=n.clientWidth*a.x,u=n.clientHeight*a.y,h=s*a.x,p=i*a.y;return{width:l,height:u,x:h,y:p}}function wC(n,e,t){let i;if(e==="viewport")i=Bk(n,t);else if(e==="document")i=Fk(Ll(n));else if(Lo(e))i=Vk(e,t);else{const s=uP(n);i={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return pb(i)}function dP(n,e){const t=ku(n);return t===e||!Lo(t)||pp(t)?!1:Oo(t).position==="fixed"||dP(t,e)}function Hk(n,e){const t=e.get(n);if(t)return t;let i=u0(n,[],!1).filter(u=>Lo(u)&&Op(u)!=="body"),s=null;const a=Oo(n).position==="fixed";let l=a?ku(n):n;for(;Lo(l)&&!pp(l);){const u=Oo(l),h=pT(l);!h&&u.position==="fixed"&&(s=null),(a?!h&&!s:!h&&u.position==="static"&&!!s&&kk.has(s.position)||B0(l)&&!h&&dP(n,l))?i=i.filter(g=>g!==l):s=u,l=ku(l)}return e.set(n,i),i}function jk(n){let{element:e,boundary:t,rootBoundary:i,strategy:s}=n;const l=[...t==="clippingAncestors"?I1(e)?[]:Hk(e,this._c):[].concat(t),i],u=l[0],h=l.reduce((p,g)=>{const m=wC(e,g,s);return p.top=ma(m.top,p.top),p.right=Bu(m.right,p.right),p.bottom=Bu(m.bottom,p.bottom),p.left=ma(m.left,p.left),p},wC(e,u,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function Gk(n){const{width:e,height:t}=cP(n);return{width:e,height:t}}function Wk(n,e,t){const i=Cl(e),s=Ll(e),a=t==="fixed",l=md(n,!0,a,e);let u={scrollLeft:0,scrollTop:0};const h=Ml(0);function p(){h.x=O1(s)}if(i||!i&&!a)if((Op(e)!=="body"||B0(s))&&(u=L1(e)),i){const b=md(e,!0,a,e);h.x=b.x+e.clientLeft,h.y=b.y+e.clientTop}else s&&p();a&&!i&&s&&p();const g=s&&!i&&!a?fP(s,u):Ml(0),m=l.left+u.scrollLeft-h.x-g.x,x=l.top+u.scrollTop-h.y-g.y;return{x:m,y:x,width:l.width,height:l.height}}function SS(n){return Oo(n).position==="static"}function MC(n,e){if(!Cl(n)||Oo(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ll(n)===t&&(t=t.ownerDocument.body),t}function hP(n,e){const t=va(n);if(I1(n))return t;if(!Cl(n)){let s=ku(n);for(;s&&!pp(s);){if(Lo(s)&&!SS(s))return s;s=ku(s)}return t}let i=MC(n,e);for(;i&&Ak(i)&&SS(i);)i=MC(i,e);return i&&pp(i)&&SS(i)&&!pT(i)?t:i||Pk(n)||t}const Xk=async function(n){const e=this.getOffsetParent||hP,t=this.getDimensions,i=await t(n.floating);return{reference:Wk(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function qk(n){return Oo(n).direction==="rtl"}const Yk={convertOffsetParentRelativeRectToViewportRelativeRect:Uk,getDocumentElement:Ll,getClippingRect:jk,getOffsetParent:hP,getElementRects:Xk,getClientRects:zk,getDimensions:Gk,getScale:up,isElement:Lo,isRTL:qk};function pP(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function $k(n,e){let t=null,i;const s=Ll(n);function a(){var u;clearTimeout(i),(u=t)==null||u.disconnect(),t=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),a();const p=n.getBoundingClientRect(),{left:g,top:m,width:x,height:b}=p;if(u||e(),!x||!b)return;const w=qv(m),A=qv(s.clientWidth-(g+x)),T=qv(s.clientHeight-(m+b)),M=qv(g),D={rootMargin:-w+"px "+-A+"px "+-T+"px "+-M+"px",threshold:ma(0,Bu(1,h))||1};let I=!0;function O(F){const B=F[0].intersectionRatio;if(B!==h){if(!I)return l();B?l(!1,B):i=setTimeout(()=>{l(!1,1e-7)},1e3)}B===1&&!pP(p,n.getBoundingClientRect())&&l(),I=!1}try{t=new IntersectionObserver(O,{...D,root:s.ownerDocument})}catch{t=new IntersectionObserver(O,D)}t.observe(n)}return l(!0),a}function Zk(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,p=gT(n),g=s||a?[...p?u0(p):[],...u0(e)]:[];g.forEach(M=>{s&&M.addEventListener("scroll",t,{passive:!0}),a&&M.addEventListener("resize",t)});const m=p&&u?$k(p,t):null;let x=-1,b=null;l&&(b=new ResizeObserver(M=>{let[N]=M;N&&N.target===p&&b&&(b.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var D;(D=b)==null||D.observe(e)})),t()}),p&&!h&&b.observe(p),b.observe(e));let w,A=h?md(n):null;h&&T();function T(){const M=md(n);A&&!pP(A,M)&&t(),A=M,w=requestAnimationFrame(T)}return t(),()=>{var M;g.forEach(N=>{s&&N.removeEventListener("scroll",t),a&&N.removeEventListener("resize",t)}),m?.(),(M=b)==null||M.disconnect(),b=null,h&&cancelAnimationFrame(w)}}const Kk=_k,Qk=Sk,Jk=vk,eV=Mk,tV=xk,TC=yk,nV=wk,iV=(n,e,t)=>{const i=new Map,s={platform:Yk,...t},a={...s.platform,_c:i};return gk(n,e,{...s,platform:a})};var sV=typeof document<"u",rV=function(){},$x=sV?L.useLayoutEffect:rV;function mb(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!mb(n[i],e[i]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,s[i]))return!1;for(i=t;i--!==0;){const a=s[i];if(!(a==="_owner"&&n.$$typeof)&&!mb(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function mP(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function EC(n,e){const t=mP(n);return Math.round(e*t)/t}function wS(n){const e=L.useRef(n);return $x(()=>{e.current=n}),e}function aV(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:s,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:h,open:p}=n,[g,m]=L.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,b]=L.useState(i);mb(x,i)||b(i);const[w,A]=L.useState(null),[T,M]=L.useState(null),N=L.useCallback(Q=>{Q!==F.current&&(F.current=Q,A(Q))},[]),D=L.useCallback(Q=>{Q!==B.current&&(B.current=Q,M(Q))},[]),I=a||w,O=l||T,F=L.useRef(null),B=L.useRef(null),H=L.useRef(g),z=h!=null,k=wS(h),$=wS(s),se=wS(p),ee=L.useCallback(()=>{if(!F.current||!B.current)return;const Q={placement:e,strategy:t,middleware:x};$.current&&(Q.platform=$.current),iV(F.current,B.current,Q).then(ye=>{const Se={...ye,isPositioned:se.current!==!1};ne.current&&!mb(H.current,Se)&&(H.current=Se,T1.flushSync(()=>{m(Se)}))})},[x,e,t,$,se]);$x(()=>{p===!1&&H.current.isPositioned&&(H.current.isPositioned=!1,m(Q=>({...Q,isPositioned:!1})))},[p]);const ne=L.useRef(!1);$x(()=>(ne.current=!0,()=>{ne.current=!1}),[]),$x(()=>{if(I&&(F.current=I),O&&(B.current=O),I&&O){if(k.current)return k.current(I,O,ee);ee()}},[I,O,ee,k,z]);const ae=L.useMemo(()=>({reference:F,floating:B,setReference:N,setFloating:D}),[N,D]),X=L.useMemo(()=>({reference:I,floating:O}),[I,O]),Z=L.useMemo(()=>{const Q={position:t,left:0,top:0};if(!X.floating)return Q;const ye=EC(X.floating,g.x),Se=EC(X.floating,g.y);return u?{...Q,transform:"translate("+ye+"px, "+Se+"px)",...mP(X.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ye,top:Se}},[t,u,X.floating,g.x,g.y]);return L.useMemo(()=>({...g,update:ee,refs:ae,elements:X,floatingStyles:Z}),[g,ee,ae,X,Z])}const oV=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:s}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?TC({element:i.current,padding:s}).fn(t):{}:i?TC({element:i,padding:s}).fn(t):{}}}},lV=(n,e)=>({...Kk(n),options:[n,e]}),cV=(n,e)=>({...Qk(n),options:[n,e]}),uV=(n,e)=>({...nV(n),options:[n,e]}),fV=(n,e)=>({...Jk(n),options:[n,e]}),dV=(n,e)=>({...eV(n),options:[n,e]}),hV=(n,e)=>({...tV(n),options:[n,e]}),pV=(n,e)=>({...oV(n),options:[n,e]});var mV="Arrow",gP=L.forwardRef((n,e)=>{const{children:t,width:i=10,height:s=5,...a}=n;return C.jsx(ia.svg,{...a,ref:e,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:C.jsx("polygon",{points:"0,0 30,0 15,10"})})});gP.displayName=mV;var gV=gP;function yV(n){const[e,t]=L.useState(void 0);return Fu(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let l,u;if("borderBoxSize"in a){const h=a.borderBoxSize,p=Array.isArray(h)?h[0]:h;l=p.inlineSize,u=p.blockSize}else l=n.offsetWidth,u=n.offsetHeight;t({width:l,height:u})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var yP="Popper",[vP,xP]=A1(yP),[Nte,bP]=vP(yP),_P="PopperAnchor",SP=L.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...s}=n,a=bP(_P,t),l=L.useRef(null),u=Io(e,l),h=L.useRef(null);return L.useEffect(()=>{const p=h.current;h.current=i?.current||l.current,p!==h.current&&a.onAnchorChange(h.current)}),i?null:C.jsx(ia.div,{...s,ref:u})});SP.displayName=_P;var yT="PopperContent",[vV,xV]=vP(yT),wP=L.forwardRef((n,e)=>{const{__scopePopper:t,side:i="bottom",sideOffset:s=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:w,...A}=n,T=bP(yT,t),[M,N]=L.useState(null),D=Io(e,ve=>N(ve)),[I,O]=L.useState(null),F=yV(I),B=F?.width??0,H=F?.height??0,z=i+(a!=="center"?"-"+a:""),k=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},$=Array.isArray(p)?p:[p],se=$.length>0,ee={padding:k,boundary:$.filter(_V),altBoundary:se},{refs:ne,floatingStyles:ae,placement:X,isPositioned:Z,middlewareData:Q}=aV({strategy:"fixed",placement:z,whileElementsMounted:(...ve)=>Zk(...ve,{animationFrame:b==="always"}),elements:{reference:T.anchor},middleware:[lV({mainAxis:s+H,alignmentAxis:l}),h&&cV({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?uV():void 0,...ee}),h&&fV({...ee}),dV({...ee,apply:({elements:ve,rects:Fe,availableWidth:Ze,availableHeight:rt})=>{const{width:kt,height:Vt}=Fe.reference,Pt=ve.floating.style;Pt.setProperty("--radix-popper-available-width",`${Ze}px`),Pt.setProperty("--radix-popper-available-height",`${rt}px`),Pt.setProperty("--radix-popper-anchor-width",`${kt}px`),Pt.setProperty("--radix-popper-anchor-height",`${Vt}px`)}}),I&&pV({element:I,padding:u}),SV({arrowWidth:B,arrowHeight:H}),x&&hV({strategy:"referenceHidden",...ee})]}),[ye,Se]=EP(X),q=zu(w);Fu(()=>{Z&&q?.()},[Z,q]);const ue=Q.arrow?.x,fe=Q.arrow?.y,Te=Q.arrow?.centerOffset!==0,[Ve,he]=L.useState();return Fu(()=>{M&&he(window.getComputedStyle(M).zIndex)},[M]),C.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:Z?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ve,"--radix-popper-transform-origin":[Q.transformOrigin?.x,Q.transformOrigin?.y].join(" "),...Q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:C.jsx(vV,{scope:t,placedSide:ye,onArrowChange:O,arrowX:ue,arrowY:fe,shouldHideArrow:Te,children:C.jsx(ia.div,{"data-side":ye,"data-align":Se,...A,ref:D,style:{...A.style,animation:Z?void 0:"none"}})})})});wP.displayName=yT;var MP="PopperArrow",bV={top:"bottom",right:"left",bottom:"top",left:"right"},TP=L.forwardRef(function(e,t){const{__scopePopper:i,...s}=e,a=xV(MP,i),l=bV[a.placedSide];return C.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:C.jsx(gV,{...s,ref:t,style:{...s.style,display:"block"}})})});TP.displayName=MP;function _V(n){return n!==null}var SV=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:i,middlewareData:s}=e,l=s.arrow?.centerOffset!==0,u=l?0:n.arrowWidth,h=l?0:n.arrowHeight,[p,g]=EP(t),m={start:"0%",center:"50%",end:"100%"}[g],x=(s.arrow?.x??0)+u/2,b=(s.arrow?.y??0)+h/2;let w="",A="";return p==="bottom"?(w=l?m:`${x}px`,A=`${-h}px`):p==="top"?(w=l?m:`${x}px`,A=`${i.floating.height+h}px`):p==="right"?(w=`${-h}px`,A=l?m:`${b}px`):p==="left"&&(w=`${i.floating.width+h}px`,A=l?m:`${b}px`),{data:{x:w,y:A}}}});function EP(n){const[e,t="center"]=n.split("-");return[e,t]}var wV=SP,MV=wP,TV=TP,EV=Symbol("radix.slottable");function AV(n){const e=({children:t})=>C.jsx(C.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=EV,e}var[U1]=A1("Tooltip",[xP]),vT=xP(),AP="TooltipProvider",CV=700,AC="tooltip.open",[RV,CP]=U1(AP),RP=n=>{const{__scopeTooltip:e,delayDuration:t=CV,skipDelayDuration:i=300,disableHoverableContent:s=!1,children:a}=n,l=L.useRef(!0),u=L.useRef(!1),h=L.useRef(0);return L.useEffect(()=>{const p=h.current;return()=>window.clearTimeout(p)},[]),C.jsx(RV,{scope:e,isOpenDelayedRef:l,delayDuration:t,onOpen:L.useCallback(()=>{window.clearTimeout(h.current),l.current=!1},[]),onClose:L.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>l.current=!0,i)},[i]),isPointerInTransitRef:u,onPointerInTransitChange:L.useCallback(p=>{u.current=p},[]),disableHoverableContent:s,children:a})};RP.displayName=AP;var NP="Tooltip",[Dte,z1]=U1(NP),tM="TooltipTrigger",NV=L.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,s=z1(tM,t),a=CP(tM,t),l=vT(t),u=L.useRef(null),h=Io(e,u,s.onTriggerChange),p=L.useRef(!1),g=L.useRef(!1),m=L.useCallback(()=>p.current=!1,[]);return L.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),C.jsx(wV,{asChild:!0,...l,children:C.jsx(ia.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...i,ref:h,onPointerMove:gs(n.onPointerMove,x=>{x.pointerType!=="touch"&&!g.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),g.current=!0)}),onPointerLeave:gs(n.onPointerLeave,()=>{s.onTriggerLeave(),g.current=!1}),onPointerDown:gs(n.onPointerDown,()=>{s.open&&s.onClose(),p.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:gs(n.onFocus,()=>{p.current||s.onOpen()}),onBlur:gs(n.onBlur,s.onClose),onClick:gs(n.onClick,s.onClose)})})});NV.displayName=tM;var DV="TooltipPortal",[Pte,PV]=U1(DV,{forceMount:void 0}),mp="TooltipContent",DP=L.forwardRef((n,e)=>{const t=PV(mp,n.__scopeTooltip),{forceMount:i=t.forceMount,side:s="top",...a}=n,l=z1(mp,n.__scopeTooltip);return C.jsx(nT,{present:i||l.open,children:l.disableHoverableContent?C.jsx(PP,{side:s,...a,ref:e}):C.jsx(IV,{side:s,...a,ref:e})})}),IV=L.forwardRef((n,e)=>{const t=z1(mp,n.__scopeTooltip),i=CP(mp,n.__scopeTooltip),s=L.useRef(null),a=Io(e,s),[l,u]=L.useState(null),{trigger:h,onClose:p}=t,g=s.current,{onPointerInTransitChange:m}=i,x=L.useCallback(()=>{u(null),m(!1)},[m]),b=L.useCallback((w,A)=>{const T=w.currentTarget,M={x:w.clientX,y:w.clientY},N=FV(M,T.getBoundingClientRect()),D=BV(M,N),I=kV(A.getBoundingClientRect()),O=HV([...D,...I]);u(O),m(!0)},[m]);return L.useEffect(()=>()=>x(),[x]),L.useEffect(()=>{if(h&&g){const w=T=>b(T,g),A=T=>b(T,h);return h.addEventListener("pointerleave",w),g.addEventListener("pointerleave",A),()=>{h.removeEventListener("pointerleave",w),g.removeEventListener("pointerleave",A)}}},[h,g,b,x]),L.useEffect(()=>{if(l){const w=A=>{const T=A.target,M={x:A.clientX,y:A.clientY},N=h?.contains(T)||g?.contains(T),D=!VV(M,l);N?x():D&&(x(),p())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[h,g,l,p,x]),C.jsx(PP,{...n,ref:a})}),[LV,OV]=U1(NP,{isInside:!1}),UV=AV("TooltipContent"),PP=L.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:l,...u}=n,h=z1(mp,t),p=vT(t),{onClose:g}=h;return L.useEffect(()=>(document.addEventListener(AC,g),()=>document.removeEventListener(AC,g)),[g]),L.useEffect(()=>{if(h.trigger){const m=x=>{x.target?.contains(h.trigger)&&g()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[h.trigger,g]),C.jsx(tT,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:g,children:C.jsxs(MV,{"data-state":h.stateAttribute,...p,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[C.jsx(UV,{children:i}),C.jsx(LV,{scope:t,isInside:!0,children:C.jsx(tz,{id:h.contentId,role:"tooltip",children:s||i})})]})})});DP.displayName=mp;var IP="TooltipArrow",zV=L.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,s=vT(t);return OV(IP,t).isInside?null:C.jsx(TV,{...s,...i,ref:e})});zV.displayName=IP;function FV(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),a=Math.abs(e.left-n.x);switch(Math.min(t,i,s,a)){case a:return"left";case s:return"right";case t:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function BV(n,e,t=5){const i=[];switch(e){case"top":i.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":i.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":i.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":i.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return i}function kV(n){const{top:e,right:t,bottom:i,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:i},{x:s,y:i}]}function VV(n,e){const{x:t,y:i}=n;let s=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const u=e[a],h=e[l],p=u.x,g=u.y,m=h.x,x=h.y;g>i!=x>i&&t<(m-p)*(i-g)/(x-g)+p&&(s=!s)}return s}function HV(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),jV(e)}function jV(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const s=n[i];for(;e.length>=2;){const a=e[e.length-1],l=e[e.length-2];if((a.x-l.x)*(s.y-l.y)>=(a.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const s=n[i];for(;t.length>=2;){const a=t[t.length-1],l=t[t.length-2];if((a.x-l.x)*(s.y-l.y)>=(a.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var GV=RP,LP=DP;const WV=GV,XV=L.forwardRef(({className:n,sideOffset:e=4,...t},i)=>C.jsx(LP,{ref:i,sideOffset:e,className:Il("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));XV.displayName=LP.displayName;var F1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qV={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},YV=class{#e=qV;#t=!1;setTimeoutProvider(n){this.#e=n}setTimeout(n,e){return this.#e.setTimeout(n,e)}clearTimeout(n){this.#e.clearTimeout(n)}setInterval(n,e){return this.#e.setInterval(n,e)}clearInterval(n){this.#e.clearInterval(n)}},nM=new YV;function $V(n){setTimeout(n,0)}var B1=typeof window>"u"||"Deno"in globalThis;function Ao(){}function ZV(n,e){return typeof n=="function"?n(e):n}function KV(n){return typeof n=="number"&&n>=0&&n!==1/0}function QV(n,e){return Math.max(n+(e||0)-Date.now(),0)}function iM(n,e){return typeof n=="function"?n(e):n}function JV(n,e){return typeof n=="function"?n(e):n}function CC(n,e){const{type:t="all",exact:i,fetchStatus:s,predicate:a,queryKey:l,stale:u}=n;if(l){if(i){if(e.queryHash!==xT(l,e.options))return!1}else if(!d0(e.queryKey,l))return!1}if(t!=="all"){const h=e.isActive();if(t==="active"&&!h||t==="inactive"&&h)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||a&&!a(e))}function RC(n,e){const{exact:t,status:i,predicate:s,mutationKey:a}=n;if(a){if(!e.options.mutationKey)return!1;if(t){if(f0(e.options.mutationKey)!==f0(a))return!1}else if(!d0(e.options.mutationKey,a))return!1}return!(i&&e.state.status!==i||s&&!s(e))}function xT(n,e){return(e?.queryKeyHashFn||f0)(n)}function f0(n){return JSON.stringify(n,(e,t)=>sM(t)?Object.keys(t).sort().reduce((i,s)=>(i[s]=t[s],i),{}):t)}function d0(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>d0(n[t],e[t])):!1}var e6=Object.prototype.hasOwnProperty;function OP(n,e){if(n===e)return n;const t=NC(n)&&NC(e);if(!t&&!(sM(n)&&sM(e)))return e;const s=(t?n:Object.keys(n)).length,a=t?e:Object.keys(e),l=a.length,u=t?new Array(l):{};let h=0;for(let p=0;p<l;p++){const g=t?p:a[p],m=n[g],x=e[g];if(m===x){u[g]=m,(t?p<s:e6.call(n,g))&&h++;continue}if(m===null||x===null||typeof m!="object"||typeof x!="object"){u[g]=x;continue}const b=OP(m,x);u[g]=b,b===m&&h++}return s===l&&h===s?n:u}function NC(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function sM(n){if(!DC(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!DC(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function DC(n){return Object.prototype.toString.call(n)==="[object Object]"}function t6(n){return new Promise(e=>{nM.setTimeout(e,n)})}function n6(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?OP(n,e):e}function i6(n,e,t=0){const i=[...n,e];return t&&i.length>t?i.slice(1):i}function s6(n,e,t=0){const i=[e,...n];return t&&i.length>t?i.slice(0,-1):i}var bT=Symbol();function UP(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===bT?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function r6(n,e,t){let i=!1,s;return Object.defineProperty(n,"signal",{enumerable:!0,get:()=>(s??=e(),i||(i=!0,s.aborted?t():s.addEventListener("abort",t,{once:!0})),s)}),n}var a6=class extends F1{#e;#t;#n;constructor(){super(),this.#n=n=>{if(!B1&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},zP=new a6;function o6(){let n,e;const t=new Promise((s,a)=>{n=s,e=a});t.status="pending",t.catch(()=>{});function i(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{i({status:"fulfilled",value:s}),n(s)},t.reject=s=>{i({status:"rejected",reason:s}),e(s)},t}var l6=$V;function c6(){let n=[],e=0,t=u=>{u()},i=u=>{u()},s=l6;const a=u=>{e?n.push(u):s(()=>{t(u)})},l=()=>{const u=n;n=[],u.length&&s(()=>{i(()=>{u.forEach(h=>{t(h)})})})};return{batch:u=>{let h;e++;try{h=u()}finally{e--,e||l()}return h},batchCalls:u=>(...h)=>{a(()=>{u(...h)})},schedule:a,setNotifyFunction:u=>{t=u},setBatchNotifyFunction:u=>{i=u},setScheduler:u=>{s=u}}}var _r=c6(),u6=class extends F1{#e=!0;#t;#n;constructor(){super(),this.#n=n=>{if(!B1&&window.addEventListener){const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(t=>{t(n)}))}isOnline(){return this.#e}},gb=new u6;function f6(n){return Math.min(1e3*2**n,3e4)}function FP(n){return(n??"online")==="online"?gb.isOnline():!0}var rM=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function BP(n){let e=!1,t=0,i;const s=o6(),a=()=>s.status!=="pending",l=A=>{if(!a()){const T=new rM(A);x(T),n.onCancel?.(T)}},u=()=>{e=!0},h=()=>{e=!1},p=()=>zP.isFocused()&&(n.networkMode==="always"||gb.isOnline())&&n.canRun(),g=()=>FP(n.networkMode)&&n.canRun(),m=A=>{a()||(i?.(),s.resolve(A))},x=A=>{a()||(i?.(),s.reject(A))},b=()=>new Promise(A=>{i=T=>{(a()||p())&&A(T)},n.onPause?.()}).then(()=>{i=void 0,a()||n.onContinue?.()}),w=()=>{if(a())return;let A;const T=t===0?n.initialPromise:void 0;try{A=T??n.fn()}catch(M){A=Promise.reject(M)}Promise.resolve(A).then(m).catch(M=>{if(a())return;const N=n.retry??(B1?0:3),D=n.retryDelay??f6,I=typeof D=="function"?D(t,M):D,O=N===!0||typeof N=="number"&&t<N||typeof N=="function"&&N(t,M);if(e||!O){x(M);return}t++,n.onFail?.(t,M),t6(I).then(()=>p()?void 0:b()).then(()=>{e?x(M):w()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(i?.(),s),cancelRetry:u,continueRetry:h,canStart:g,start:()=>(g()?w():b().then(w),s)}}var kP=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),KV(this.gcTime)&&(this.#e=nM.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(B1?1/0:300*1e3))}clearGcTimeout(){this.#e&&(nM.clearTimeout(this.#e),this.#e=void 0)}},d6=class extends kP{#e;#t;#n;#s;#i;#a;#o;constructor(n){super(),this.#o=!1,this.#a=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.#s=n.client,this.#n=this.#s.getQueryCache(),this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.#e=IC(this.options),this.state=n.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(n){if(this.options={...this.#a,...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=IC(this.options);e.data!==void 0&&(this.setState(PC(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(n,e){const t=n6(this.state.data,n,this.options);return this.#r({data:t,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),t}setState(n,e){this.#r({type:"setState",state:n,setStateOptions:e})}cancel(n){const e=this.#i?.promise;return this.#i?.cancel(n),e?e.then(Ao).catch(Ao):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(n=>JV(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>iM(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!QV(this.state.dataUpdatedAt,n)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(e=>e!==n),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(n,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(n&&this.setOptions(n),!this.options.queryFn){const u=this.observers.find(h=>h.options.queryFn);u&&this.setOptions(u.options)}const t=new AbortController,i=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#o=!0,t.signal)})},s=()=>{const u=UP(this.options,e),p=(()=>{const g={client:this.#s,queryKey:this.queryKey,meta:this.meta};return i(g),g})();return this.#o=!1,this.options.persister?this.options.persister(u,p,this):u(p)},l=(()=>{const u={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:s};return i(u),u})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#r({type:"fetch",meta:l.fetchOptions?.meta}),this.#i=BP({initialPromise:e?.initialPromise,fn:l.fetchFn,onCancel:u=>{u instanceof rM&&u.revert&&this.setState({...this.#t,fetchStatus:"idle"}),t.abort()},onFail:(u,h)=>{this.#r({type:"failed",failureCount:u,error:h})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const u=await this.#i.start();if(u===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(u),this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof rM){if(u.silent)return this.#i.promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw this.#r({type:"error",error:u}),this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}#r(n){const e=t=>{switch(n.type){case"failed":return{...t,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...h6(t.data,this.options),fetchMeta:n.meta??null};case"success":const i={...t,...PC(n.data,n.dataUpdatedAt),dataUpdateCount:t.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=n.manual?i:void 0,i;case"error":const s=n.error;return{...t,error:s,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...n.state}}};this.state=e(this.state),_r.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:n})})}};function h6(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:FP(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function PC(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function IC(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,i=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}function LC(n){return{onFetch:(e,t)=>{const i=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},h=0;const p=async()=>{let g=!1;const m=w=>{r6(w,()=>e.signal,()=>g=!0)},x=UP(e.options,e.fetchOptions),b=async(w,A,T)=>{if(g)return Promise.reject();if(A==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const F={client:e.client,queryKey:e.queryKey,pageParam:A,direction:T?"backward":"forward",meta:e.options.meta};return m(F),F})(),D=await x(N),{maxPages:I}=e.options,O=T?s6:i6;return{pages:O(w.pages,D,I),pageParams:O(w.pageParams,A,I)}};if(s&&a.length){const w=s==="backward",A=w?p6:OC,T={pages:a,pageParams:l},M=A(i,T);u=await b(T,M,w)}else{const w=n??a.length;do{const A=h===0?l[0]??i.initialPageParam:OC(i,u);if(h>0&&A==null)break;u=await b(u,A),h++}while(h<w)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=p}}}function OC(n,{pages:e,pageParams:t}){const i=e.length-1;return e.length>0?n.getNextPageParam(e[i],e,t[i],t):void 0}function p6(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var m6=class extends kP{#e;#t;#n;#s;constructor(n){super(),this.#e=n.client,this.mutationId=n.mutationId,this.#n=n.mutationCache,this.#t=[],this.state=n.state||g6(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){this.#t.includes(n)||(this.#t.push(n),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){this.#t=this.#t.filter(e=>e!==n),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(n){const e=()=>{this.#i({type:"continue"})},t={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=BP({fn:()=>this.options.mutationFn?this.options.mutationFn(n,t):Promise.reject(new Error("No mutationFn found")),onFail:(a,l)=>{this.#i({type:"failed",failureCount:a,error:l})},onPause:()=>{this.#i({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",s=!this.#s.canStart();try{if(i)e();else{this.#i({type:"pending",variables:n,isPaused:s}),await this.#n.config.onMutate?.(n,this,t);const l=await this.options.onMutate?.(n,t);l!==this.state.context&&this.#i({type:"pending",context:l,variables:n,isPaused:s})}const a=await this.#s.start();return await this.#n.config.onSuccess?.(a,n,this.state.context,this,t),await this.options.onSuccess?.(a,n,this.state.context,t),await this.#n.config.onSettled?.(a,null,this.state.variables,this.state.context,this,t),await this.options.onSettled?.(a,null,n,this.state.context,t),this.#i({type:"success",data:a}),a}catch(a){try{await this.#n.config.onError?.(a,n,this.state.context,this,t)}catch(l){Promise.reject(l)}try{await this.options.onError?.(a,n,this.state.context,t)}catch(l){Promise.reject(l)}try{await this.#n.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this,t)}catch(l){Promise.reject(l)}try{await this.options.onSettled?.(void 0,a,n,this.state.context,t)}catch(l){Promise.reject(l)}throw this.#i({type:"error",error:a}),a}finally{this.#n.runNext(this)}}#i(n){const e=t=>{switch(n.type){case"failed":return{...t,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...t,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:n.error,failureCount:t.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=e(this.state),_r.batch(()=>{this.#t.forEach(t=>{t.onMutationUpdate(n)}),this.#n.notify({mutation:this,type:"updated",action:n})})}};function g6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var y6=class extends F1{constructor(n={}){super(),this.config=n,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(n,e,t){const i=new m6({client:n,mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:t});return this.add(i),i}add(n){this.#e.add(n);const e=Yv(n);if(typeof e=="string"){const t=this.#t.get(e);t?t.push(n):this.#t.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#e.delete(n)){const e=Yv(n);if(typeof e=="string"){const t=this.#t.get(e);if(t)if(t.length>1){const i=t.indexOf(n);i!==-1&&t.splice(i,1)}else t[0]===n&&this.#t.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=Yv(n);if(typeof e=="string"){const i=this.#t.get(e)?.find(s=>s.state.status==="pending");return!i||i===n}else return!0}runNext(n){const e=Yv(n);return typeof e=="string"?this.#t.get(e)?.find(i=>i!==n&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){_r.batch(()=>{this.#e.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(n){const e={exact:!0,...n};return this.getAll().find(t=>RC(e,t))}findAll(n={}){return this.getAll().filter(e=>RC(n,e))}notify(n){_r.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return _r.batch(()=>Promise.all(n.map(e=>e.continue().catch(Ao))))}};function Yv(n){return n.options.scope?.id}var v6=class extends F1{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,t){const i=e.queryKey,s=e.queryHash??xT(i,e);let a=this.get(s);return a||(a=new d6({client:n,queryKey:i,queryHash:s,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(i)}),this.add(a)),a}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){_r.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>CC(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>CC(n,t)):e}notify(n){_r.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){_r.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){_r.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},x6=class{#e;#t;#n;#s;#i;#a;#o;#r;constructor(n={}){this.#e=n.queryCache||new v6,this.#t=n.mutationCache||new y6,this.#n=n.defaultOptions||{},this.#s=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=zP.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=gb.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=this.#e.build(this,e),i=t.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(iM(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:t})=>{const i=t.data;return[e,i]})}setQueryData(n,e,t){const i=this.defaultQueryOptions({queryKey:n}),a=this.#e.get(i.queryHash)?.state.data,l=ZV(e,a);if(l!==void 0)return this.#e.build(this,i).setData(l,{...t,manual:!0})}setQueriesData(n,e,t){return _r.batch(()=>this.#e.findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;_r.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#e;return _r.batch(()=>(t.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},i=_r.batch(()=>this.#e.findAll(n).map(s=>s.cancel(t)));return Promise.all(i).then(Ao).catch(Ao)}invalidateQueries(n,e={}){return _r.batch(()=>(this.#e.findAll(n).forEach(t=>{t.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},i=_r.batch(()=>this.#e.findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,t);return t.throwOnError||(a=a.catch(Ao)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(i).then(Ao)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#e.build(this,e);return t.isStaleByTime(iM(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Ao).catch(Ao)}fetchInfiniteQuery(n){return n.behavior=LC(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Ao).catch(Ao)}ensureInfiniteQueryData(n){return n.behavior=LC(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return gb.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#s.set(f0(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#s.values()],t={};return e.forEach(i=>{d0(n,i.queryKey)&&Object.assign(t,i.defaultOptions)}),t}setMutationDefaults(n,e){this.#i.set(f0(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#i.values()],t={};return e.forEach(i=>{d0(n,i.mutationKey)&&Object.assign(t,i.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=xT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===bT&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},b6=L.createContext(void 0),_6=({client:n,children:e})=>(L.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),C.jsx(b6.Provider,{value:n,children:e}));var UC="popstate";function S6(n={}){function e(i,s){let{pathname:a,search:l,hash:u}=i.location;return aM("",{pathname:a,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:h0(s)}return M6(e,t,null,n)}function Ni(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Uo(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function w6(){return Math.random().toString(36).substring(2,10)}function zC(n,e){return{usr:n.state,key:n.key,idx:e}}function aM(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Up(e):e,state:t,key:e&&e.key||i||w6()}}function h0({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Up(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function M6(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,u="POP",h=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function m(){u="POP";let T=g(),M=T==null?null:T-p;p=T,h&&h({action:u,location:A.location,delta:M})}function x(T,M){u="PUSH";let N=aM(A.location,T,M);p=g()+1;let D=zC(N,p),I=A.createHref(N);try{l.pushState(D,"",I)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(I)}a&&h&&h({action:u,location:A.location,delta:1})}function b(T,M){u="REPLACE";let N=aM(A.location,T,M);p=g();let D=zC(N,p),I=A.createHref(N);l.replaceState(D,"",I),a&&h&&h({action:u,location:A.location,delta:0})}function w(T){return T6(T)}let A={get action(){return u},get location(){return n(s,l)},listen(T){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(UC,m),h=T,()=>{s.removeEventListener(UC,m),h=null}},createHref(T){return e(s,T)},createURL:w,encodeLocation(T){let M=w(T);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:x,replace:b,go(T){return l.go(T)}};return A}function T6(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ni(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:h0(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function VP(n,e,t="/"){return E6(n,e,t,!1)}function E6(n,e,t,i){let s=typeof e=="string"?Up(e):e,a=Cc(s.pathname||"/",t);if(a==null)return null;let l=HP(n);A6(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let p=F6(a);u=U6(l[h],p,i)}return u}function HP(n,e=[],t=[],i="",s=!1){let a=(l,u,h=s,p)=>{let g={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&h)return;Ni(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let m=Mc([i,g.relativePath]),x=t.concat(g);l.children&&l.children.length>0&&(Ni(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),HP(l.children,e,x,m,h)),!(l.path==null&&!l.index)&&e.push({path:m,score:L6(m,l.index),routesMeta:x})};return n.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let h of jP(l.path))a(l,u,!0,h)}),e}function jP(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=jP(i.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function A6(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:O6(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var C6=/^:[\w-]+$/,R6=3,N6=2,D6=1,P6=10,I6=-2,FC=n=>n==="*";function L6(n,e){let t=n.split("/"),i=t.length;return t.some(FC)&&(i+=I6),e&&(i+=N6),t.filter(s=>!FC(s)).reduce((s,a)=>s+(C6.test(a)?R6:a===""?D6:P6),i)}function O6(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function U6(n,e,t=!1){let{routesMeta:i}=n,s={},a="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],p=u===i.length-1,g=a==="/"?e:e.slice(a.length)||"/",m=yb({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),x=h.route;if(!m&&p&&t&&!i[i.length-1].route.index&&(m=yb({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:Mc([a,m.pathname]),pathnameBase:H6(Mc([a,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(a=Mc([a,m.pathnameBase]))}return l}function yb(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=z6(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((p,{paramName:g,isOptional:m},x)=>{if(g==="*"){let w=u[x]||"";l=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const b=u[x];return m&&!b?p[g]=void 0:p[g]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function z6(n,e=!1,t=!0){Uo(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function F6(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Uo(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Cc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var GP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B6=n=>GP.test(n);function k6(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Up(n):n,a;if(t)if(B6(t))a=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),Uo(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${t}`)}t.startsWith("/")?a=BC(t.substring(1),"/"):a=BC(t,e)}else a=e;return{pathname:a,search:j6(i),hash:G6(s)}}function BC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function MS(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V6(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function WP(n){let e=V6(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function XP(n,e,t,i=!1){let s;typeof n=="string"?s=Up(n):(s={...n},Ni(!s.pathname||!s.pathname.includes("?"),MS("?","pathname","search",s)),Ni(!s.pathname||!s.pathname.includes("#"),MS("#","pathname","hash",s)),Ni(!s.search||!s.search.includes("#"),MS("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=t;else{let m=e.length-1;if(!i&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),m-=1;s.pathname=x.join("/")}u=m>=0?e[m]:"/"}let h=k6(s,u),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var Mc=n=>n.join("/").replace(/\/\/+/g,"/"),H6=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),j6=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,G6=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,W6=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function X6(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function q6(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var qP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function YP(n,e){let t=n;if(typeof t!="string"||!GP.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,s=!1;if(qP)try{let a=new URL(window.location.href),l=t.startsWith("//")?new URL(a.protocol+t):new URL(t),u=Cc(l.pathname,e);l.origin===a.origin&&u!=null?t=u+l.search+l.hash:s=!0}catch{Uo(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $P=["POST","PUT","PATCH","DELETE"];new Set($P);var Y6=["GET",...$P];new Set(Y6);var zp=L.createContext(null);zp.displayName="DataRouter";var k1=L.createContext(null);k1.displayName="DataRouterState";var $6=L.createContext(!1),ZP=L.createContext({isTransitioning:!1});ZP.displayName="ViewTransition";var Z6=L.createContext(new Map);Z6.displayName="Fetchers";var K6=L.createContext(null);K6.displayName="Await";var Qa=L.createContext(null);Qa.displayName="Navigation";var k0=L.createContext(null);k0.displayName="Location";var Pc=L.createContext({outlet:null,matches:[],isDataRoute:!1});Pc.displayName="Route";var _T=L.createContext(null);_T.displayName="RouteError";var KP="REACT_ROUTER_ERROR",Q6="REDIRECT",J6="ROUTE_ERROR_RESPONSE";function e2(n){if(n.startsWith(`${KP}:${Q6}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function t2(n){if(n.startsWith(`${KP}:${J6}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new W6(e.status,e.statusText,e.data)}catch{}}function n2(n,{relative:e}={}){Ni(V0(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=L.useContext(Qa),{hash:s,pathname:a,search:l}=H0(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:Mc([t,a])),i.createHref({pathname:u,search:l,hash:s})}function V0(){return L.useContext(k0)!=null}function Xu(){return Ni(V0(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(k0).location}var QP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JP(n){L.useContext(Qa).static||L.useLayoutEffect(n)}function i2(){let{isDataRoute:n}=L.useContext(Pc);return n?g2():s2()}function s2(){Ni(V0(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(zp),{basename:e,navigator:t}=L.useContext(Qa),{matches:i}=L.useContext(Pc),{pathname:s}=Xu(),a=JSON.stringify(WP(i)),l=L.useRef(!1);return JP(()=>{l.current=!0}),L.useCallback((h,p={})=>{if(Uo(l.current,QP),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=XP(h,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Mc([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,a,s,n])}L.createContext(null);function H0(n,{relative:e}={}){let{matches:t}=L.useContext(Pc),{pathname:i}=Xu(),s=JSON.stringify(WP(t));return L.useMemo(()=>XP(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function r2(n,e){return eI(n,e)}function eI(n,e,t,i,s){Ni(V0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=L.useContext(Qa),{matches:l}=L.useContext(Pc),u=l[l.length-1],h=u?u.params:{},p=u?u.pathname:"/",g=u?u.pathnameBase:"/",m=u&&u.route;{let N=m&&m.path||"";nI(p,!m||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let x=Xu(),b;if(e){let N=typeof e=="string"?Up(e):e;Ni(g==="/"||N.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),b=N}else b=x;let w=b.pathname||"/",A=w;if(g!=="/"){let N=g.replace(/^\//,"").split("/");A="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let T=VP(n,{pathname:A});Uo(m||T!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Uo(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=u2(T&&T.map(N=>Object.assign({},N,{params:Object.assign({},h,N.params),pathname:Mc([g,a.encodeLocation?a.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:Mc([g,a.encodeLocation?a.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),l,t,i,s);return e&&M?L.createElement(k0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},M):M}function a2(){let n=m2(),e=X6(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:a},"ErrorBoundary")," or"," ",L.createElement("code",{style:a},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:s},t):null,l)}var o2=L.createElement(a2,null),tI=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=t2(n.digest);t&&(n=t)}let e=n!==void 0?L.createElement(Pc.Provider,{value:this.props.routeContext},L.createElement(_T.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?L.createElement(l2,{error:n},e):e}};tI.contextType=$6;var TS=new WeakMap;function l2({children:n,error:e}){let{basename:t}=L.useContext(Qa);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=e2(e.digest);if(i){let s=TS.get(e);if(s)throw s;let a=YP(i.location,t);if(qP&&!TS.get(e))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw TS.set(e,l),l}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return n}function c2({routeContext:n,match:e,children:t}){let i=L.useContext(zp);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Pc.Provider,{value:n},t)}function u2(n,e=[],t=null,i=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t?.errors;if(l!=null){let g=a.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);Ni(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let u=!1,h=-1;if(t)for(let g=0;g<a.length;g++){let m=a[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=g),m.route.id){let{loaderData:x,errors:b}=t,w=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||w){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}let p=t&&i?(g,m)=>{i(g,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:q6(t.matches),errorInfo:m})}:void 0;return a.reduceRight((g,m,x)=>{let b,w=!1,A=null,T=null;t&&(b=l&&m.route.id?l[m.route.id]:void 0,A=m.route.errorElement||o2,u&&(h<0&&x===0?(nI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,T=null):h===x&&(w=!0,T=m.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,x+1)),N=()=>{let D;return b?D=A:w?D=T:m.route.Component?D=L.createElement(m.route.Component,null):m.route.element?D=m.route.element:D=g,L.createElement(c2,{match:m,routeContext:{outlet:g,matches:M,isDataRoute:t!=null},children:D})};return t&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?L.createElement(tI,{location:t.location,revalidation:t.revalidation,component:A,error:b,children:N(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:p}):N()},null)}function ST(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f2(n){let e=L.useContext(zp);return Ni(e,ST(n)),e}function d2(n){let e=L.useContext(k1);return Ni(e,ST(n)),e}function h2(n){let e=L.useContext(Pc);return Ni(e,ST(n)),e}function wT(n){let e=h2(n),t=e.matches[e.matches.length-1];return Ni(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function p2(){return wT("useRouteId")}function m2(){let n=L.useContext(_T),e=d2("useRouteError"),t=wT("useRouteError");return n!==void 0?n:e.errors?.[t]}function g2(){let{router:n}=f2("useNavigate"),e=wT("useNavigate"),t=L.useRef(!1);return JP(()=>{t.current=!0}),L.useCallback(async(s,a={})=>{Uo(t.current,QP),t.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var kC={};function nI(n,e,t){!e&&!kC[n]&&(kC[n]=!0,Uo(!1,t))}L.memo(y2);function y2({routes:n,future:e,state:t,onError:i}){return eI(n,void 0,t,i,e)}function oM(n){Ni(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function v2({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:a=!1,unstable_useTransitions:l}){Ni(!V0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:u,navigator:s,static:a,unstable_useTransitions:l,future:{}}),[u,s,a,l]);typeof t=="string"&&(t=Up(t));let{pathname:p="/",search:g="",hash:m="",state:x=null,key:b="default"}=t,w=L.useMemo(()=>{let A=Cc(p,u);return A==null?null:{location:{pathname:A,search:g,hash:m,state:x,key:b},navigationType:i}},[u,p,g,m,x,b,i]);return Uo(w!=null,`<Router basename="${u}"> is not able to match the URL "${p}${g}${m}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:L.createElement(Qa.Provider,{value:h},L.createElement(k0.Provider,{children:e,value:w}))}function x2({children:n,location:e}){return r2(lM(n),e)}function lM(n,e=[]){let t=[];return L.Children.forEach(n,(i,s)=>{if(!L.isValidElement(i))return;let a=[...e,s];if(i.type===L.Fragment){t.push.apply(t,lM(i.props.children,a));return}Ni(i.type===oM,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ni(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=lM(i.props.children,a)),t.push(l)}),t}var Zx="get",Kx="application/x-www-form-urlencoded";function V1(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function b2(n){return V1(n)&&n.tagName.toLowerCase()==="button"}function _2(n){return V1(n)&&n.tagName.toLowerCase()==="form"}function S2(n){return V1(n)&&n.tagName.toLowerCase()==="input"}function w2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function M2(n,e){return n.button===0&&(!e||e==="_self")&&!w2(n)}var $v=null;function T2(){if($v===null)try{new FormData(document.createElement("form"),0),$v=!1}catch{$v=!0}return $v}var E2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ES(n){return n!=null&&!E2.has(n)?(Uo(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kx}"`),null):n}function A2(n,e){let t,i,s,a,l;if(_2(n)){let u=n.getAttribute("action");i=u?Cc(u,e):null,t=n.getAttribute("method")||Zx,s=ES(n.getAttribute("enctype"))||Kx,a=new FormData(n)}else if(b2(n)||S2(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(i=h?Cc(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Zx,s=ES(n.getAttribute("formenctype"))||ES(u.getAttribute("enctype"))||Kx,a=new FormData(u,n),!T2()){let{name:p,type:g,value:m}=n;if(g==="image"){let x=p?`${p}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else p&&a.append(p,m)}}else{if(V1(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Zx,i=null,s=Kx,l=n}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function MT(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function C2(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Cc(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function R2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function N2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function D2(n,e,t){let i=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await R2(a,t);return l.links?l.links():[]}return[]}));return O2(i.flat(1).filter(N2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function VC(n,e,t,i,s,a){let l=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,u=(h,p)=>t[p].pathname!==h.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==h.params["*"];return a==="assets"?e.filter((h,p)=>l(h,p)||u(h,p)):a==="data"?e.filter((h,p)=>{let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,p)||u(h,p))return!0;if(h.route.shouldRevalidate){let m=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function P2(n,e,{includeHydrateFallback:t}={}){return I2(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function I2(n){return[...new Set(n)]}function L2(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function O2(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let a=JSON.stringify(L2(s));return t.has(a)||(t.add(a),i.push({key:a,link:s})),i},[])}function iI(){let n=L.useContext(zp);return MT(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function U2(){let n=L.useContext(k1);return MT(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var TT=L.createContext(void 0);TT.displayName="FrameworkContext";function sI(){let n=L.useContext(TT);return MT(n,"You must render this element inside a <HydratedRouter> element"),n}function z2(n,e){let t=L.useContext(TT),[i,s]=L.useState(!1),[a,l]=L.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:m}=e,x=L.useRef(null);L.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let A=M=>{M.forEach(N=>{l(N.isIntersecting)})},T=new IntersectionObserver(A,{threshold:.5});return x.current&&T.observe(x.current),()=>{T.disconnect()}}},[n]),L.useEffect(()=>{if(i){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[i]);let b=()=>{s(!0)},w=()=>{s(!1),l(!1)};return t?n!=="intent"?[a,x,{}]:[a,x,{onFocus:Mg(u,b),onBlur:Mg(h,w),onMouseEnter:Mg(p,b),onMouseLeave:Mg(g,w),onTouchStart:Mg(m,b)}]:[!1,x,{}]}function Mg(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function F2({page:n,...e}){let{router:t}=iI(),i=L.useMemo(()=>VP(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?L.createElement(k2,{page:n,matches:i,...e}):null}function B2(n){let{manifest:e,routeModules:t}=sI(),[i,s]=L.useState([]);return L.useEffect(()=>{let a=!1;return D2(n,e,t).then(l=>{a||s(l)}),()=>{a=!0}},[n,e,t]),i}function k2({page:n,matches:e,...t}){let i=Xu(),{manifest:s,routeModules:a}=sI(),{basename:l}=iI(),{loaderData:u,matches:h}=U2(),p=L.useMemo(()=>VC(n,e,h,s,i,"data"),[n,e,h,s,i]),g=L.useMemo(()=>VC(n,e,h,s,i,"assets"),[n,e,h,s,i]),m=L.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let w=new Set,A=!1;if(e.forEach(M=>{let N=s.routes[M.route.id];!N||!N.hasLoader||(!p.some(D=>D.route.id===M.route.id)&&M.route.id in u&&a[M.route.id]?.shouldRevalidate||N.hasClientLoader?A=!0:w.add(M.route.id))}),w.size===0)return[];let T=C2(n,l,"data");return A&&w.size>0&&T.searchParams.set("_routes",e.filter(M=>w.has(M.route.id)).map(M=>M.route.id).join(",")),[T.pathname+T.search]},[l,u,i,s,p,e,n,a]),x=L.useMemo(()=>P2(g,s),[g,s]),b=B2(g);return L.createElement(L.Fragment,null,m.map(w=>L.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),x.map(w=>L.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),b.map(({key:w,link:A})=>L.createElement("link",{key:w,nonce:t.nonce,...A})))}function V2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var H2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H2&&(window.__reactRouterVersion="7.11.0")}catch{}function j2({basename:n,children:e,unstable_useTransitions:t,window:i}){let s=L.useRef();s.current==null&&(s.current=S6({window:i,v5Compat:!0}));let a=s.current,[l,u]=L.useState({action:a.action,location:a.location}),h=L.useCallback(p=>{t===!1?u(p):L.startTransition(()=>u(p))},[t]);return L.useLayoutEffect(()=>a.listen(h),[a,h]),L.createElement(v2,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:t})}var rI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aI=L.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:u,target:h,to:p,preventScrollReset:g,viewTransition:m,unstable_defaultShouldRevalidate:x,...b},w){let{basename:A,unstable_useTransitions:T}=L.useContext(Qa),M=typeof p=="string"&&rI.test(p),N=YP(p,A);p=N.to;let D=n2(p,{relative:s}),[I,O,F]=z2(i,b),B=q2(p,{replace:l,state:u,target:h,preventScrollReset:g,relative:s,viewTransition:m,unstable_defaultShouldRevalidate:x,unstable_useTransitions:T});function H(k){e&&e(k),k.defaultPrevented||B(k)}let z=L.createElement("a",{...b,...F,href:N.absoluteURL||D,onClick:N.isExternal||a?e:H,ref:V2(w,O),target:h,"data-discover":!M&&t==="render"?"true":void 0});return I&&!M?L.createElement(L.Fragment,null,z,L.createElement(F2,{page:D})):z});aI.displayName="Link";var G2=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:u,children:h,...p},g){let m=H0(l,{relative:p.relative}),x=Xu(),b=L.useContext(k1),{navigator:w,basename:A}=L.useContext(Qa),T=b!=null&&Q2(m)&&u===!0,M=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,N=x.pathname,D=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(N=N.toLowerCase(),D=D?D.toLowerCase():null,M=M.toLowerCase()),D&&A&&(D=Cc(D,A)||D);const I=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let O=N===M||!s&&N.startsWith(M)&&N.charAt(I)==="/",F=D!=null&&(D===M||!s&&D.startsWith(M)&&D.charAt(M.length)==="/"),B={isActive:O,isPending:F,isTransitioning:T},H=O?e:void 0,z;typeof i=="function"?z=i(B):z=[i,O?"active":null,F?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(B):a;return L.createElement(aI,{...p,"aria-current":H,className:z,ref:g,style:k,to:l,viewTransition:u},typeof h=="function"?h(B):h)});G2.displayName="NavLink";var W2=L.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:a,method:l=Zx,action:u,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:m,unstable_defaultShouldRevalidate:x,...b},w)=>{let{unstable_useTransitions:A}=L.useContext(Qa),T=Z2(),M=K2(u,{relative:p}),N=l.toLowerCase()==="get"?"get":"post",D=typeof u=="string"&&rI.test(u),I=O=>{if(h&&h(O),O.defaultPrevented)return;O.preventDefault();let F=O.nativeEvent.submitter,B=F?.getAttribute("formmethod")||l,H=()=>T(F||O.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:m,unstable_defaultShouldRevalidate:x});A&&t!==!1?L.startTransition(()=>H()):H()};return L.createElement("form",{ref:w,method:N,action:M,onSubmit:i?h:I,...b,"data-discover":!D&&n==="render"?"true":void 0})});W2.displayName="Form";function X2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oI(n){let e=L.useContext(zp);return Ni(e,X2(n)),e}function q2(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:h}={}){let p=i2(),g=Xu(),m=H0(n,{relative:a});return L.useCallback(x=>{if(M2(x,e)){x.preventDefault();let b=t!==void 0?t:h0(g)===h0(m),w=()=>p(n,{replace:b,state:i,preventScrollReset:s,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:u});h?L.startTransition(()=>w()):w()}},[g,p,m,t,i,e,n,s,a,l,u,h])}var Y2=0,$2=()=>`__${String(++Y2)}__`;function Z2(){let{router:n}=oI("useSubmit"),{basename:e}=L.useContext(Qa),t=p2(),i=n.fetch,s=n.navigate;return L.useCallback(async(a,l={})=>{let{action:u,method:h,encType:p,formData:g,body:m}=A2(a,e);if(l.navigate===!1){let x=l.fetcherKey||$2();await i(x,t,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:m,formMethod:l.method||h,formEncType:l.encType||p,flushSync:l.flushSync})}else await s(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:m,formMethod:l.method||h,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,s,e,t])}function K2(n,{relative:e}={}){let{basename:t}=L.useContext(Qa),i=L.useContext(Pc);Ni(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...H0(n||".",{relative:e})},l=Xu();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),h=u.getAll("index");if(h.some(g=>g==="")){u.delete("index"),h.filter(m=>m).forEach(m=>u.append("index",m));let g=u.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Mc([t,a.pathname])),h0(a)}function Q2(n,{relative:e}={}){let t=L.useContext(ZP);Ni(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=oI("useViewTransitionState"),s=H0(n,{relative:e});if(!t.isTransitioning)return!1;let a=Cc(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=Cc(t.nextLocation.pathname,i)||t.nextLocation.pathname;return yb(s.pathname,l)!=null||yb(s.pathname,a)!=null}const ET=L.createContext({});function Fp(n){const e=L.useRef(null);return e.current===null&&(e.current=n()),e.current}const AT=typeof window<"u",H1=AT?L.useLayoutEffect:L.useEffect,j1=L.createContext(null);function CT(n,e){n.indexOf(e)===-1&&n.push(e)}function RT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Rl=(n,e,t)=>t>e?e:t<n?n:t;let p0=()=>{};const Rc={},lI=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function cI(n){return typeof n=="object"&&n!==null}const uI=n=>/^0[^.\s]+$/u.test(n);function NT(n){let e;return()=>(e===void 0&&(e=n()),e)}const ea=n=>n,J2=(n,e)=>t=>e(n(t)),j0=(...n)=>n.reduce(J2),gp=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class DT{constructor(){this.subscriptions=[]}add(e){return CT(this.subscriptions,e),()=>RT(this.subscriptions,e)}notify(e,t,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,i);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Tl=n=>n*1e3,$a=n=>n/1e3;function PT(n,e){return e?n*(1e3/e):0}const fI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,e8=1e-7,t8=12;function n8(n,e,t,i,s){let a,l,u=0;do l=e+(t-e)/2,a=fI(l,i,s)-n,a>0?t=l:e=l;while(Math.abs(a)>e8&&++u<t8);return l}function G0(n,e,t,i){if(n===e&&t===i)return ea;const s=a=>n8(a,0,1,n,t);return a=>a===0||a===1?a:fI(s(a),e,i)}const dI=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,hI=n=>e=>1-n(1-e),pI=G0(.33,1.53,.69,.99),IT=hI(pI),mI=dI(IT),gI=n=>(n*=2)<1?.5*IT(n):.5*(2-Math.pow(2,-10*(n-1))),LT=n=>1-Math.sin(Math.acos(n)),yI=hI(LT),vI=dI(LT),i8=G0(.42,0,1,1),s8=G0(0,0,.58,1),xI=G0(.42,0,.58,1),r8=n=>Array.isArray(n)&&typeof n[0]!="number",bI=n=>Array.isArray(n)&&typeof n[0]=="number",a8={linear:ea,easeIn:i8,easeInOut:xI,easeOut:s8,circIn:LT,circInOut:vI,circOut:yI,backIn:IT,backInOut:mI,backOut:pI,anticipate:gI},o8=n=>typeof n=="string",HC=n=>{if(bI(n)){p0(n.length===4);const[e,t,i,s]=n;return G0(e,t,i,s)}else if(o8(n))return a8[n];return n},Zv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function l8(n,e){let t=new Set,i=new Set,s=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(g){l.has(g)&&(p.schedule(g),n()),g(u)}const p={schedule:(g,m=!1,x=!1)=>{const w=x&&s?t:i;return m&&l.add(g),w.has(g)||w.add(g),g},cancel:g=>{i.delete(g),l.delete(g)},process:g=>{if(u=g,s){a=!0;return}s=!0,[t,i]=[i,t],t.forEach(h),t.clear(),s=!1,a&&(a=!1,p.process(g))}};return p}const c8=40;function _I(n,e){let t=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,l=Zv.reduce((D,I)=>(D[I]=l8(a),D),{}),{setup:u,read:h,resolveKeyframes:p,preUpdate:g,update:m,preRender:x,render:b,postRender:w}=l,A=()=>{const D=Rc.useManualTiming?s.timestamp:performance.now();t=!1,Rc.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(D-s.timestamp,c8),1)),s.timestamp=D,s.isProcessing=!0,u.process(s),h.process(s),p.process(s),g.process(s),m.process(s),x.process(s),b.process(s),w.process(s),s.isProcessing=!1,t&&e&&(i=!1,n(A))},T=()=>{t=!0,i=!0,s.isProcessing||n(A)};return{schedule:Zv.reduce((D,I)=>{const O=l[I];return D[I]=(F,B=!1,H=!1)=>(t||T(),O.schedule(F,B,H)),D},{}),cancel:D=>{for(let I=0;I<Zv.length;I++)l[Zv[I]].cancel(D)},state:s,steps:l}}const{schedule:qn,cancel:zo,state:Ts,steps:AS}=_I(typeof requestAnimationFrame<"u"?requestAnimationFrame:ea,!0);let Qx;function u8(){Qx=void 0}const Qr={now:()=>(Qx===void 0&&Qr.set(Ts.isProcessing||Rc.useManualTiming?Ts.timestamp:performance.now()),Qx),set:n=>{Qx=n,queueMicrotask(u8)}},SI=n=>e=>typeof e=="string"&&e.startsWith(n),wI=SI("--"),f8=SI("var(--"),OT=n=>f8(n)?d8.test(n.split("/*")[0].trim()):!1,d8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bp={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},m0={...Bp,transform:n=>Rl(0,1,n)},Kv={...Bp,default:1},Xg=n=>Math.round(n*1e5)/1e5,UT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function h8(n){return n==null}const p8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zT=(n,e)=>t=>!!(typeof t=="string"&&p8.test(t)&&t.startsWith(n)||e&&!h8(t)&&Object.prototype.hasOwnProperty.call(t,e)),MI=(n,e,t)=>i=>{if(typeof i!="string")return i;const[s,a,l,u]=i.match(UT);return{[n]:parseFloat(s),[e]:parseFloat(a),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},m8=n=>Rl(0,255,n),CS={...Bp,transform:n=>Math.round(m8(n))},id={test:zT("rgb","red"),parse:MI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+CS.transform(n)+", "+CS.transform(e)+", "+CS.transform(t)+", "+Xg(m0.transform(i))+")"};function g8(n){let e="",t="",i="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const cM={test:zT("#"),parse:g8,transform:id.transform},W0=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Nu=W0("deg"),El=W0("%"),St=W0("px"),y8=W0("vh"),v8=W0("vw"),jC={...El,parse:n=>El.parse(n)/100,transform:n=>El.transform(n*100)},tp={test:zT("hsl","hue"),parse:MI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+El.transform(Xg(e))+", "+El.transform(Xg(t))+", "+Xg(m0.transform(i))+")"},as={test:n=>id.test(n)||cM.test(n)||tp.test(n),parse:n=>id.test(n)?id.parse(n):tp.test(n)?tp.parse(n):cM.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?id.transform(n):tp.transform(n),getAnimatableNone:n=>{const e=as.parse(n);return e.alpha=0,as.transform(e)}},x8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function b8(n){return isNaN(n)&&typeof n=="string"&&(n.match(UT)?.length||0)+(n.match(x8)?.length||0)>0}const TI="number",EI="color",_8="var",S8="var(",GC="${}",w8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function g0(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},s=[];let a=0;const u=e.replace(w8,h=>(as.test(h)?(i.color.push(a),s.push(EI),t.push(as.parse(h))):h.startsWith(S8)?(i.var.push(a),s.push(_8),t.push(h)):(i.number.push(a),s.push(TI),t.push(parseFloat(h))),++a,GC)).split(GC);return{values:t,split:u,indexes:i,types:s}}function AI(n){return g0(n).values}function CI(n){const{split:e,types:t}=g0(n),i=e.length;return s=>{let a="";for(let l=0;l<i;l++)if(a+=e[l],s[l]!==void 0){const u=t[l];u===TI?a+=Xg(s[l]):u===EI?a+=as.transform(s[l]):a+=s[l]}return a}}const M8=n=>typeof n=="number"?0:as.test(n)?as.getAnimatableNone(n):n;function T8(n){const e=AI(n);return CI(n)(e.map(M8))}const Vu={test:b8,parse:AI,createTransformer:CI,getAnimatableNone:T8};function RS(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function E8({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let s=0,a=0,l=0;if(!e)s=a=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,h=2*t-u;s=RS(h,u,n+1/3),a=RS(h,u,n),l=RS(h,u,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function vb(n,e){return t=>t>0?e:n}const Ci=(n,e,t)=>n+(e-n)*t,NS=(n,e,t)=>{const i=n*n,s=t*(e*e-i)+i;return s<0?0:Math.sqrt(s)},A8=[cM,id,tp],C8=n=>A8.find(e=>e.test(n));function WC(n){const e=C8(n);if(!e)return!1;let t=e.parse(n);return e===tp&&(t=E8(t)),t}const XC=(n,e)=>{const t=WC(n),i=WC(e);if(!t||!i)return vb(n,e);const s={...t};return a=>(s.red=NS(t.red,i.red,a),s.green=NS(t.green,i.green,a),s.blue=NS(t.blue,i.blue,a),s.alpha=Ci(t.alpha,i.alpha,a),id.transform(s))},uM=new Set(["none","hidden"]);function R8(n,e){return uM.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function N8(n,e){return t=>Ci(n,e,t)}function FT(n){return typeof n=="number"?N8:typeof n=="string"?OT(n)?vb:as.test(n)?XC:I8:Array.isArray(n)?RI:typeof n=="object"?as.test(n)?XC:D8:vb}function RI(n,e){const t=[...n],i=t.length,s=n.map((a,l)=>FT(a)(a,e[l]));return a=>{for(let l=0;l<i;l++)t[l]=s[l](a);return t}}function D8(n,e){const t={...n,...e},i={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(i[s]=FT(n[s])(n[s],e[s]));return s=>{for(const a in i)t[a]=i[a](s);return t}}function P8(n,e){const t=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=n.indexes[a][i[a]],u=n.values[l]??0;t[s]=u,i[a]++}return t}const I8=(n,e)=>{const t=Vu.createTransformer(e),i=g0(n),s=g0(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?uM.has(n)&&!s.values.length||uM.has(e)&&!i.values.length?R8(n,e):j0(RI(P8(i,s),s.values),t):vb(n,e)};function NI(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Ci(n,e,t):FT(n)(n,e)}const L8=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>qn.update(e,t),stop:()=>zo(e),now:()=>Ts.isProcessing?Ts.timestamp:Qr.now()}},DI=(n,e,t=10)=>{let i="";const s=Math.max(Math.round(e/t),2);for(let a=0;a<s;a++)i+=Math.round(n(a/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},xb=2e4;function BT(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<xb;)e+=t,i=n.next(e);return e>=xb?1/0:e}function O8(n,e=100,t){const i=t({...n,keyframes:[0,e]}),s=Math.min(BT(i),xb);return{type:"keyframes",ease:a=>i.next(s*a).value/e,duration:$a(s)}}const U8=5;function PI(n,e,t){const i=Math.max(e-U8,0);return PT(t-n(i),e-i)}const Bi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},DS=.001;function z8({duration:n=Bi.duration,bounce:e=Bi.bounce,velocity:t=Bi.velocity,mass:i=Bi.mass}){let s,a,l=1-e;l=Rl(Bi.minDamping,Bi.maxDamping,l),n=Rl(Bi.minDuration,Bi.maxDuration,$a(n)),l<1?(s=p=>{const g=p*l,m=g*n,x=g-t,b=fM(p,l),w=Math.exp(-m);return DS-x/b*w},a=p=>{const m=p*l*n,x=m*t+t,b=Math.pow(l,2)*Math.pow(p,2)*n,w=Math.exp(-m),A=fM(Math.pow(p,2),l);return(-s(p)+DS>0?-1:1)*((x-b)*w)/A}):(s=p=>{const g=Math.exp(-p*n),m=(p-t)*n+1;return-DS+g*m},a=p=>{const g=Math.exp(-p*n),m=(t-p)*(n*n);return g*m});const u=5/n,h=B8(s,a,u);if(n=Tl(n),isNaN(h))return{stiffness:Bi.stiffness,damping:Bi.damping,duration:n};{const p=Math.pow(h,2)*i;return{stiffness:p,damping:l*2*Math.sqrt(i*p),duration:n}}}const F8=12;function B8(n,e,t){let i=t;for(let s=1;s<F8;s++)i=i-n(i)/e(i);return i}function fM(n,e){return n*Math.sqrt(1-e*e)}const k8=["duration","bounce"],V8=["stiffness","damping","mass"];function qC(n,e){return e.some(t=>n[t]!==void 0)}function H8(n){let e={velocity:Bi.velocity,stiffness:Bi.stiffness,damping:Bi.damping,mass:Bi.mass,isResolvedFromDuration:!1,...n};if(!qC(n,V8)&&qC(n,k8))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),s=i*i,a=2*Rl(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:Bi.mass,stiffness:s,damping:a}}else{const t=z8(n);e={...e,...t,mass:Bi.mass},e.isResolvedFromDuration=!0}return e}function bb(n=Bi.visualDuration,e=Bi.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:s}=t;const a=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:a},{stiffness:h,damping:p,mass:g,duration:m,velocity:x,isResolvedFromDuration:b}=H8({...t,velocity:-$a(t.velocity||0)}),w=x||0,A=p/(2*Math.sqrt(h*g)),T=l-a,M=$a(Math.sqrt(h/g)),N=Math.abs(T)<5;i||(i=N?Bi.restSpeed.granular:Bi.restSpeed.default),s||(s=N?Bi.restDelta.granular:Bi.restDelta.default);let D;if(A<1){const O=fM(M,A);D=F=>{const B=Math.exp(-A*M*F);return l-B*((w+A*M*T)/O*Math.sin(O*F)+T*Math.cos(O*F))}}else if(A===1)D=O=>l-Math.exp(-M*O)*(T+(w+M*T)*O);else{const O=M*Math.sqrt(A*A-1);D=F=>{const B=Math.exp(-A*M*F),H=Math.min(O*F,300);return l-B*((w+A*M*T)*Math.sinh(H)+O*T*Math.cosh(H))/O}}const I={calculatedDuration:b&&m||null,next:O=>{const F=D(O);if(b)u.done=O>=m;else{let B=O===0?w:0;A<1&&(B=O===0?Tl(w):PI(D,O,F));const H=Math.abs(B)<=i,z=Math.abs(l-F)<=s;u.done=H&&z}return u.value=u.done?l:F,u},toString:()=>{const O=Math.min(BT(I),xb),F=DI(B=>I.next(O*B).value,O,30);return O+"ms "+F},toTransition:()=>{}};return I}bb.applyToOptions=n=>{const e=O8(n,100,bb);return n.ease=e.ease,n.duration=Tl(e.duration),n.type="keyframes",n};function dM({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:h,restDelta:p=.5,restSpeed:g}){const m=n[0],x={done:!1,value:m},b=H=>u!==void 0&&H<u||h!==void 0&&H>h,w=H=>u===void 0?h:h===void 0||Math.abs(u-H)<Math.abs(h-H)?u:h;let A=t*e;const T=m+A,M=l===void 0?T:l(T);M!==T&&(A=M-m);const N=H=>-A*Math.exp(-H/i),D=H=>M+N(H),I=H=>{const z=N(H),k=D(H);x.done=Math.abs(z)<=p,x.value=x.done?M:k};let O,F;const B=H=>{b(x.value)&&(O=H,F=bb({keyframes:[x.value,w(x.value)],velocity:PI(D,H,x.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return B(0),{calculatedDuration:null,next:H=>{let z=!1;return!F&&O===void 0&&(z=!0,I(H),B(H)),O!==void 0&&H>=O?F.next(H-O):(!z&&I(H),x)}}}function j8(n,e,t){const i=[],s=t||Rc.mix||NI,a=n.length-1;for(let l=0;l<a;l++){let u=s(n[l],n[l+1]);if(e){const h=Array.isArray(e)?e[l]||ea:e;u=j0(h,u)}i.push(u)}return i}function kT(n,e,{clamp:t=!0,ease:i,mixer:s}={}){const a=n.length;if(p0(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=j8(e,i,s),h=u.length,p=g=>{if(l&&g<n[0])return e[0];let m=0;if(h>1)for(;m<n.length-2&&!(g<n[m+1]);m++);const x=gp(n[m],n[m+1],g);return u[m](x)};return t?g=>p(Rl(n[0],n[a-1],g)):p}function G8(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const s=gp(0,e,i);n.push(Ci(t,1,s))}}function II(n){const e=[0];return G8(e,n.length-1),e}function W8(n,e){return n.map(t=>t*e)}function X8(n,e){return n.map(()=>e||xI).splice(0,n.length-1)}function qg({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const s=r8(i)?i.map(HC):HC(i),a={done:!1,value:e[0]},l=W8(t&&t.length===e.length?t:II(e),n),u=kT(l,e,{ease:Array.isArray(s)?s:X8(e,s)});return{calculatedDuration:n,next:h=>(a.value=u(h),a.done=h>=n,a)}}const q8=n=>n!==null;function VT(n,{repeat:e,repeatType:t="loop"},i,s=1){const a=n.filter(q8),u=s<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!u||i===void 0?a[u]:i}const Y8={decay:dM,inertia:dM,tween:qg,keyframes:qg,spring:bb};function LI(n){typeof n.type=="string"&&(n.type=Y8[n.type])}class HT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const $8=n=>n/100;class G1 extends HT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Qr.now()&&this.tick(Qr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;LI(e);const{type:t=qg,repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:u}=e;const h=t||qg;h!==qg&&typeof u[0]!="number"&&(this.mixKeyframes=j0($8,NI(u[0],u[1])),u=[0,100]);const p=h({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=BT(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=p}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:g,repeat:m,repeatType:x,repeatDelay:b,type:w,onUpdate:A,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const M=this.currentTime-p*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?M<0:M>s;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let D=this.currentTime,I=i;if(m){const H=Math.min(this.currentTime,s)/u;let z=Math.floor(H),k=H%1;!k&&H>=1&&(k=1),k===1&&z--,z=Math.min(z,m+1),z%2&&(x==="reverse"?(k=1-k,b&&(k-=b/u)):x==="mirror"&&(I=l)),D=Rl(0,1,k)*u}const O=N?{done:!1,value:g[0]}:I.next(D);a&&(O.value=a(O.value));let{done:F}=O;!N&&h!==null&&(F=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return B&&w!==dM&&(O.value=VT(g,this.options,T,this.speed)),A&&A(O.value),B&&this.finish(),O}then(e,t){return this.finished.then(e,t)}get duration(){return $a(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+$a(e)}get time(){return $a(this.currentTime)}set time(e){e=Tl(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Qr.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=$a(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=L8,startTime:t}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Qr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Z8(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const sd=n=>n*180/Math.PI,hM=n=>{const e=sd(Math.atan2(n[1],n[0]));return pM(e)},K8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:hM,rotateZ:hM,skewX:n=>sd(Math.atan(n[1])),skewY:n=>sd(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},pM=n=>(n=n%360,n<0&&(n+=360),n),YC=hM,$C=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),ZC=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),Q8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$C,scaleY:ZC,scale:n=>($C(n)+ZC(n))/2,rotateX:n=>pM(sd(Math.atan2(n[6],n[5]))),rotateY:n=>pM(sd(Math.atan2(-n[2],n[0]))),rotateZ:YC,rotate:YC,skewX:n=>sd(Math.atan(n[4])),skewY:n=>sd(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function mM(n){return n.includes("scale")?1:0}function gM(n,e){if(!n||n==="none")return mM(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(t)i=Q8,s=t;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=K8,s=u}if(!s)return mM(e);const a=i[e],l=s[1].split(",").map(eH);return typeof a=="function"?a(l):l[a]}const J8=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return gM(t,e)};function eH(n){return parseFloat(n.trim())}const kp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vp=new Set(kp),KC=n=>n===Bp||n===St,tH=new Set(["x","y","z"]),nH=kp.filter(n=>!tH.has(n));function iH(n){const e=[];return nH.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const cd={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>gM(e,"x"),y:(n,{transform:e})=>gM(e,"y")};cd.translateX=cd.x;cd.translateY=cd.y;const ud=new Set;let yM=!1,vM=!1,xM=!1;function OI(){if(vM){const n=Array.from(ud).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const s=iH(i);s.length&&(t.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=t.get(i);s&&s.forEach(([a,l])=>{i.getValue(a)?.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}vM=!1,yM=!1,ud.forEach(n=>n.complete(xM)),ud.clear()}function UI(){ud.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(vM=!0)})}function sH(){xM=!0,UI(),OI(),xM=!1}class jT{constructor(e,t,i,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(ud.add(this),yM||(yM=!0,qn.read(UI),qn.resolveKeyframes(OI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:s}=this;if(e[0]===null){const a=s?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&t){const u=i.readValue(t,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}Z8(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ud.delete(this)}cancel(){this.state==="scheduled"&&(ud.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rH=n=>n.startsWith("--");function aH(n,e,t){rH(e)?n.style.setProperty(e,t):n.style[e]=t}const zI=NT(()=>window.ScrollTimeline!==void 0),oH={};function lH(n,e){const t=NT(n);return()=>oH[e]??t()}const FI=lH(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kg=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,QC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kg([0,.65,.55,1]),circOut:kg([.55,0,1,.45]),backIn:kg([.31,.01,.66,-.59]),backOut:kg([.33,1.53,.69,.99])};function BI(n,e){if(n)return typeof n=="function"?FI()?DI(n,e):"ease-out":bI(n)?kg(n):Array.isArray(n)?n.map(t=>BI(t,e)||QC.easeOut):QC[n]}function cH(n,e,t,{delay:i=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:h}={},p=void 0){const g={[e]:t};h&&(g.offset=h);const m=BI(u,s);Array.isArray(m)&&(g.easing=m);const x={delay:i,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),n.animate(g,x)}function kI(n){return typeof n=="function"&&"applyToOptions"in n}function uH({type:n,...e}){return kI(n)&&FI()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class fH extends HT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,p0(typeof e.type!="string");const p=uH(e);this.animation=cH(t,i,s,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=VT(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):aH(t,i,g),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return $a(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+$a(e)}get time(){return $a(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Tl(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&zI()?(this.animation.timeline=e,ea):t(this)}}const VI={anticipate:gI,backInOut:mI,circInOut:vI};function dH(n){return n in VI}function hH(n){typeof n.ease=="string"&&dH(n.ease)&&(n.ease=VI[n.ease])}const JC=10;class pH extends fH{constructor(e){hH(e),LI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:s,element:a,...l}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const u=new G1({...l,autoplay:!1}),h=Tl(this.finishedTime??this.time);t.setWithVelocity(u.sample(h-JC).value,u.sample(h).value,JC),u.stop()}}const e3=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Vu.test(n)||n==="0")&&!n.startsWith("url("));function mH(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function gH(n,e,t,i){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],l=e3(s,e),u=e3(a,e);return!l||!u?!1:mH(n)||(t==="spring"||kI(t))&&i}function bM(n){n.duration=0,n.type="keyframes"}const yH=new Set(["opacity","clipPath","filter","transform"]),vH=NT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function xH(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:s,damping:a,type:l}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return vH()&&t&&yH.has(t)&&(t!=="transform"||!p)&&!h&&!i&&s!=="mirror"&&a!==0&&l!=="inertia"}const bH=40;class _H extends HT{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:h,motionValue:p,element:g,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Qr.now();const x={autoplay:e,delay:t,type:i,repeat:s,repeatDelay:a,repeatType:l,name:h,motionValue:p,element:g,...m},b=g?.KeyframeResolver||jT;this.keyframeResolver=new b(u,(w,A,T)=>this.onKeyframesResolved(w,A,x,!T),h,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:h,isHandoff:p,onUpdate:g}=i;this.resolvedAt=Qr.now(),gH(e,a,l,u)||((Rc.instantAnimations||!h)&&g?.(VT(e,i,t)),e[0]=e[e.length-1],bM(i),i.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>bH?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},b=!p&&xH(x)?new pH({...x,element:x.motionValue.owner.current}):new G1(x);b.finished.then(()=>this.notifyFinished()).catch(ea),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),sH()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const SH=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function wH(n){const e=SH.exec(n);if(!e)return[,];const[,t,i,s]=e;return[`--${t??i}`,s]}function HI(n,e,t=1){const[i,s]=wH(n);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const l=a.trim();return lI(l)?parseFloat(l):l}return OT(s)?HI(s,e,t+1):s}function GT(n,e){return n?.[e]??n?.default??n}const jI=new Set(["width","height","top","left","right","bottom",...kp]),MH={test:n=>n==="auto",parse:n=>n},GI=n=>e=>e.test(n),WI=[Bp,St,El,Nu,v8,y8,MH],t3=n=>WI.find(GI(n));function TH(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||uI(n):!0}const EH=new Set(["brightness","contrast","saturate","opacity"]);function AH(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(UT)||[];if(!i)return n;const s=t.replace(i,"");let a=EH.has(e)?1:0;return i!==t&&(a*=100),e+"("+a+s+")"}const CH=/\b([a-z-]*)\(.*?\)/gu,_M={...Vu,getAnimatableNone:n=>{const e=n.match(CH);return e?e.map(AH).join(" "):n}},n3={...Bp,transform:Math.round},RH={rotate:Nu,rotateX:Nu,rotateY:Nu,rotateZ:Nu,scale:Kv,scaleX:Kv,scaleY:Kv,scaleZ:Kv,skew:Nu,skewX:Nu,skewY:Nu,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:m0,originX:jC,originY:jC,originZ:St},WT={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,inset:St,insetBlock:St,insetBlockStart:St,insetBlockEnd:St,insetInline:St,insetInlineStart:St,insetInlineEnd:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,paddingBlock:St,paddingBlockStart:St,paddingBlockEnd:St,paddingInline:St,paddingInlineStart:St,paddingInlineEnd:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,marginBlock:St,marginBlockStart:St,marginBlockEnd:St,marginInline:St,marginInlineStart:St,marginInlineEnd:St,backgroundPositionX:St,backgroundPositionY:St,...RH,zIndex:n3,fillOpacity:m0,strokeOpacity:m0,numOctaves:n3},NH={...WT,color:as,backgroundColor:as,outlineColor:as,fill:as,stroke:as,borderColor:as,borderTopColor:as,borderRightColor:as,borderBottomColor:as,borderLeftColor:as,filter:_M,WebkitFilter:_M},XI=n=>NH[n];function qI(n,e){let t=XI(n);return t!==_M&&(t=Vu),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const DH=new Set(["auto","none","0"]);function PH(n,e,t){let i=0,s;for(;i<n.length&&!s;){const a=n[i];typeof a=="string"&&!DH.has(a)&&g0(a).values.length&&(s=n[i]),i++}if(s&&t)for(const a of e)n[a]=qI(t,s)}class IH extends jT{constructor(e,t,i,s,a){super(e,t,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),OT(p))){const g=HI(p,t.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!jI.has(i)||e.length!==2)return;const[s,a]=e,l=t3(s),u=t3(a);if(l!==u)if(KC(l)&&KC(u))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else cd[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||TH(e[s]))&&i.push(s);i.length&&PH(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cd[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=cd[t](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,h])=>{e.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function XT(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){const s=document.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const YI=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function qT(n){return cI(n)&&"offsetHeight"in n}const i3=30,LH=n=>!isNaN(parseFloat(n)),Yg={current:void 0};class OH{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=Qr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Qr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=LH(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new DT);const i=this.events[e].add(t);return e==="change"?()=>{i(),qn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Yg.current&&Yg.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Qr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>i3)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,i3);return PT(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function No(n,e){return new OH(n,e)}const{schedule:YT}=_I(queueMicrotask,!1),Eo={x:!1,y:!1};function $I(){return Eo.x||Eo.y}function UH(n){return n==="x"||n==="y"?Eo[n]?null:(Eo[n]=!0,()=>{Eo[n]=!1}):Eo.x||Eo.y?null:(Eo.x=Eo.y=!0,()=>{Eo.x=Eo.y=!1})}function ZI(n,e){const t=XT(n),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[t,s,()=>i.abort()]}function s3(n){return!(n.pointerType==="touch"||$I())}function zH(n,e,t={}){const[i,s,a]=ZI(n,t),l=u=>{if(!s3(u))return;const{target:h}=u,p=e(h,u);if(typeof p!="function"||!h)return;const g=m=>{s3(m)&&(p(m),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,s)};return i.forEach(u=>{u.addEventListener("pointerenter",l,s)}),a}const KI=(n,e)=>e?n===e?!0:KI(n,e.parentElement):!1,$T=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,FH=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BH(n){return FH.has(n.tagName)||n.tabIndex!==-1}const Jx=new WeakSet;function r3(n){return e=>{e.key==="Enter"&&n(e)}}function PS(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const kH=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=r3(()=>{if(Jx.has(t))return;PS(t,"down");const s=r3(()=>{PS(t,"up")}),a=()=>PS(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function a3(n){return $T(n)&&!$I()}function VH(n,e,t={}){const[i,s,a]=ZI(n,t),l=u=>{const h=u.currentTarget;if(!a3(u))return;Jx.add(h);const p=e(h,u),g=(b,w)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",x),Jx.has(h)&&Jx.delete(h),a3(b)&&typeof p=="function"&&p(b,{success:w})},m=b=>{g(b,h===window||h===document||t.useGlobalTarget||KI(h,b.target))},x=b=>{g(b,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",x,s)};return i.forEach(u=>{(t.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),qT(u)&&(u.addEventListener("focus",p=>kH(p,s)),!BH(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function ZT(n){return cI(n)&&"ownerSVGElement"in n}const eb=new WeakMap;let tb;const QI=(n,e,t)=>(i,s)=>s&&s[0]?s[0][n+"Size"]:ZT(i)&&"getBBox"in i?i.getBBox()[e]:i[t],HH=QI("inline","width","offsetWidth"),jH=QI("block","height","offsetHeight");function GH({target:n,borderBoxSize:e}){eb.get(n)?.forEach(t=>{t(n,{get width(){return HH(n,e)},get height(){return jH(n,e)}})})}function WH(n){n.forEach(GH)}function XH(){typeof ResizeObserver>"u"||(tb=new ResizeObserver(WH))}function qH(n,e){tb||XH();const t=XT(n);return t.forEach(i=>{let s=eb.get(i);s||(s=new Set,eb.set(i,s)),s.add(e),tb?.observe(i)}),()=>{t.forEach(i=>{const s=eb.get(i);s?.delete(e),s?.size||tb?.unobserve(i)})}}const nb=new Set;let np;function YH(){np=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};nb.forEach(e=>e(n))},window.addEventListener("resize",np)}function $H(n){return nb.add(n),np||YH(),()=>{nb.delete(n),!nb.size&&typeof np=="function"&&(window.removeEventListener("resize",np),np=void 0)}}function ZH(n,e){return typeof n=="function"?$H(n):qH(n,e)}function JI(n,e){let t;const i=()=>{const{currentTime:s}=e,l=(s===null?0:s.value)/100;t!==l&&n(l),t=l};return qn.preUpdate(i,!0),()=>zo(i)}function KH(n){return ZT(n)&&n.tagName==="svg"}function QH(...n){const e=!Array.isArray(n[0]),t=e?0:-1,i=n[0+t],s=n[1+t],a=n[2+t],l=n[3+t],u=kT(s,a,l);return e?u(i):u}const As=n=>!!(n&&n.getVelocity);function JH(n,e,t){const i=n.get();let s=null,a=i,l;const u=typeof i=="string"?i.replace(/[\d.-]/g,""):void 0,h=()=>{s&&(s.stop(),s=null)},p=()=>{h(),s=new G1({keyframes:[l3(n.get()),l3(a)],velocity:n.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:l})};if(n.attach((g,m)=>{a=g,l=x=>m(o3(x,u)),qn.postRender(()=>{p(),n.events.animationStart?.notify(),s?.then(()=>{n.events.animationComplete?.notify()})})},h),As(e)){const g=e.on("change",x=>n.set(o3(x,u))),m=n.on("destroy",g);return()=>{g(),m()}}return h}function o3(n,e){return e?n+e:n}function l3(n){return typeof n=="number"?n:parseFloat(n)}const ej=[...WI,as,Vu],tj=n=>ej.find(GI(n)),X0=L.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function c3(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function nj(...n){return e=>{let t=!1;const i=n.map(s=>{const a=c3(s,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let s=0;s<i.length;s++){const a=i[s];typeof a=="function"?a():c3(n[s],null)}}}}function ij(...n){return L.useCallback(nj(...n),n)}class sj extends L.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,s=qT(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function rj({children:n,isPresent:e,anchorX:t,root:i}){const s=L.useId(),a=L.useRef(null),l=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=L.useContext(X0),h=n.props?.ref??n?.ref,p=ij(a,h);return L.useInsertionEffect(()=>{const{width:g,height:m,top:x,left:b,right:w}=l.current;if(e||!a.current||!g||!m)return;const A=t==="left"?`left: ${b}`:`right: ${w}`;a.current.dataset.motionPopId=s;const T=document.createElement("style");u&&(T.nonce=u);const M=i??document.head;return M.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${m}px !important;
            ${A}px !important;
            top: ${x}px !important;
          }
        `),()=>{M.contains(T)&&M.removeChild(T)}},[e]),C.jsx(sj,{isPresent:e,childRef:a,sizeRef:l,children:L.cloneElement(n,{ref:p})})}const aj=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:l,anchorX:u,root:h})=>{const p=Fp(oj),g=L.useId();let m=!0,x=L.useMemo(()=>(m=!1,{id:g,initial:e,isPresent:t,custom:s,onExitComplete:b=>{p.set(b,!0);for(const w of p.values())if(!w)return;i&&i()},register:b=>(p.set(b,!1),()=>p.delete(b))}),[t,p,i]);return a&&m&&(x={...x}),L.useMemo(()=>{p.forEach((b,w)=>p.set(w,!1))},[t]),L.useEffect(()=>{!t&&!p.size&&i&&i()},[t]),l==="popLayout"&&(n=C.jsx(rj,{isPresent:t,anchorX:u,root:h,children:n})),C.jsx(j1.Provider,{value:x,children:n})};function oj(){return new Map}function eL(n=!0){const e=L.useContext(j1);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:s}=e,a=L.useId();L.useEffect(()=>{if(n)return s(a)},[n]);const l=L.useCallback(()=>n&&i&&i(a),[a,i,n]);return!t&&i?[!1,l]:[!0]}const Qv=n=>n.key||"";function u3(n){const e=[];return L.Children.forEach(n,t=>{L.isValidElement(t)&&e.push(t)}),e}const yp=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:u="left",root:h})=>{const[p,g]=eL(l),m=L.useMemo(()=>u3(n),[n]),x=l&&!p?[]:m.map(Qv),b=L.useRef(!0),w=L.useRef(m),A=Fp(()=>new Map),T=L.useRef(new Set),[M,N]=L.useState(m),[D,I]=L.useState(m);H1(()=>{b.current=!1,w.current=m;for(let B=0;B<D.length;B++){const H=Qv(D[B]);x.includes(H)?(A.delete(H),T.current.delete(H)):A.get(H)!==!0&&A.set(H,!1)}},[D,x.length,x.join("-")]);const O=[];if(m!==M){let B=[...m];for(let H=0;H<D.length;H++){const z=D[H],k=Qv(z);x.includes(k)||(B.splice(H,0,z),O.push(z))}return a==="wait"&&O.length&&(B=O),I(u3(B)),N(m),null}const{forceRender:F}=L.useContext(ET);return C.jsx(C.Fragment,{children:D.map(B=>{const H=Qv(B),z=l&&!p?!1:m===D||x.includes(H),k=()=>{if(T.current.has(H))return;if(T.current.add(H),A.has(H))A.set(H,!0);else return;let $=!0;A.forEach(se=>{se||($=!1)}),$&&(F?.(),I(w.current),l&&g?.(),i&&i())};return C.jsx(aj,{isPresent:z,initial:!b.current||t?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,root:h,onExitComplete:z?void 0:k,anchorX:u,children:B},H)})})},tL=L.createContext({strict:!1}),f3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vp={};for(const n in f3)vp[n]={isEnabled:e=>f3[n].some(t=>!!e[t])};function lj(n){for(const e in n)vp[e]={...vp[e],...n[e]}}const cj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _b(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||cj.has(n)}let nL=n=>!_b(n);function uj(n){typeof n=="function"&&(nL=e=>e.startsWith("on")?!_b(e):n(e))}try{uj(require("@emotion/is-prop-valid").default)}catch{}function fj(n,e,t){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(nL(s)||t===!0&&_b(s)||!e&&!_b(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}const W1=L.createContext({});function X1(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function y0(n){return typeof n=="string"||Array.isArray(n)}const KT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],QT=["initial",...KT];function q1(n){return X1(n.animate)||QT.some(e=>y0(n[e]))}function iL(n){return!!(q1(n)||n.variants)}function dj(n,e){if(q1(n)){const{initial:t,animate:i}=n;return{initial:t===!1||y0(t)?t:void 0,animate:y0(i)?i:void 0}}return n.inherit!==!1?e:{}}function hj(n){const{initial:e,animate:t}=dj(n,L.useContext(W1));return L.useMemo(()=>({initial:e,animate:t}),[d3(e),d3(t)])}function d3(n){return Array.isArray(n)?n.join(" "):n}function h3(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Tg={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(St.test(n))n=parseFloat(n);else return n;const t=h3(n,e.target.x),i=h3(n,e.target.y);return`${t}% ${i}%`}},pj={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,s=Vu.parse(n);if(s.length>5)return i;const a=Vu.createTransformer(n),l=typeof s[0]!="number"?1:0,u=t.x.scale*e.x,h=t.y.scale*e.y;s[0+l]/=u,s[1+l]/=h;const p=Ci(u,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}},SM={borderRadius:{...Tg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tg,borderTopRightRadius:Tg,borderBottomLeftRadius:Tg,borderBottomRightRadius:Tg,boxShadow:pj};function sL(n,{layout:e,layoutId:t}){return Vp.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!SM[n]||n==="opacity")}const mj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gj=kp.length;function yj(n,e,t){let i="",s=!0;for(let a=0;a<gj;a++){const l=kp[a],u=n[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||t){const p=YI(u,WT[l]);if(!h){s=!1;const g=mj[l]||l;i+=`${g}(${p}) `}t&&(e[l]=p)}}return i=i.trim(),t?i=t(e,s?"":i):s&&(i="none"),i}function JT(n,e,t){const{style:i,vars:s,transformOrigin:a}=n;let l=!1,u=!1;for(const h in e){const p=e[h];if(Vp.has(h)){l=!0;continue}else if(wI(h)){s[h]=p;continue}else{const g=YI(p,WT[h]);h.startsWith("origin")?(u=!0,a[h]=g):i[h]=g}}if(e.transform||(l||t?i.transform=yj(e,n.transform,t):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:g=0}=a;i.transformOrigin=`${h} ${p} ${g}`}}const eE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rL(n,e,t){for(const i in e)!As(e[i])&&!sL(i,t)&&(n[i]=e[i])}function vj({transformTemplate:n},e){return L.useMemo(()=>{const t=eE();return JT(t,e,n),Object.assign({},t.vars,t.style)},[e])}function xj(n,e){const t=n.style||{},i={};return rL(i,t,n),Object.assign(i,vj(n,e)),i}function bj(n,e){const t={},i=xj(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const _j={offset:"stroke-dashoffset",array:"stroke-dasharray"},Sj={offset:"strokeDashoffset",array:"strokeDasharray"};function wj(n,e,t=1,i=0,s=!0){n.pathLength=1;const a=s?_j:Sj;n[a.offset]=St.transform(-i);const l=St.transform(e),u=St.transform(t);n[a.array]=`${l} ${u}`}const Mj=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function aL(n,{attrX:e,attrY:t,attrScale:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},h,p,g){if(JT(n,u,p),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:x}=n;m.transform&&(x.transform=m.transform,delete m.transform),(x.transform||m.transformOrigin)&&(x.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),x.transform&&(x.transformBox=g?.transformBox??"fill-box",delete m.transformBox);for(const b of Mj)m[b]!==void 0&&(x[b]=m[b],delete m[b]);e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),i!==void 0&&(m.scale=i),s!==void 0&&wj(m,s,a,l,!1)}const oL=()=>({...eE(),attrs:{}}),lL=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Tj(n,e,t,i){const s=L.useMemo(()=>{const a=oL();return aL(a,e,lL(i),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};rL(a,n.style,n),s.style={...a,...s.style}}return s}const Ej=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tE(n){return typeof n!="string"||n.includes("-")?!1:!!(Ej.indexOf(n)>-1||/[A-Z]/u.test(n))}function Aj(n,e,t,{latestValues:i},s,a=!1,l){const h=(l??tE(n)?Tj:bj)(e,i,s,n),p=fj(e,typeof n=="string",a),g=n!==L.Fragment?{...p,...h,ref:t}:{},{children:m}=e,x=L.useMemo(()=>As(m)?m.get():m,[m]);return L.createElement(n,{...g,children:x})}function p3(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function nE(n,e,t,i){if(typeof e=="function"){const[s,a]=p3(i);e=e(t!==void 0?t:n.custom,s,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,a]=p3(i);e=e(t!==void 0?t:n.custom,s,a)}return e}function ib(n){return As(n)?n.get():n}function Cj({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,s){return{latestValues:Rj(t,i,s,n),renderState:e()}}function Rj(n,e,t,i){const s={},a=i(n,{});for(const x in a)s[x]=ib(a[x]);let{initial:l,animate:u}=n;const h=q1(n),p=iL(n);e&&p&&!h&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let g=t?t.initial===!1:!1;g=g||l===!1;const m=g?u:l;if(m&&typeof m!="boolean"&&!X1(m)){const x=Array.isArray(m)?m:[m];for(let b=0;b<x.length;b++){const w=nE(n,x[b]);if(w){const{transitionEnd:A,transition:T,...M}=w;for(const N in M){let D=M[N];if(Array.isArray(D)){const I=g?D.length-1:0;D=D[I]}D!==null&&(s[N]=D)}for(const N in A)s[N]=A[N]}}}return s}const cL=n=>(e,t)=>{const i=L.useContext(W1),s=L.useContext(j1),a=()=>Cj(n,e,i,s);return t?a():Fp(a)};function iE(n,e,t){const{style:i}=n,s={};for(const a in i)(As(i[a])||e.style&&As(e.style[a])||sL(a,n)||t?.getValue(a)?.liveStyle!==void 0)&&(s[a]=i[a]);return s}const Nj=cL({scrapeMotionValuesFromProps:iE,createRenderState:eE});function uL(n,e,t){const i=iE(n,e,t);for(const s in n)if(As(n[s])||As(e[s])){const a=kp.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=n[s]}return i}const Dj=cL({scrapeMotionValuesFromProps:uL,createRenderState:oL}),Pj=Symbol.for("motionComponentSymbol");function ip(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function m3(n,e){if(typeof n=="function")return n(e);ip(n)&&(n.current=e)}function Ij(n,e,t){const i=L.useRef(null);return L.useCallback(s=>{if(s&&n.onMount&&n.onMount(s),e&&(s?e.mount(s):e.unmount()),t)if(s){const a=m3(t,s);typeof a=="function"&&(i.current=a)}else i.current?(i.current(),i.current=null):m3(t,s)},[e,n,t])}const sE=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Lj="framerAppearId",fL="data-"+sE(Lj),dL=L.createContext({});function Oj(n,e,t,i,s,a){const{visualElement:l}=L.useContext(W1),u=L.useContext(tL),h=L.useContext(j1),p=L.useContext(X0).reducedMotion,g=L.useRef(null);i=i||u.renderer,!g.current&&i&&(g.current=i(n,{visualState:e,parent:l,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p,isSVG:a}));const m=g.current,x=L.useContext(dL);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&Uj(g.current,t,s,x);const b=L.useRef(!1);L.useInsertionEffect(()=>{m&&b.current&&m.update(t,h)});const w=t[fL],A=L.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return H1(()=>{m&&(b.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),A.current&&m.animationState&&m.animationState.animateChanges())}),L.useEffect(()=>{m&&(!A.current&&m.animationState&&m.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),A.current=!1),m.enteringChildren=void 0)}),m}function Uj(n,e,t,i){const{layoutId:s,layout:a,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:p,layoutCrossfade:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:hL(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||u&&ip(u),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:h,layoutRoot:p})}function hL(n){if(n)return n.options.allowProjection!==!1?n.projection:hL(n.parent)}function IS(n,{forwardMotionProps:e=!1,type:t}={},i,s){i&&lj(i);const a=t?t==="svg":tE(n),l=a?Dj:Nj;function u(p,g){let m;const x={...L.useContext(X0),...p,layoutId:zj(p)},{isStatic:b}=x,w=hj(p),A=l(p,b);if(!b&&AT){Fj();const T=Bj(x);m=T.MeasureLayout,w.visualElement=Oj(n,A,x,s,T.ProjectionNode,a)}return C.jsxs(W1.Provider,{value:w,children:[m&&w.visualElement?C.jsx(m,{visualElement:w.visualElement,...x}):null,Aj(n,p,Ij(A,w.visualElement,g),A,b,e,a)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const h=L.forwardRef(u);return h[Pj]=n,h}function zj({layoutId:n}){const e=L.useContext(ET).id;return e&&n!==void 0?e+"-"+n:n}function Fj(n,e){L.useContext(tL).strict}function Bj(n){const{drag:e,layout:t}=vp;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function kj(n,e){if(typeof Proxy>"u")return IS;const t=new Map,i=(a,l)=>IS(a,l,n,e),s=(a,l)=>i(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?i:(t.has(l)||t.set(l,IS(l,void 0,n,e)),t.get(l))})}function pL({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function Vj({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Hj(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function LS(n){return n===void 0||n===1}function wM({scale:n,scaleX:e,scaleY:t}){return!LS(n)||!LS(e)||!LS(t)}function ed(n){return wM(n)||mL(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function mL(n){return g3(n.x)||g3(n.y)}function g3(n){return n&&n!=="0%"}function Sb(n,e,t){const i=n-t,s=e*i;return t+s}function y3(n,e,t,i,s){return s!==void 0&&(n=Sb(n,s,i)),Sb(n,t,i)+e}function MM(n,e=0,t=1,i,s){n.min=y3(n.min,e,t,i,s),n.max=y3(n.max,e,t,i,s)}function gL(n,{x:e,y:t}){MM(n.x,e.translate,e.scale,e.originPoint),MM(n.y,t.translate,t.scale,t.originPoint)}const v3=.999999999999,x3=1.0000000000001;function jj(n,e,t,i=!1){const s=t.length;if(!s)return;e.x=e.y=1;let a,l;for(let u=0;u<s;u++){a=t[u],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&rp(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,gL(n,l)),i&&ed(a.latestValues)&&rp(n,a.latestValues))}e.x<x3&&e.x>v3&&(e.x=1),e.y<x3&&e.y>v3&&(e.y=1)}function sp(n,e){n.min=n.min+e,n.max=n.max+e}function b3(n,e,t,i,s=.5){const a=Ci(n.min,n.max,s);MM(n,e,t,a,i)}function rp(n,e){b3(n.x,e.x,e.scaleX,e.scale,e.originX),b3(n.y,e.y,e.scaleY,e.scale,e.originY)}function yL(n,e){return pL(Hj(n.getBoundingClientRect(),e))}function Gj(n,e,t){const i=yL(n,t),{scroll:s}=e;return s&&(sp(i.x,s.offset.x),sp(i.y,s.offset.y)),i}const _3=()=>({translate:0,scale:1,origin:0,originPoint:0}),ap=()=>({x:_3(),y:_3()}),S3=()=>({min:0,max:0}),ms=()=>({x:S3(),y:S3()}),TM={current:null},vL={current:!1};function Wj(){if(vL.current=!0,!!AT)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>TM.current=n.matches;n.addEventListener("change",e),e()}else TM.current=!1}const Xj=new WeakMap;function qj(n,e,t){for(const i in e){const s=e[i],a=t[i];if(As(s))n.addValue(i,s);else if(As(a))n.addValue(i,No(s,{owner:n}));else if(a!==s)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=n.getStaticValue(i);n.addValue(i,No(l!==void 0?l:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const w3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Yj{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Qr.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,qn.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=q1(t),this.isVariantNode=iL(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...m}=this.scrapeMotionValuesFromProps(t,{},this);for(const x in m){const b=m[x];h[x]!==void 0&&As(b)&&b.set(h[x])}}mount(e){this.current=e,Xj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(vL.current||Wj(),this.shouldReduceMotion=TM.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),zo(this.notifyUpdate),zo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Vp.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&qn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in vp){const t=vp[e];if(!t)continue;const{isEnabled:i,Feature:s}=t;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ms()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<w3.length;i++){const s=w3[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=qj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=No(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(lI(i)||uI(i))?i=parseFloat(i):!tj(i)&&Vu.test(t)&&(i=qI(e,t)),this.setBaseTarget(e,As(i)?i.get():i)),As(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const a=nE(this.props,t,this.presenceContext?.custom);a&&(i=a[e])}if(t&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!As(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new DT),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){YT.render(this.render)}}class xL extends Yj{constructor(){super(...arguments),this.KeyframeResolver=IH}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;As(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function bL(n,{style:e,vars:t},i,s){const a=n.style;let l;for(l in e)a[l]=e[l];s?.applyProjectionStyles(a,i);for(l in t)a.setProperty(l,t[l])}function $j(n){return window.getComputedStyle(n)}class Zj extends xL{constructor(){super(...arguments),this.type="html",this.renderInstance=bL}readValueFromInstance(e,t){if(Vp.has(t))return this.projection?.isProjecting?mM(t):J8(e,t);{const i=$j(e),s=(wI(t)?i.getPropertyValue(t):i[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return yL(e,t)}build(e,t,i){JT(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return iE(e,t,i)}}const _L=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Kj(n,e,t,i){bL(n,e,void 0,i);for(const s in e.attrs)n.setAttribute(_L.has(s)?s:sE(s),e.attrs[s])}class Qj extends xL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ms}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Vp.has(t)){const i=XI(t);return i&&i.default||0}return t=_L.has(t)?t:sE(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return uL(e,t,i)}build(e,t,i){aL(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,s){Kj(e,t,i,s)}mount(e){this.isSVGTag=lL(e.tagName),super.mount(e)}}const Jj=(n,e)=>e.isSVG??tE(n)?new Qj(e):new Zj(e,{allowProjection:n!==L.Fragment});function fp(n,e,t){const i=n.getProps();return nE(i,e,t!==void 0?t:i.custom,n)}const EM=n=>Array.isArray(n);function eG(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,No(t))}function tG(n){return EM(n)?n[n.length-1]||0:n}function nG(n,e){const t=fp(n,e);let{transitionEnd:i={},transition:s={},...a}=t||{};a={...a,...i};for(const l in a){const u=tG(a[l]);eG(n,l,u)}}function iG(n){return!!(As(n)&&n.add)}function AM(n,e){const t=n.getValue("willChange");if(iG(t))return t.add(e);if(!t&&Rc.WillChange){const i=new Rc.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function SL(n){return n.props[fL]}const sG=n=>n!==null;function rG(n,{repeat:e,repeatType:t="loop"},i){const s=n.filter(sG),a=e&&t!=="loop"&&e%2===1?0:s.length-1;return s[a]}const aG={type:"spring",stiffness:500,damping:25,restSpeed:10},oG=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),lG={type:"keyframes",duration:.8},cG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uG=(n,{keyframes:e})=>e.length>2?lG:Vp.has(n)?n.startsWith("scale")?oG(e[1]):aG:cG;function fG({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:u,from:h,elapsed:p,...g}){return!!Object.keys(g).length}const rE=(n,e,t,i={},s,a)=>l=>{const u=GT(i,n)||{},h=u.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Tl(h);const g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:a?void 0:s};fG(u)||Object.assign(g,uG(n,g)),g.duration&&(g.duration=Tl(g.duration)),g.repeatDelay&&(g.repeatDelay=Tl(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let m=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(bM(g),g.delay===0&&(m=!0)),(Rc.instantAnimations||Rc.skipAnimations)&&(m=!0,bM(g),g.delay=0),g.allowFlatten=!u.type&&!u.ease,m&&!a&&e.get()!==void 0){const x=rG(g.keyframes,u);if(x!==void 0){qn.update(()=>{g.onUpdate(x),g.onComplete()});return}}return u.isSync?new G1(g):new _H(g)};function dG({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function wL(n,e,{delay:t=0,transitionOverride:i,type:s}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:l,...u}=e;i&&(a=i);const h=[],p=s&&n.animationState&&n.animationState.getState()[s];for(const g in u){const m=n.getValue(g,n.latestValues[g]??null),x=u[g];if(x===void 0||p&&dG(p,g))continue;const b={delay:t,...GT(a||{},g)},w=m.get();if(w!==void 0&&!m.isAnimating&&!Array.isArray(x)&&x===w&&!b.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const M=SL(n);if(M){const N=window.MotionHandoffAnimation(M,g,qn);N!==null&&(b.startTime=N,A=!0)}}AM(n,g),m.start(rE(g,m,x,n.shouldReduceMotion&&jI.has(g)?{type:!1}:b,n,A));const T=m.animation;T&&h.push(T)}return l&&Promise.all(h).then(()=>{qn.update(()=>{l&&nG(n,l)})}),h}function ML(n,e,t,i=0,s=1){const a=Array.from(n).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),l=n.size,u=(l-1)*i;return typeof t=="function"?t(a,l):s===1?a*i:u-a*i}function CM(n,e,t={}){const i=fp(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const a=i?()=>Promise.all(wL(n,i,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:m}=s;return hG(n,e,h,p,g,m,t)}:()=>Promise.resolve(),{when:u}=s;if(u){const[h,p]=u==="beforeChildren"?[a,l]:[l,a];return h().then(()=>p())}else return Promise.all([a(),l(t.delay)])}function hG(n,e,t=0,i=0,s=0,a=1,l){const u=[];for(const h of n.variantChildren)h.notify("AnimationStart",e),u.push(CM(h,e,{...l,delay:t+(typeof i=="function"?0:i)+ML(n.variantChildren,h,i,s,a)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(u)}function pG(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(a=>CM(n,a,t));i=Promise.all(s)}else if(typeof e=="string")i=CM(n,e,t);else{const s=typeof e=="function"?fp(n,e,t.custom):e;i=Promise.all(wL(n,s,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function TL(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const mG=QT.length;function EL(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?EL(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<mG;t++){const i=QT[t],s=n.props[i];(y0(s)||s===!1)&&(e[i]=s)}return e}const gG=[...KT].reverse(),yG=KT.length;function vG(n){return e=>Promise.all(e.map(({animation:t,options:i})=>pG(n,t,i)))}function xG(n){let e=vG(n),t=M3(),i=!0;const s=h=>(p,g)=>{const m=fp(n,g,h==="exit"?n.presenceContext?.custom:void 0);if(m){const{transition:x,transitionEnd:b,...w}=m;p={...p,...w,...b}}return p};function a(h){e=h(n)}function l(h){const{props:p}=n,g=EL(n.parent)||{},m=[],x=new Set;let b={},w=1/0;for(let T=0;T<yG;T++){const M=gG[T],N=t[M],D=p[M]!==void 0?p[M]:g[M],I=y0(D),O=M===h?N.isActive:null;O===!1&&(w=T);let F=D===g[M]&&D!==p[M]&&I;if(F&&i&&n.manuallyAnimateOnMount&&(F=!1),N.protectedKeys={...b},!N.isActive&&O===null||!D&&!N.prevProp||X1(D)||typeof D=="boolean")continue;const B=bG(N.prevProp,D);let H=B||M===h&&N.isActive&&!F&&I||T>w&&I,z=!1;const k=Array.isArray(D)?D:[D];let $=k.reduce(s(M),{});O===!1&&($={});const{prevResolvedValues:se={}}=N,ee={...se,...$},ne=Z=>{H=!0,x.has(Z)&&(z=!0,x.delete(Z)),N.needsAnimating[Z]=!0;const Q=n.getValue(Z);Q&&(Q.liveStyle=!1)};for(const Z in ee){const Q=$[Z],ye=se[Z];if(b.hasOwnProperty(Z))continue;let Se=!1;EM(Q)&&EM(ye)?Se=!TL(Q,ye):Se=Q!==ye,Se?Q!=null?ne(Z):x.add(Z):Q!==void 0&&x.has(Z)?ne(Z):N.protectedKeys[Z]=!0}N.prevProp=D,N.prevResolvedValues=$,N.isActive&&(b={...b,...$}),i&&n.blockInitialAnimation&&(H=!1);const ae=F&&B;H&&(!ae||z)&&m.push(...k.map(Z=>{const Q={type:M};if(typeof Z=="string"&&i&&!ae&&n.manuallyAnimateOnMount&&n.parent){const{parent:ye}=n,Se=fp(ye,Z);if(ye.enteringChildren&&Se){const{delayChildren:q}=Se.transition||{};Q.delay=ML(ye.enteringChildren,n,q)}}return{animation:Z,options:Q}}))}if(x.size){const T={};if(typeof p.initial!="boolean"){const M=fp(n,Array.isArray(p.initial)?p.initial[0]:p.initial);M&&M.transition&&(T.transition=M.transition)}x.forEach(M=>{const N=n.getBaseTarget(M),D=n.getValue(M);D&&(D.liveStyle=!0),T[M]=N??null}),m.push({animation:T})}let A=!!m.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(A=!1),i=!1,A?e(m):Promise.resolve()}function u(h,p){if(t[h].isActive===p)return Promise.resolve();n.variantChildren?.forEach(m=>m.animationState?.setActive(h,p)),t[h].isActive=p;const g=l(h);for(const m in t)t[m].protectedKeys={};return g}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>t,reset:()=>{t=M3()}}}function bG(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!TL(e,n):!1}function Bf(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function M3(){return{animate:Bf(!0),whileInView:Bf(),whileHover:Bf(),whileTap:Bf(),whileDrag:Bf(),whileFocus:Bf(),exit:Bf()}}class qu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class _G extends qu{constructor(e){super(e),e.animationState||(e.animationState=xG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();X1(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let SG=0;class wG extends qu{constructor(){super(...arguments),this.id=SG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const MG={animation:{Feature:_G},exit:{Feature:wG}};function v0(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function q0(n){return{point:{x:n.pageX,y:n.pageY}}}const TG=n=>e=>$T(e)&&n(e,q0(e));function $g(n,e,t,i){return v0(n,e,TG(t),i)}const AL=1e-4,EG=1-AL,AG=1+AL,CL=.01,CG=0-CL,RG=0+CL;function Mr(n){return n.max-n.min}function NG(n,e,t){return Math.abs(n-e)<=t}function T3(n,e,t,i=.5){n.origin=i,n.originPoint=Ci(e.min,e.max,n.origin),n.scale=Mr(t)/Mr(e),n.translate=Ci(t.min,t.max,n.origin)-n.originPoint,(n.scale>=EG&&n.scale<=AG||isNaN(n.scale))&&(n.scale=1),(n.translate>=CG&&n.translate<=RG||isNaN(n.translate))&&(n.translate=0)}function Zg(n,e,t,i){T3(n.x,e.x,t.x,i?i.originX:void 0),T3(n.y,e.y,t.y,i?i.originY:void 0)}function E3(n,e,t){n.min=t.min+e.min,n.max=n.min+Mr(e)}function DG(n,e,t){E3(n.x,e.x,t.x),E3(n.y,e.y,t.y)}function A3(n,e,t){n.min=e.min-t.min,n.max=n.min+Mr(e)}function wb(n,e,t){A3(n.x,e.x,t.x),A3(n.y,e.y,t.y)}function Ya(n){return[n("x"),n("y")]}const RL=({current:n})=>n?n.ownerDocument.defaultView:null,C3=(n,e)=>Math.abs(n-e);function PG(n,e){const t=C3(n.x,e.x),i=C3(n.y,e.y);return Math.sqrt(t**2+i**2)}class NL{constructor(e,t,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=US(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=PG(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!w)return;const{point:A}=x,{timestamp:T}=Ts;this.history.push({...A,timestamp:T});const{onStart:M,onMove:N}=this.handlers;b||(M&&M(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=OS(b,this.transformPagePoint),qn.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:w,onSessionEnd:A,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=US(x.type==="pointercancel"?this.lastMoveEventInfo:OS(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(x,M),A&&A(x,M)},!$T(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=s||window;const u=q0(e),h=OS(u,this.transformPagePoint),{point:p}=h,{timestamp:g}=Ts;this.history=[{...p,timestamp:g}];const{onSessionStart:m}=t;m&&m(e,US(h,this.history)),this.removeListeners=j0($g(this.contextWindow,"pointermove",this.handlePointerMove),$g(this.contextWindow,"pointerup",this.handlePointerUp),$g(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zo(this.updatePoint)}}function OS(n,e){return e?{point:e(n.point)}:n}function R3(n,e){return{x:n.x-e.x,y:n.y-e.y}}function US({point:n},e){return{point:n,delta:R3(n,DL(e)),offset:R3(n,IG(e)),velocity:LG(e,.1)}}function IG(n){return n[0]}function DL(n){return n[n.length-1]}function LG(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const s=DL(n);for(;t>=0&&(i=n[t],!(s.timestamp-i.timestamp>Tl(e)));)t--;if(!i)return{x:0,y:0};const a=$a(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function OG(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?Ci(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?Ci(t,n,i.max):Math.min(n,t)),n}function N3(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function UG(n,{top:e,left:t,bottom:i,right:s}){return{x:N3(n.x,t,s),y:N3(n.y,e,i)}}function D3(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function zG(n,e){return{x:D3(n.x,e.x),y:D3(n.y,e.y)}}function FG(n,e){let t=.5;const i=Mr(n),s=Mr(e);return s>i?t=gp(e.min,e.max-i,n.min):i>s&&(t=gp(n.min,n.max-s,e.min)),Rl(0,1,t)}function BG(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const RM=.35;function kG(n=RM){return n===!1?n=0:n===!0&&(n=RM),{x:P3(n,"left","right"),y:P3(n,"top","bottom")}}function P3(n,e,t){return{min:I3(n,e),max:I3(n,t)}}function I3(n,e){return typeof n=="number"?n:n[e]||0}const VG=new WeakMap;class HG{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ms(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=m=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(q0(m).point)},l=(m,x)=>{const{drag:b,dragPropagation:w,onDragStart:A}=this.getProps();if(b&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=UH(b),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ya(M=>{let N=this.getAxisMotionValue(M).get()||0;if(El.test(N)){const{projection:D}=this.visualElement;if(D&&D.layout){const I=D.layout.layoutBox[M];I&&(N=Mr(I)*(parseFloat(N)/100))}}this.originPoint[M]=N}),A&&qn.postRender(()=>A(m,x)),AM(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},u=(m,x)=>{this.latestPointerEvent=m,this.latestPanInfo=x;const{dragPropagation:b,dragDirectionLock:w,onDirectionLock:A,onDrag:T}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:M}=x;if(w&&this.currentDirection===null){this.currentDirection=jG(M),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",x.point,M),this.updateAxis("y",x.point,M),this.visualElement.render(),T&&T(m,x)},h=(m,x)=>{this.latestPointerEvent=m,this.latestPanInfo=x,this.stop(m,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Ya(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new NL(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:RL(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,s=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&qn.postRender(()=>u(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:s}=this.getProps();if(!i||!Jv(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=OG(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&ip(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=UG(i.layoutBox,e):this.constraints=!1,this.elastic=kG(t),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ya(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=BG(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ip(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=Gj(i,s.root,this.visualElement.getTransformPagePoint());let l=zG(s.layout.layoutBox,a);if(t){const u=t(Vj(l));this.hasMutatedConstraints=!!u,u&&(l=pL(u))}return l}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},p=Ya(g=>{if(!Jv(g,t,this.currentDirection))return;let m=h&&h[g]||{};l&&(m={min:0,max:0});const x=s?200:1e6,b=s?40:1e7,w={type:"inertia",velocity:i?e[g]:0,bounceStiffness:x,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(g,w)});return Promise.all(p).then(u)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return AM(this.visualElement,e),i.start(rE(e,i,0,t,this.visualElement,!1))}stopAnimation(){Ya(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ya(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[t];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ya(t=>{const{drag:i}=this.getProps();if(!Jv(t,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[t],h=a.get()||0;a.set(e[t]-Ci(l,u,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!ip(t)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ya(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();s[l]=FG({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ya(l=>{if(!Jv(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:p}=this.constraints[l];u.set(Ci(h,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;VG.set(this.visualElement,this);const e=this.visualElement.current,t=$g(e,"pointerdown",h=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();ip(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),qn.read(i);const l=v0(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Ya(g=>{const m=this.getAxisMotionValue(g);m&&(this.originPoint[g]+=h[g].translate,m.set(m.get()+h[g].translate))}),this.visualElement.render())}));return()=>{l(),t(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=RM,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function Jv(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function jG(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class GG extends qu{constructor(e){super(e),this.removeGroupControls=ea,this.removeListeners=ea,this.controls=new HG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ea}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const L3=n=>(e,t)=>{n&&qn.postRender(()=>n(e,t))};class WG extends qu{constructor(){super(...arguments),this.removePointerDownListener=ea}onPointerDown(e){this.session=new NL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:L3(e),onStart:L3(t),onMove:i,onEnd:(a,l)=>{delete this.session,s&&qn.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=$g(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let zS=!1;class XG extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=e;a&&(t.group&&t.group.add(a),i&&i.register&&s&&i.register(a),zS&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),sb.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:s,isPresent:a}=this.props,{projection:l}=i;return l&&(l.isPresent=a,zS=!0,s||e.layoutDependency!==t||t===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||qn.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),YT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:s}=e;zS=!0,s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function PL(n){const[e,t]=eL(),i=L.useContext(ET);return C.jsx(XG,{...n,layoutGroup:i,switchLayoutGroup:L.useContext(dL),isPresent:e,safeToRemove:t})}function qG(n,e,t){const i=As(n)?n:No(n);return i.start(rE("",i,e,t)),i.animation}const YG=(n,e)=>n.depth-e.depth;class $G{constructor(){this.children=[],this.isDirty=!1}add(e){CT(this.children,e),this.isDirty=!0}remove(e){RT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(YG),this.isDirty=!1,this.children.forEach(e)}}function ZG(n,e){const t=Qr.now(),i=({timestamp:s})=>{const a=s-t;a>=e&&(zo(i),n(a-e))};return qn.setup(i,!0),()=>zo(i)}const IL=["TopLeft","TopRight","BottomLeft","BottomRight"],KG=IL.length,O3=n=>typeof n=="string"?parseFloat(n):n,U3=n=>typeof n=="number"||St.test(n);function QG(n,e,t,i,s,a){s?(n.opacity=Ci(0,t.opacity??1,JG(i)),n.opacityExit=Ci(e.opacity??1,0,e9(i))):a&&(n.opacity=Ci(e.opacity??1,t.opacity??1,i));for(let l=0;l<KG;l++){const u=`border${IL[l]}Radius`;let h=z3(e,u),p=z3(t,u);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||U3(h)===U3(p)?(n[u]=Math.max(Ci(O3(h),O3(p),i),0),(El.test(p)||El.test(h))&&(n[u]+="%")):n[u]=p}(e.rotate||t.rotate)&&(n.rotate=Ci(e.rotate||0,t.rotate||0,i))}function z3(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const JG=LL(0,.5,yI),e9=LL(.5,.95,ea);function LL(n,e,t){return i=>i<n?0:i>e?1:t(gp(n,e,i))}function F3(n,e){n.min=e.min,n.max=e.max}function So(n,e){F3(n.x,e.x),F3(n.y,e.y)}function B3(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function k3(n,e,t,i,s){return n-=e,n=Sb(n,1/t,i),s!==void 0&&(n=Sb(n,1/s,i)),n}function t9(n,e=0,t=1,i=.5,s,a=n,l=n){if(El.test(e)&&(e=parseFloat(e),e=Ci(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Ci(a.min,a.max,i);n===a&&(u-=e),n.min=k3(n.min,e,t,u,s),n.max=k3(n.max,e,t,u,s)}function V3(n,e,[t,i,s],a,l){t9(n,e[t],e[i],e[s],e.scale,a,l)}const n9=["x","scaleX","originX"],i9=["y","scaleY","originY"];function H3(n,e,t,i){V3(n.x,e,n9,t?t.x:void 0,i?i.x:void 0),V3(n.y,e,i9,t?t.y:void 0,i?i.y:void 0)}function j3(n){return n.translate===0&&n.scale===1}function OL(n){return j3(n.x)&&j3(n.y)}function G3(n,e){return n.min===e.min&&n.max===e.max}function s9(n,e){return G3(n.x,e.x)&&G3(n.y,e.y)}function W3(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function UL(n,e){return W3(n.x,e.x)&&W3(n.y,e.y)}function X3(n){return Mr(n.x)/Mr(n.y)}function q3(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class r9{constructor(){this.members=[]}add(e){CT(this.members,e),e.scheduleRender()}remove(e){if(RT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let i;for(let s=t;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function a9(n,e,t){let i="";const s=n.x.translate/e.x,a=n.y.translate/e.y,l=t?.z||0;if((s||a||l)&&(i=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:g,rotateX:m,rotateY:x,skewX:b,skewY:w}=t;p&&(i=`perspective(${p}px) ${i}`),g&&(i+=`rotate(${g}deg) `),m&&(i+=`rotateX(${m}deg) `),x&&(i+=`rotateY(${x}deg) `),b&&(i+=`skewX(${b}deg) `),w&&(i+=`skewY(${w}deg) `)}const u=n.x.scale*e.x,h=n.y.scale*e.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const FS=["","X","Y","Z"],o9=1e3;let l9=0;function BS(n,e,t,i){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),i&&(i[n]=0))}function zL(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=SL(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",qn,!(s||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&zL(i)}function FL({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},u=e?.()){this.id=l9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(f9),this.nodes.forEach(m9),this.nodes.forEach(g9),this.nodes.forEach(d9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new $G)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new DT),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=ZT(l)&&!KH(l),this.instance=l;const{layoutId:u,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),n){let g,m=0;const x=()=>this.root.updateBlockedByResize=!1;qn.read(()=>{m=window.innerWidth}),n(l,()=>{const b=window.innerWidth;b!==m&&(m=b,this.root.updateBlockedByResize=!0,g&&g(),g=ZG(x,250),sb.hasAnimatedSinceResize&&(sb.hasAnimatedSinceResize=!1,this.nodes.forEach(Z3)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:m,hasRelativeLayoutChanged:x,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||p.getDefaultTransition()||_9,{onLayoutAnimationStart:A,onLayoutAnimationComplete:T}=p.getProps(),M=!this.targetLayout||!UL(this.targetLayout,b),N=!m&&x;if(this.options.layoutRoot||this.resumeFrom||N||m&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...GT(w,"layout"),onPlay:A,onComplete:T};(p.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(g,N)}else m||Z3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(y9),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const m=this.path[g];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Y3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(p9),this.nodes.forEach(c9),this.nodes.forEach(u9)):this.nodes.forEach($3),this.clearAllSnapshots();const u=Qr.now();Ts.delta=Rl(0,1e3/60,u-Ts.timestamp),Ts.timestamp=u,Ts.isProcessing=!0,AS.update.process(Ts),AS.preRender.process(Ts),AS.render.process(Ts),Ts.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,YT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(h9),this.sharedNodes.forEach(v9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mr(this.snapshot.measuredBox.x)&&!Mr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ms(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!OL(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&this.instance&&(u||ed(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),S9(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return ms();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(w9))){const{scroll:p}=this.root;p&&(sp(u.x,p.offset.x),sp(u.y,p.offset.y))}return u}removeElementScroll(l){const u=ms();if(So(u,l),this.scroll?.wasRoot)return u;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:m}=p;p!==this.root&&g&&m.layoutScroll&&(g.wasRoot&&So(u,l),sp(u.x,g.offset.x),sp(u.y,g.offset.y))}return u}applyTransform(l,u=!1){const h=ms();So(h,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&rp(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ed(g.latestValues)&&rp(h,g.latestValues)}return ed(this.latestValues)&&rp(h,this.latestValues),h}removeTransform(l){const u=ms();So(u,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!ed(p.latestValues))continue;wM(p.latestValues)&&p.updateSnapshot();const g=ms(),m=p.measurePageBox();So(g,m),H3(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return ed(this.latestValues)&&H3(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ts.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:m}=this.options;if(!this.layout||!(g||m))return;this.resolvedRelativeTargetAt=Ts.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ms(),this.targetWithTransforms=ms()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):So(this.target,this.layout.layoutBox),gL(this.target,this.targetDelta)):So(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||wM(this.parent.latestValues)||mL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,u,h){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ms(),this.relativeTargetOrigin=ms(),wb(this.relativeTargetOrigin,u,h),So(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Ts.timestamp&&(h=!1),h)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;So(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,x=this.treeScale.y;jj(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ms());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(B3(this.prevProjectionDelta.x,this.projectionDelta.x),B3(this.prevProjectionDelta.y,this.projectionDelta.y)),Zg(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==x||!q3(this.projectionDelta.x,this.prevProjectionDelta.x)||!q3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ap(),this.projectionDelta=ap(),this.projectionDeltaWithTransform=ap()}setAnimationOrigin(l,u=!1){const h=this.snapshot,p=h?h.latestValues:{},g={...this.latestValues},m=ap();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=ms(),b=h?h.source:void 0,w=this.layout?this.layout.source:void 0,A=b!==w,T=this.getStack(),M=!T||T.members.length<=1,N=!!(A&&!M&&this.options.crossfade===!0&&!this.path.some(b9));this.animationProgress=0;let D;this.mixTargetDelta=I=>{const O=I/1e3;K3(m.x,l.x,O),K3(m.y,l.y,O),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wb(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),x9(this.relativeTarget,this.relativeTargetOrigin,x,O),D&&s9(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=ms()),So(D,this.relativeTarget)),A&&(this.animationValues=g,QG(g,p,this.latestValues,O,N,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(zo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qn.update(()=>{sb.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=No(0)),this.currentAnimation=qG(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(o9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:p,latestValues:g}=l;if(!(!u||!h||!p)){if(this!==l&&this.layout&&p&&BL(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||ms();const m=Mr(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+m;const x=Mr(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+x}So(u,h),rp(u,g),Zg(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new r9),this.sharedNodes.get(l).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const p={};h.z&&BS("z",l,p,this.animationValues);for(let g=0;g<FS.length;g++)BS(`rotate${FS[g]}`,l,p,this.animationValues),BS(`skew${FS[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=ib(u?.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=ib(u?.pointerEvents)||""),this.hasProjected&&!ed(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let m=a9(this.projectionDeltaWithTransform,this.treeScale,g);h&&(m=h(g,m)),l.transform=m;const{x,y:b}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${b.origin*100}% 0`,p.animationValues?l.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const w in SM){if(g[w]===void 0)continue;const{correct:A,applyTo:T,isCSSVariable:M}=SM[w],N=m==="none"?g[w]:A(g[w],p);if(T){const D=T.length;for(let I=0;I<D;I++)l[T[I]]=N}else M?this.options.visualElement.renderState.vars[w]=N:l[w]=N}this.options.layoutId&&(l.pointerEvents=p===this?ib(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(Y3),this.root.sharedNodes.clear()}}}function c9(n){n.updateLayout()}function u9(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:s}=n.options,a=e.source!==n.layout.source;s==="size"?Ya(g=>{const m=a?e.measuredBox[g]:e.layoutBox[g],x=Mr(m);m.min=t[g].min,m.max=m.min+x}):BL(s,e.layoutBox,t)&&Ya(g=>{const m=a?e.measuredBox[g]:e.layoutBox[g],x=Mr(t[g]);m.max=m.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+x)});const l=ap();Zg(l,t,e.layoutBox);const u=ap();a?Zg(u,n.applyTransform(i,!0),e.measuredBox):Zg(u,t,e.layoutBox);const h=!OL(l);let p=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:m,layout:x}=g;if(m&&x){const b=ms();wb(b,e.layoutBox,m.layoutBox);const w=ms();wb(w,t,x.layoutBox),UL(b,w)||(p=!0),g.options.layoutRoot&&(n.relativeTarget=w,n.relativeTargetOrigin=b,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function f9(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function d9(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function h9(n){n.clearSnapshot()}function Y3(n){n.clearMeasurements()}function $3(n){n.isLayoutDirty=!1}function p9(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Z3(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function m9(n){n.resolveTargetDelta()}function g9(n){n.calcProjection()}function y9(n){n.resetSkewAndRotation()}function v9(n){n.removeLeadSnapshot()}function K3(n,e,t){n.translate=Ci(e.translate,0,t),n.scale=Ci(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Q3(n,e,t,i){n.min=Ci(e.min,t.min,i),n.max=Ci(e.max,t.max,i)}function x9(n,e,t,i){Q3(n.x,e.x,t.x,i),Q3(n.y,e.y,t.y,i)}function b9(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const _9={duration:.45,ease:[.4,0,.1,1]},J3=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),eR=J3("applewebkit/")&&!J3("chrome/")?Math.round:ea;function tR(n){n.min=eR(n.min),n.max=eR(n.max)}function S9(n){tR(n.x),tR(n.y)}function BL(n,e,t){return n==="position"||n==="preserve-aspect"&&!NG(X3(e),X3(t),.2)}function w9(n){return n!==n.root&&n.scroll?.wasRoot}const M9=FL({attachResizeListener:(n,e)=>v0(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kS={current:void 0},kL=FL({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!kS.current){const n=new M9({});n.mount(window),n.setOptions({layoutScroll:!0}),kS.current=n}return kS.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),T9={pan:{Feature:WG},drag:{Feature:GG,ProjectionNode:kL,MeasureLayout:PL}};function nR(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,a=i[s];a&&qn.postRender(()=>a(e,q0(e)))}class E9 extends qu{mount(){const{current:e}=this.node;e&&(this.unmount=zH(e,(t,i)=>(nR(this.node,i,"Start"),s=>nR(this.node,s,"End"))))}unmount(){}}class A9 extends qu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=j0(v0(this.node.current,"focus",()=>this.onFocus()),v0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iR(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),a=i[s];a&&qn.postRender(()=>a(e,q0(e)))}class C9 extends qu{mount(){const{current:e}=this.node;e&&(this.unmount=VH(e,(t,i)=>(iR(this.node,i,"Start"),(s,{success:a})=>iR(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const NM=new WeakMap,VS=new WeakMap,R9=n=>{const e=NM.get(n.target);e&&e(n)},N9=n=>{n.forEach(R9)};function D9({root:n,...e}){const t=n||document;VS.has(t)||VS.set(t,{});const i=VS.get(t),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(N9,{root:n,...e})),i[s]}function P9(n,e,t){const i=D9(e);return NM.set(n,t),i.observe(n),()=>{NM.delete(n),i.unobserve(n)}}const I9={some:0,all:1};class L9 extends qu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:s="some",once:a}=e,l={root:t?t.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:I9[s]},u=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:m}=this.node.getProps(),x=p?g:m;x&&x(h)};return P9(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(O9(e,t))&&this.startObserver()}unmount(){}}function O9({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const U9={inView:{Feature:L9},tap:{Feature:C9},focus:{Feature:A9},hover:{Feature:E9}},z9={layout:{ProjectionNode:kL,MeasureLayout:PL}},F9={...MG,...U9,...T9,...z9},te=kj(F9,Jj),B9=50,sR=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),k9=()=>({time:0,x:sR(),y:sR()}),V9={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function rR(n,e,t,i){const s=t[e],{length:a,position:l}=V9[e],u=s.current,h=t.time;s.current=n[`scroll${l}`],s.scrollLength=n[`scroll${a}`]-n[`client${a}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=gp(0,s.scrollLength,s.current);const p=i-h;s.velocity=p>B9?0:PT(s.current-u,p)}function H9(n,e,t){rR(n,"x",e,t),rR(n,"y",e,t),e.time=t}function j9(n,e){const t={x:0,y:0};let i=n;for(;i&&i!==e;)if(qT(i))t.x+=i.offsetLeft,t.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const s=i.getBoundingClientRect();i=i.parentElement;const a=i.getBoundingClientRect();t.x+=s.left-a.left,t.y+=s.top-a.top}else if(i instanceof SVGGraphicsElement){const{x:s,y:a}=i.getBBox();t.x+=s,t.y+=a;let l=null,u=i.parentNode;for(;!l;)u.tagName==="svg"&&(l=u),u=i.parentNode;i=l}else break;return t}const DM={start:0,center:.5,end:1};function aR(n,e,t=0){let i=0;if(n in DM&&(n=DM[n]),typeof n=="string"){const s=parseFloat(n);n.endsWith("px")?i=s:n.endsWith("%")?n=s/100:n.endsWith("vw")?i=s/100*document.documentElement.clientWidth:n.endsWith("vh")?i=s/100*document.documentElement.clientHeight:n=s}return typeof n=="number"&&(i=e*n),t+i}const G9=[0,0];function W9(n,e,t,i){let s=Array.isArray(n)?n:G9,a=0,l=0;return typeof n=="number"?s=[n,n]:typeof n=="string"&&(n=n.trim(),n.includes(" ")?s=n.split(" "):s=[n,DM[n]?n:"0"]),a=aR(s[0],t,i),l=aR(s[1],e),a-l}const X9={All:[[0,0],[1,1]]},q9={x:0,y:0};function Y9(n){return"getBBox"in n&&n.tagName!=="svg"?n.getBBox():{width:n.clientWidth,height:n.clientHeight}}function $9(n,e,t){const{offset:i=X9.All}=t,{target:s=n,axis:a="y"}=t,l=a==="y"?"height":"width",u=s!==n?j9(s,n):q9,h=s===n?{width:n.scrollWidth,height:n.scrollHeight}:Y9(s),p={width:n.clientWidth,height:n.clientHeight};e[a].offset.length=0;let g=!e[a].interpolate;const m=i.length;for(let x=0;x<m;x++){const b=W9(i[x],p[l],h[l],u[a]);!g&&b!==e[a].interpolatorOffsets[x]&&(g=!0),e[a].offset[x]=b}g&&(e[a].interpolate=kT(e[a].offset,II(i),{clamp:!1}),e[a].interpolatorOffsets=[...e[a].offset]),e[a].progress=Rl(0,1,e[a].interpolate(e[a].current))}function Z9(n,e=n,t){if(t.x.targetOffset=0,t.y.targetOffset=0,e!==n){let i=e;for(;i&&i!==n;)t.x.targetOffset+=i.offsetLeft,t.y.targetOffset+=i.offsetTop,i=i.offsetParent}t.x.targetLength=e===n?e.scrollWidth:e.clientWidth,t.y.targetLength=e===n?e.scrollHeight:e.clientHeight,t.x.containerLength=n.clientWidth,t.y.containerLength=n.clientHeight}function K9(n,e,t,i={}){return{measure:s=>{Z9(n,i.target,t),H9(n,t,s),(i.offset||i.target)&&$9(n,t,i)},notify:()=>e(t)}}const Eg=new WeakMap,oR=new WeakMap,HS=new WeakMap,lR=n=>n===document.scrollingElement?window:n;function VL(n,{container:e=document.scrollingElement,...t}={}){if(!e)return ea;let i=HS.get(e);i||(i=new Set,HS.set(e,i));const s=k9(),a=K9(e,n,s,t);if(i.add(a),!Eg.has(e)){const u=()=>{for(const m of i)m.measure(Ts.timestamp);qn.preUpdate(h)},h=()=>{for(const m of i)m.notify()},p=()=>qn.read(u);Eg.set(e,p);const g=lR(e);window.addEventListener("resize",p,{passive:!0}),e!==document.documentElement&&oR.set(e,ZH(e,p)),g.addEventListener("scroll",p,{passive:!0}),p()}const l=Eg.get(e);return qn.read(l,!1,!0),()=>{zo(l);const u=HS.get(e);if(!u||(u.delete(a),u.size))return;const h=Eg.get(e);Eg.delete(e),h&&(lR(e).removeEventListener("scroll",h),oR.get(e)?.(),window.removeEventListener("resize",h))}}const cR=new Map;function Q9(n){const e={value:0},t=VL(i=>{e.value=i[n.axis].progress*100},n);return{currentTime:e,cancel:t}}function HL({source:n,container:e,...t}){const{axis:i}=t;n&&(e=n);const s=cR.get(e)??new Map;cR.set(e,s);const a=t.target??"self",l=s.get(a)??{},u=i+(t.offset??[]).join(",");return l[u]||(l[u]=!t.target&&zI()?new ScrollTimeline({source:e,axis:i}):Q9({container:e,...t})),l[u]}function J9(n,e){const t=HL(e);return n.attachTimeline({timeline:e.target?void 0:t,observe:i=>(i.pause(),JI(s=>{i.time=i.iterationDuration*s},t))})}function e7(n){return n.length===2}function t7(n,e){return e7(n)?VL(t=>{n(t[e.axis].progress,t)},e):JI(n,HL(e))}function n7(n,{axis:e="y",container:t=document.scrollingElement,...i}={}){if(!t)return ea;const s={axis:e,container:t,...i};return typeof n=="function"?t7(n,s):J9(n,s)}const i7=()=>({scrollX:No(0),scrollY:No(0),scrollXProgress:No(0),scrollYProgress:No(0)}),ex=n=>n?!n.current:!1;function jL({container:n,target:e,...t}={}){const i=Fp(i7),s=L.useRef(null),a=L.useRef(!1),l=L.useCallback(()=>(s.current=n7((u,{x:h,y:p})=>{i.scrollX.set(h.current),i.scrollXProgress.set(h.progress),i.scrollY.set(p.current),i.scrollYProgress.set(p.progress)},{...t,container:n?.current||void 0,target:e?.current||void 0}),()=>{s.current?.()}),[n,e,JSON.stringify(t.offset)]);return H1(()=>{if(a.current=!1,ex(n)||ex(e)){a.current=!0;return}else return l()},[l]),L.useEffect(()=>{if(a.current)return p0(!ex(n)),p0(!ex(e)),l()},[l]),i}function GL(n){const e=Fp(()=>No(n)),{isStatic:t}=L.useContext(X0);if(t){const[,i]=L.useState(n);L.useEffect(()=>e.on("change",i),[])}return e}function WL(n,e){const t=GL(e()),i=()=>t.set(e());return i(),H1(()=>{const s=()=>qn.preRender(i,!1,!0),a=n.map(l=>l.on("change",s));return()=>{a.forEach(l=>l()),zo(i)}}),t}function s7(n){Yg.current=[],n();const e=WL(Yg.current,n);return Yg.current=void 0,e}function PM(n,e,t,i){if(typeof n=="function")return s7(n);const s=typeof e=="function"?e:QH(e,t,i);return Array.isArray(n)?uR(n,s):uR([n],([a])=>s(a))}function uR(n,e){const t=Fp(()=>[]);return WL(n,()=>{t.length=0;const i=n.length;for(let s=0;s<i;s++)t[s]=n[s].get();return e(t)})}function r7(n,e={}){const{isStatic:t}=L.useContext(X0),i=()=>As(n)?n.get():n;if(t)return PM(i);const s=GL(i());return L.useInsertionEffect(()=>JH(s,n,e),[s,JSON.stringify(e)]),s}const a7={some:0,all:1};function o7(n,e,{root:t,margin:i,amount:s="some"}={}){const a=XT(n),l=new WeakMap,u=p=>{p.forEach(g=>{const m=l.get(g.target);if(g.isIntersecting!==!!m)if(g.isIntersecting){const x=e(g.target,g);typeof x=="function"?l.set(g.target,x):h.unobserve(g.target)}else typeof m=="function"&&(m(g),l.delete(g.target))})},h=new IntersectionObserver(u,{root:t,rootMargin:i,threshold:typeof s=="number"?s:a7[s]});return a.forEach(p=>h.observe(p)),()=>h.disconnect()}function Hp(n,{root:e,margin:t,amount:i,once:s=!1,initial:a=!1}={}){const[l,u]=L.useState(a);return L.useEffect(()=>{if(!n.current||s&&l)return;const h=()=>(u(!0),s?void 0:()=>u(!1)),p={root:e&&e.current||void 0,margin:t,amount:i};return o7(n.current,h,p)},[e,n,t,s,i]),l}var l7=Symbol.for("react.lazy"),Mb=cD[" use ".trim().toString()];function c7(n){return typeof n=="object"&&n!==null&&"then"in n}function XL(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===l7&&"_payload"in n&&c7(n._payload)}function u7(n){const e=d7(n),t=L.forwardRef((i,s)=>{let{children:a,...l}=i;XL(a)&&typeof Mb=="function"&&(a=Mb(a._payload));const u=L.Children.toArray(a),h=u.find(p7);if(h){const p=h.props.children,g=u.map(m=>m===h?L.Children.count(p)>1?L.Children.only(null):L.isValidElement(p)?p.props.children:null:m);return C.jsx(e,{...l,ref:s,children:L.isValidElement(p)?L.cloneElement(p,void 0,g):null})}return C.jsx(e,{...l,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}var f7=u7("Slot");function d7(n){const e=L.forwardRef((t,i)=>{let{children:s,...a}=t;if(XL(s)&&typeof Mb=="function"&&(s=Mb(s._payload)),L.isValidElement(s)){const l=g7(s),u=m7(a,s.props);return s.type!==L.Fragment&&(u.ref=i?E1(i,l):l),L.cloneElement(s,u)}return L.Children.count(s)>1?L.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var h7=Symbol("radix.slottable");function p7(n){return L.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===h7}function m7(n,e){const t={...e};for(const i in e){const s=n[i],a=e[i];/^on[A-Z]/.test(i)?s&&a?t[i]=(...u)=>{const h=a(...u);return s(...u),h}:s&&(t[i]=s):i==="style"?t[i]={...s,...a}:i==="className"&&(t[i]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function g7(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const y7=zD("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ga=L.forwardRef(({className:n,variant:e,size:t,asChild:i=!1,...s},a)=>{const l=i?f7:"button";return C.jsx(l,{className:Il(y7({variant:e,size:t,className:n})),ref:a,...s})});ga.displayName="Button";const Tb=L.memo(({className:n="",size:e=24})=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:e,height:e,className:n,fill:"currentColor",children:C.jsx("path",{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"})}));Tb.displayName="WhatsAppIcon";const xp=n=>{const e=window.open(n,"_blank","noopener,noreferrer");if(e){e.opener=null;return}window.location.href=n},qL="/assets/sunpower-logo-JM2WOcFn.png",v7="918817770367",fR=`https://wa.me/${v7}`,jS=[{name:"Home",href:"#home"},{name:"About",href:"#about"},{name:"Features",href:"#features"},{name:"Products",href:"#products"},{name:"Projects",href:"#projects"},{name:"FAQ",href:"#faq"},{name:"Contact",href:"#contact"}],x7=()=>{const[n,e]=L.useState(!1),[t,i]=L.useState(!1),[s,a]=L.useState("home");L.useEffect(()=>{const u=()=>{e(window.scrollY>50);const h=jS.map(p=>p.href.replace("#",""));for(const p of h.reverse()){const g=document.getElementById(p);if(g&&g.getBoundingClientRect().top<=150){a(p);break}}};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]);const l=u=>{const h=document.querySelector(u);h&&h.scrollIntoView({behavior:"smooth"}),i(!1)};return C.jsxs(C.Fragment,{children:[C.jsx(te.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.5},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${n?"bg-background/90 backdrop-blur-xl shadow-lg border-b border-border/50":"bg-transparent"}`,children:C.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:C.jsxs("div",{className:"flex items-center justify-between h-20",children:[C.jsx(te.a,{href:"#home",onClick:u=>{u.preventDefault(),l("#home")},className:"flex items-center gap-3 group",whileHover:{scale:1.02},children:C.jsx("img",{src:qL,alt:"Sun Power Tech Logo",className:"h-16 w-auto object-contain"})}),C.jsx("div",{className:"hidden lg:flex items-center gap-1",children:jS.map((u,h)=>{const p=s===u.href.replace("#","");return C.jsxs(te.button,{onClick:()=>l(u.href),initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:h*.1},className:`px-4 py-2 text-sm font-medium transition-colors relative ${p?"text-primary":"text-primary hover:text-secondary"}`,children:[u.name,p&&C.jsx(te.div,{layoutId:"activeNav",className:"absolute bottom-0 left-2 right-2 h-0.5 bg-gradient-to-r from-primary to-secondary rounded-full",transition:{type:"spring",stiffness:380,damping:30}})]},u.name)})}),C.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[C.jsxs(te.button,{type:"button",onClick:()=>xp(fR),whileHover:{scale:1.08},whileTap:{scale:.96},className:"relative flex items-center justify-center w-11 h-11 rounded-full bg-whatsapp text-whatsapp-foreground shadow-lg hover:shadow-xl transition-all",title:"Chat on WhatsApp",children:[C.jsx(te.span,{"aria-hidden":!0,className:"absolute inset-0 rounded-full opacity-30",style:{boxShadow:"0 0 0 6px hsl(var(--whatsapp) / 0.18)"},animate:{scale:[1,1.08,1],opacity:[.25,.4,.25]},transition:{duration:2.2,repeat:1/0,ease:"easeInOut"}}),C.jsx(Tb,{size:22,className:"relative"})]}),C.jsxs(ga,{onClick:()=>l("#contact"),className:"bg-gradient-solar hover:opacity-90 text-primary-foreground font-semibold px-6 shadow-lg hover:shadow-xl transition-all animate-pulse-glow",children:[C.jsx(ub,{className:"w-4 h-4 mr-2"}),"Get Quote"]})]}),C.jsx("button",{onClick:()=>i(!t),className:"lg:hidden p-2 text-foreground",children:t?C.jsx(cT,{className:"w-6 h-6"}):C.jsx(pF,{className:"w-6 h-6"})})]})})}),C.jsx(yp,{children:t&&C.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed inset-0 z-40 lg:hidden",children:C.jsx("div",{className:"absolute inset-0 bg-background/95 backdrop-blur-xl pt-24",children:C.jsx("div",{className:"container mx-auto px-4",children:C.jsxs("div",{className:"flex flex-col gap-2",children:[jS.map((u,h)=>{const p=s===u.href.replace("#","");return C.jsx(te.button,{onClick:()=>l(u.href),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.05},className:`text-left px-4 py-4 text-lg font-medium rounded-lg transition-colors relative ${p?"text-primary bg-primary/10 border-l-4 border-primary":"text-primary hover:text-secondary hover:bg-muted/50"}`,children:u.name},u.name)}),C.jsxs(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-4 px-4 flex flex-col gap-3",children:[C.jsxs(te.button,{type:"button",onClick:()=>xp(fR),whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full relative overflow-hidden flex items-center justify-center gap-2 py-4 rounded-lg bg-whatsapp text-whatsapp-foreground font-semibold shadow-lg",children:[C.jsx("span",{className:"absolute inset-0 opacity-20 animate-shimmer"}),C.jsx(Tb,{size:20,className:"relative"}),C.jsx("span",{className:"relative",children:"Chat on WhatsApp"})]}),C.jsxs(ga,{onClick:()=>l("#contact"),className:"w-full bg-gradient-solar text-primary-foreground font-semibold py-6",children:[C.jsx(ub,{className:"w-4 h-4 mr-2"}),"Get Quote"]})]})]})})})})})]})};const jp="182",b7={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},_7={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},YL=0,IM=1,$L=2,S7=3,ZL=0,dp=1,Kg=2,rd=3,Nc=0,Er=1,Ro=2,Al=0,fd=1,Eb=2,LM=3,OM=4,KL=5,Pu=100,QL=101,JL=102,eO=103,tO=104,nO=200,iO=201,sO=202,rO=203,Ab=204,Cb=205,aO=206,oO=207,lO=208,cO=209,uO=210,fO=211,dO=212,hO=213,pO=214,Rb=0,Nb=1,Db=2,gd=3,Pb=4,Ib=5,Lb=6,Ob=7,Y0=0,mO=1,gO=2,Za=0,aE=1,oE=2,lE=3,Y1=4,cE=5,uE=6,fE=7,UM="attached",yO="detached",$1=300,Nl=301,Hu=302,x0=303,b0=304,Gp=306,_0=1e3,Jr=1001,S0=1002,Zi=1003,dE=1004,w7=1004,op=1005,M7=1005,gi=1006,Qg=1007,T7=1007,Sl=1008,E7=1008,Sr=1009,hE=1010,pE=1011,bp=1012,Z1=1013,Ka=1014,Tr=1015,Dl=1016,K1=1017,Q1=1018,_p=1020,mE=35902,gE=35899,yE=1021,vE=1022,tr=1023,Pl=1026,Lu=1027,J1=1028,$0=1029,yd=1030,e_=1031,A7=1032,t_=1033,Jg=33776,e0=33777,t0=33778,n0=33779,Ub=35840,zb=35841,Fb=35842,Bb=35843,kb=36196,Vb=37492,Hb=37496,jb=37488,Gb=37489,Wb=37490,Xb=37491,qb=37808,Yb=37809,$b=37810,Zb=37811,Kb=37812,Qb=37813,Jb=37814,e1=37815,t1=37816,n1=37817,i1=37818,s1=37819,r1=37820,a1=37821,o1=36492,l1=36494,c1=36495,u1=36283,f1=36284,d1=36285,h1=36286,vO=2200,xO=2201,bO=2202,w0=2300,p1=2301,rb=2302,ad=2400,od=2401,M0=2402,n_=2500,xE=2501,C7=0,R7=1,N7=2,_O=3200,D7=3201,P7=3202,I7=3203,Yu=0,SO=1,_c="",er="srgb",ju="srgb-linear",T0="linear",Xn="srgb",L7="",O7="rg",U7="ga",z7=0,td=7680,F7=7681,B7=7682,k7=7683,V7=34055,H7=34056,j7=5386,G7=512,W7=513,X7=514,q7=515,Y7=516,$7=517,Z7=518,zM=519,wO=512,MO=513,TO=514,i_=515,EO=516,AO=517,s_=518,CO=519,E0=35044,K7=35048,Q7=35040,J7=35045,eW=35049,tW=35041,nW=35046,iW=35050,sW=35042,rW="100",FM="300 es",ya=2e3,Sp=2001,aW={COMPUTE:"compute",RENDER:"render"},oW={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},lW={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function RO(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const cW={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function lp(n,e){return new cW[n](e)}function NO(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function A0(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function DO(){const n=A0("canvas");return n.style.display="block",n}const dR={};let Gu=null;function uW(n){Gu=n}function fW(){return Gu}function C0(...n){const e="THREE."+n.shift();Gu?Gu("log",e,...n):console.log(e,...n)}function ht(...n){const e="THREE."+n.shift();Gu?Gu("warn",e,...n):console.warn(e,...n)}function Ot(...n){const e="THREE."+n.shift();Gu?Gu("error",e,...n):console.error(e,...n)}function wp(...n){const e=n.join(" ");e in dR||(dR[e]=!0,ht(...n))}function dW(n,e,t){return new Promise(function(i,s){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:s();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:i()}}setTimeout(a,t)})}class Ol{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const s=i[e];if(s!==void 0){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const s=i.slice(0);for(let a=0,l=s.length;a<l;a++)s[a].call(this,e);e.target=null}}}const Ks=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let hR=1234567;const dd=Math.PI/180,Mp=180/Math.PI;function xa(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ks[n&255]+Ks[n>>8&255]+Ks[n>>16&255]+Ks[n>>24&255]+"-"+Ks[e&255]+Ks[e>>8&255]+"-"+Ks[e>>16&15|64]+Ks[e>>24&255]+"-"+Ks[t&63|128]+Ks[t>>8&255]+"-"+Ks[t>>16&255]+Ks[t>>24&255]+Ks[i&255]+Ks[i>>8&255]+Ks[i>>16&255]+Ks[i>>24&255]).toLowerCase()}function Yt(n,e,t){return Math.max(e,Math.min(t,n))}function bE(n,e){return(n%e+e)%e}function hW(n,e,t,i,s){return i+(n-e)*(s-i)/(t-e)}function pW(n,e,t){return n!==e?(t-n)/(e-n):0}function i0(n,e,t){return(1-t)*n+t*e}function mW(n,e,t,i){return i0(n,e,1-Math.exp(-t*i))}function gW(n,e=1){return e-Math.abs(bE(n,e*2)-e)}function yW(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function vW(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function xW(n,e){return n+Math.floor(Math.random()*(e-n+1))}function bW(n,e){return n+Math.random()*(e-n)}function _W(n){return n*(.5-Math.random())}function SW(n){n!==void 0&&(hR=n);let e=hR+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function wW(n){return n*dd}function MW(n){return n*Mp}function TW(n){return(n&n-1)===0&&n!==0}function EW(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function AW(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function CW(n,e,t,i,s){const a=Math.cos,l=Math.sin,u=a(t/2),h=l(t/2),p=a((e+i)/2),g=l((e+i)/2),m=a((e-i)/2),x=l((e-i)/2),b=a((i-e)/2),w=l((i-e)/2);switch(s){case"XYX":n.set(u*g,h*m,h*x,u*p);break;case"YZY":n.set(h*x,u*g,h*m,u*p);break;case"ZXZ":n.set(h*m,h*x,u*g,u*p);break;case"XZX":n.set(u*g,h*w,h*b,u*p);break;case"YXY":n.set(h*b,u*g,h*w,u*p);break;case"ZYZ":n.set(h*w,h*b,u*g,u*p);break;default:ht("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function wr(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function un(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const s0={DEG2RAD:dd,RAD2DEG:Mp,generateUUID:xa,clamp:Yt,euclideanModulo:bE,mapLinear:hW,inverseLerp:pW,lerp:i0,damp:mW,pingpong:gW,smoothstep:yW,smootherstep:vW,randInt:xW,randFloat:bW,randFloatSpread:_W,seededRandom:SW,degToRad:wW,radToDeg:MW,isPowerOfTwo:TW,ceilPowerOfTwo:EW,floorPowerOfTwo:AW,setQuaternionFromProperEuler:CW,normalize:un,denormalize:wr};class ke{constructor(e=0,t=0){ke.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6],this.y=s[1]*t+s[4]*i+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Yt(this.x,e.x,t.x),this.y=Yt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Yt(this.x,e,t),this.y=Yt(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Yt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Yt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),s=Math.sin(t),a=this.x-e.x,l=this.y-e.y;return this.x=a*i-l*s+e.x,this.y=a*s+l*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ta{constructor(e=0,t=0,i=0,s=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=s}static slerpFlat(e,t,i,s,a,l,u){let h=i[s+0],p=i[s+1],g=i[s+2],m=i[s+3],x=a[l+0],b=a[l+1],w=a[l+2],A=a[l+3];if(u<=0){e[t+0]=h,e[t+1]=p,e[t+2]=g,e[t+3]=m;return}if(u>=1){e[t+0]=x,e[t+1]=b,e[t+2]=w,e[t+3]=A;return}if(m!==A||h!==x||p!==b||g!==w){let T=h*x+p*b+g*w+m*A;T<0&&(x=-x,b=-b,w=-w,A=-A,T=-T);let M=1-u;if(T<.9995){const N=Math.acos(T),D=Math.sin(N);M=Math.sin(M*N)/D,u=Math.sin(u*N)/D,h=h*M+x*u,p=p*M+b*u,g=g*M+w*u,m=m*M+A*u}else{h=h*M+x*u,p=p*M+b*u,g=g*M+w*u,m=m*M+A*u;const N=1/Math.sqrt(h*h+p*p+g*g+m*m);h*=N,p*=N,g*=N,m*=N}}e[t]=h,e[t+1]=p,e[t+2]=g,e[t+3]=m}static multiplyQuaternionsFlat(e,t,i,s,a,l){const u=i[s],h=i[s+1],p=i[s+2],g=i[s+3],m=a[l],x=a[l+1],b=a[l+2],w=a[l+3];return e[t]=u*w+g*m+h*b-p*x,e[t+1]=h*w+g*x+p*m-u*b,e[t+2]=p*w+g*b+u*x-h*m,e[t+3]=g*w-u*m-h*x-p*b,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,s){return this._x=e,this._y=t,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,s=e._y,a=e._z,l=e._order,u=Math.cos,h=Math.sin,p=u(i/2),g=u(s/2),m=u(a/2),x=h(i/2),b=h(s/2),w=h(a/2);switch(l){case"XYZ":this._x=x*g*m+p*b*w,this._y=p*b*m-x*g*w,this._z=p*g*w+x*b*m,this._w=p*g*m-x*b*w;break;case"YXZ":this._x=x*g*m+p*b*w,this._y=p*b*m-x*g*w,this._z=p*g*w-x*b*m,this._w=p*g*m+x*b*w;break;case"ZXY":this._x=x*g*m-p*b*w,this._y=p*b*m+x*g*w,this._z=p*g*w+x*b*m,this._w=p*g*m-x*b*w;break;case"ZYX":this._x=x*g*m-p*b*w,this._y=p*b*m+x*g*w,this._z=p*g*w-x*b*m,this._w=p*g*m+x*b*w;break;case"YZX":this._x=x*g*m+p*b*w,this._y=p*b*m+x*g*w,this._z=p*g*w-x*b*m,this._w=p*g*m-x*b*w;break;case"XZY":this._x=x*g*m-p*b*w,this._y=p*b*m-x*g*w,this._z=p*g*w+x*b*m,this._w=p*g*m+x*b*w;break;default:ht("Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,s=Math.sin(i);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],s=t[4],a=t[8],l=t[1],u=t[5],h=t[9],p=t[2],g=t[6],m=t[10],x=i+u+m;if(x>0){const b=.5/Math.sqrt(x+1);this._w=.25/b,this._x=(g-h)*b,this._y=(a-p)*b,this._z=(l-s)*b}else if(i>u&&i>m){const b=2*Math.sqrt(1+i-u-m);this._w=(g-h)/b,this._x=.25*b,this._y=(s+l)/b,this._z=(a+p)/b}else if(u>m){const b=2*Math.sqrt(1+u-i-m);this._w=(a-p)/b,this._x=(s+l)/b,this._y=.25*b,this._z=(h+g)/b}else{const b=2*Math.sqrt(1+m-i-u);this._w=(l-s)/b,this._x=(a+p)/b,this._y=(h+g)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Yt(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const s=Math.min(1,t/i);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,s=e._y,a=e._z,l=e._w,u=t._x,h=t._y,p=t._z,g=t._w;return this._x=i*g+l*u+s*p-a*h,this._y=s*g+l*h+a*u-i*p,this._z=a*g+l*p+i*h-s*u,this._w=l*g-i*u-s*h-a*p,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let i=e._x,s=e._y,a=e._z,l=e._w,u=this.dot(e);u<0&&(i=-i,s=-s,a=-a,l=-l,u=-u);let h=1-t;if(u<.9995){const p=Math.acos(u),g=Math.sin(p);h=Math.sin(h*p)/g,t=Math.sin(t*p)/g,this._x=this._x*h+i*t,this._y=this._y*h+s*t,this._z=this._z*h+a*t,this._w=this._w*h+l*t,this._onChangeCallback()}else this._x=this._x*h+i*t,this._y=this._y*h+s*t,this._z=this._z*h+a*t,this._w=this._w*h+l*t,this.normalize();return this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(s*Math.sin(e),s*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class K{constructor(e=0,t=0,i=0){K.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(pR.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(pR.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,s=this.z,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6]*s,this.y=a[1]*t+a[4]*i+a[7]*s,this.z=a[2]*t+a[5]*i+a[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,s=this.z,a=e.elements,l=1/(a[3]*t+a[7]*i+a[11]*s+a[15]);return this.x=(a[0]*t+a[4]*i+a[8]*s+a[12])*l,this.y=(a[1]*t+a[5]*i+a[9]*s+a[13])*l,this.z=(a[2]*t+a[6]*i+a[10]*s+a[14])*l,this}applyQuaternion(e){const t=this.x,i=this.y,s=this.z,a=e.x,l=e.y,u=e.z,h=e.w,p=2*(l*s-u*i),g=2*(u*t-a*s),m=2*(a*i-l*t);return this.x=t+h*p+l*m-u*g,this.y=i+h*g+u*p-a*m,this.z=s+h*m+a*g-l*p,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,s=this.z,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*s,this.y=a[1]*t+a[5]*i+a[9]*s,this.z=a[2]*t+a[6]*i+a[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Yt(this.x,e.x,t.x),this.y=Yt(this.y,e.y,t.y),this.z=Yt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Yt(this.x,e,t),this.y=Yt(this.y,e,t),this.z=Yt(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Yt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,s=e.y,a=e.z,l=t.x,u=t.y,h=t.z;return this.x=s*h-a*u,this.y=a*l-i*h,this.z=i*u-s*l,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return GS.copy(this).projectOnVector(e),this.sub(GS)}reflect(e){return this.sub(GS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Yt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,s=this.z-e.z;return t*t+i*i+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const s=Math.sin(t)*e;return this.x=s*Math.sin(i),this.y=Math.cos(t)*e,this.z=s*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=s,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const GS=new K,pR=new ta;class an{constructor(e,t,i,s,a,l,u,h,p){an.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,s,a,l,u,h,p)}set(e,t,i,s,a,l,u,h,p){const g=this.elements;return g[0]=e,g[1]=s,g[2]=u,g[3]=t,g[4]=a,g[5]=h,g[6]=i,g[7]=l,g[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,s=t.elements,a=this.elements,l=i[0],u=i[3],h=i[6],p=i[1],g=i[4],m=i[7],x=i[2],b=i[5],w=i[8],A=s[0],T=s[3],M=s[6],N=s[1],D=s[4],I=s[7],O=s[2],F=s[5],B=s[8];return a[0]=l*A+u*N+h*O,a[3]=l*T+u*D+h*F,a[6]=l*M+u*I+h*B,a[1]=p*A+g*N+m*O,a[4]=p*T+g*D+m*F,a[7]=p*M+g*I+m*B,a[2]=x*A+b*N+w*O,a[5]=x*T+b*D+w*F,a[8]=x*M+b*I+w*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],s=e[2],a=e[3],l=e[4],u=e[5],h=e[6],p=e[7],g=e[8];return t*l*g-t*u*p-i*a*g+i*u*h+s*a*p-s*l*h}invert(){const e=this.elements,t=e[0],i=e[1],s=e[2],a=e[3],l=e[4],u=e[5],h=e[6],p=e[7],g=e[8],m=g*l-u*p,x=u*h-g*a,b=p*a-l*h,w=t*m+i*x+s*b;if(w===0)return this.set(0,0,0,0,0,0,0,0,0);const A=1/w;return e[0]=m*A,e[1]=(s*p-g*i)*A,e[2]=(u*i-s*l)*A,e[3]=x*A,e[4]=(g*t-s*h)*A,e[5]=(s*a-u*t)*A,e[6]=b*A,e[7]=(i*h-p*t)*A,e[8]=(l*t-i*a)*A,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,s,a,l,u){const h=Math.cos(a),p=Math.sin(a);return this.set(i*h,i*p,-i*(h*l+p*u)+l+e,-s*p,s*h,-s*(-p*l+h*u)+u+t,0,0,1),this}scale(e,t){return this.premultiply(WS.makeScale(e,t)),this}rotate(e){return this.premultiply(WS.makeRotation(-e)),this}translate(e,t){return this.premultiply(WS.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let s=0;s<9;s++)if(t[s]!==i[s])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const WS=new an,mR=new an().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),gR=new an().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function RW(){const n={enabled:!0,workingColorSpace:ju,spaces:{},convert:function(s,a,l){return this.enabled===!1||a===l||!a||!l||(this.spaces[a].transfer===Xn&&(s.r=Tc(s.r),s.g=Tc(s.g),s.b=Tc(s.b)),this.spaces[a].primaries!==this.spaces[l].primaries&&(s.applyMatrix3(this.spaces[a].toXYZ),s.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===Xn&&(s.r=hp(s.r),s.g=hp(s.g),s.b=hp(s.b))),s},workingToColorSpace:function(s,a){return this.convert(s,this.workingColorSpace,a)},colorSpaceToWorking:function(s,a){return this.convert(s,a,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===_c?T0:this.spaces[s].transfer},getToneMappingMode:function(s){return this.spaces[s].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(s,a=this.workingColorSpace){return s.fromArray(this.spaces[a].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,a,l){return s.copy(this.spaces[a].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(s,a){return wp("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(s,a)},toWorkingColorSpace:function(s,a){return wp("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(s,a)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[ju]:{primaries:e,whitePoint:i,transfer:T0,toXYZ:mR,fromXYZ:gR,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:er},outputColorSpaceConfig:{drawingBufferColorSpace:er}},[er]:{primaries:e,whitePoint:i,transfer:Xn,toXYZ:mR,fromXYZ:gR,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:er}}}),n}const Rn=RW();function Tc(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function hp(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Dh;class PO{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Dh===void 0&&(Dh=A0("canvas")),Dh.width=e.width,Dh.height=e.height;const s=Dh.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),i=Dh}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=A0("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const s=i.getImageData(0,0,e.width,e.height),a=s.data;for(let l=0;l<a.length;l++)a[l]=Tc(a[l]/255)*255;return i.putImageData(s,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Tc(t[i]/255)*255):t[i]=Tc(t[i]);return{data:t,width:e.width,height:e.height}}else return ht("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let NW=0;class Ou{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:NW++}),this.uuid=xa(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):typeof VideoFrame<"u"&&t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(s!==null){let a;if(Array.isArray(s)){a=[];for(let l=0,u=s.length;l<u;l++)s[l].isDataTexture?a.push(XS(s[l].image)):a.push(XS(s[l]))}else a=XS(s);i.url=a}return t||(e.images[this.uuid]=i),i}}function XS(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?PO.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(ht("Texture: Unable to serialize Texture."),{})}let DW=0;const qS=new K;class ki extends Ol{constructor(e=ki.DEFAULT_IMAGE,t=ki.DEFAULT_MAPPING,i=Jr,s=Jr,a=gi,l=Sl,u=tr,h=Sr,p=ki.DEFAULT_ANISOTROPY,g=_c){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:DW++}),this.uuid=xa(),this.name="",this.source=new Ou(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=a,this.minFilter=l,this.anisotropy=p,this.format=u,this.internalFormat=null,this.type=h,this.offset=new ke(0,0),this.repeat=new ke(1,1),this.center=new ke(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new an,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=g,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(qS).x}get height(){return this.source.getSize(qS).y}get depth(){return this.source.getSize(qS).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){ht(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const s=this[t];if(s===void 0){ht(`Texture.setValues(): property '${t}' does not exist.`);continue}s&&i&&s.isVector2&&i.isVector2||s&&i&&s.isVector3&&i.isVector3||s&&i&&s.isMatrix3&&i.isMatrix3?s.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==$1)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case _0:e.x=e.x-Math.floor(e.x);break;case Jr:e.x=e.x<0?0:1;break;case S0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case _0:e.y=e.y-Math.floor(e.y);break;case Jr:e.y=e.y<0?0:1;break;case S0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ki.DEFAULT_IMAGE=null;ki.DEFAULT_MAPPING=$1;ki.DEFAULT_ANISOTROPY=1;class ii{constructor(e=0,t=0,i=0,s=1){ii.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,s){return this.x=e,this.y=t,this.z=i,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,s=this.z,a=this.w,l=e.elements;return this.x=l[0]*t+l[4]*i+l[8]*s+l[12]*a,this.y=l[1]*t+l[5]*i+l[9]*s+l[13]*a,this.z=l[2]*t+l[6]*i+l[10]*s+l[14]*a,this.w=l[3]*t+l[7]*i+l[11]*s+l[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,s,a;const h=e.elements,p=h[0],g=h[4],m=h[8],x=h[1],b=h[5],w=h[9],A=h[2],T=h[6],M=h[10];if(Math.abs(g-x)<.01&&Math.abs(m-A)<.01&&Math.abs(w-T)<.01){if(Math.abs(g+x)<.1&&Math.abs(m+A)<.1&&Math.abs(w+T)<.1&&Math.abs(p+b+M-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const D=(p+1)/2,I=(b+1)/2,O=(M+1)/2,F=(g+x)/4,B=(m+A)/4,H=(w+T)/4;return D>I&&D>O?D<.01?(i=0,s=.707106781,a=.707106781):(i=Math.sqrt(D),s=F/i,a=B/i):I>O?I<.01?(i=.707106781,s=0,a=.707106781):(s=Math.sqrt(I),i=F/s,a=H/s):O<.01?(i=.707106781,s=.707106781,a=0):(a=Math.sqrt(O),i=B/a,s=H/a),this.set(i,s,a,t),this}let N=Math.sqrt((T-w)*(T-w)+(m-A)*(m-A)+(x-g)*(x-g));return Math.abs(N)<.001&&(N=1),this.x=(T-w)/N,this.y=(m-A)/N,this.z=(x-g)/N,this.w=Math.acos((p+b+M-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Yt(this.x,e.x,t.x),this.y=Yt(this.y,e.y,t.y),this.z=Yt(this.z,e.z,t.z),this.w=Yt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Yt(this.x,e,t),this.y=Yt(this.y,e,t),this.z=Yt(this.z,e,t),this.w=Yt(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Yt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class _E extends Ol{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:gi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new ii(0,0,e,t),this.scissorTest=!1,this.viewport=new ii(0,0,e,t);const s={width:e,height:t,depth:i.depth},a=new ki(s);this.textures=[];const l=i.count;for(let u=0;u<l;u++)this.textures[u]=a.clone(),this.textures[u].isRenderTargetTexture=!0,this.textures[u].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:gi,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let s=0,a=this.textures.length;s<a;s++)this.textures[s].image.width=e,this.textures[s].image.height=t,this.textures[s].image.depth=i,this.textures[s].isData3DTexture!==!0&&(this.textures[s].isArrayTexture=this.textures[s].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const s=Object.assign({},e.textures[t].image);this.textures[t].source=new Ou(s)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ba extends _E{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class r_ extends ki{constructor(e=null,t=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:s},this.magFilter=Zi,this.minFilter=Zi,this.wrapR=Jr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class PW extends ba{constructor(e=1,t=1,i=1,s={}){super(e,t,s),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new r_(null,e,t,i),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}}class a_ extends ki{constructor(e=null,t=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:s},this.magFilter=Zi,this.minFilter=Zi,this.wrapR=Jr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class IW extends ba{constructor(e=1,t=1,i=1,s={}){super(e,t,s),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new a_(null,e,t,i),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}}class nr{constructor(e=new K(1/0,1/0,1/0),t=new K(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(wo.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(wo.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=wo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let l=0,u=a.count;l<u;l++)e.isMesh===!0?e.getVertexPosition(l,wo):wo.fromBufferAttribute(a,l),wo.applyMatrix4(e.matrixWorld),this.expandByPoint(wo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),tx.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),tx.copy(i.boundingBox)),tx.applyMatrix4(e.matrixWorld),this.union(tx)}const s=e.children;for(let a=0,l=s.length;a<l;a++)this.expandByObject(s[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,wo),wo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Ag),nx.subVectors(this.max,Ag),Ph.subVectors(e.a,Ag),Ih.subVectors(e.b,Ag),Lh.subVectors(e.c,Ag),wu.subVectors(Ih,Ph),Mu.subVectors(Lh,Ih),kf.subVectors(Ph,Lh);let t=[0,-wu.z,wu.y,0,-Mu.z,Mu.y,0,-kf.z,kf.y,wu.z,0,-wu.x,Mu.z,0,-Mu.x,kf.z,0,-kf.x,-wu.y,wu.x,0,-Mu.y,Mu.x,0,-kf.y,kf.x,0];return!YS(t,Ph,Ih,Lh,nx)||(t=[1,0,0,0,1,0,0,0,1],!YS(t,Ph,Ih,Lh,nx))?!1:(ix.crossVectors(wu,Mu),t=[ix.x,ix.y,ix.z],YS(t,Ph,Ih,Lh,nx))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,wo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(wo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(mc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),mc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),mc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),mc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),mc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),mc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),mc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),mc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(mc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const mc=[new K,new K,new K,new K,new K,new K,new K,new K],wo=new K,tx=new nr,Ph=new K,Ih=new K,Lh=new K,wu=new K,Mu=new K,kf=new K,Ag=new K,nx=new K,ix=new K,Vf=new K;function YS(n,e,t,i,s){for(let a=0,l=n.length-3;a<=l;a+=3){Vf.fromArray(n,a);const u=s.x*Math.abs(Vf.x)+s.y*Math.abs(Vf.y)+s.z*Math.abs(Vf.z),h=e.dot(Vf),p=t.dot(Vf),g=i.dot(Vf);if(Math.max(-Math.max(h,p,g),Math.min(h,p,g))>u)return!1}return!0}const LW=new nr,Cg=new K,$S=new K;class Bs{constructor(e=new K,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):LW.setFromPoints(e).getCenter(i);let s=0;for(let a=0,l=e.length;a<l;a++)s=Math.max(s,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Cg.subVectors(e,this.center);const t=Cg.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),s=(i-this.radius)*.5;this.center.addScaledVector(Cg,s/i),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):($S.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Cg.copy(e.center).add($S)),this.expandByPoint(Cg.copy(e.center).sub($S))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const gc=new K,ZS=new K,sx=new K,Tu=new K,KS=new K,rx=new K,QS=new K;class Wp{constructor(e=new K,t=new K(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,gc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=gc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(gc.copy(this.origin).addScaledVector(this.direction,t),gc.distanceToSquared(e))}distanceSqToSegment(e,t,i,s){ZS.copy(e).add(t).multiplyScalar(.5),sx.copy(t).sub(e).normalize(),Tu.copy(this.origin).sub(ZS);const a=e.distanceTo(t)*.5,l=-this.direction.dot(sx),u=Tu.dot(this.direction),h=-Tu.dot(sx),p=Tu.lengthSq(),g=Math.abs(1-l*l);let m,x,b,w;if(g>0)if(m=l*h-u,x=l*u-h,w=a*g,m>=0)if(x>=-w)if(x<=w){const A=1/g;m*=A,x*=A,b=m*(m+l*x+2*u)+x*(l*m+x+2*h)+p}else x=a,m=Math.max(0,-(l*x+u)),b=-m*m+x*(x+2*h)+p;else x=-a,m=Math.max(0,-(l*x+u)),b=-m*m+x*(x+2*h)+p;else x<=-w?(m=Math.max(0,-(-l*a+u)),x=m>0?-a:Math.min(Math.max(-a,-h),a),b=-m*m+x*(x+2*h)+p):x<=w?(m=0,x=Math.min(Math.max(-a,-h),a),b=x*(x+2*h)+p):(m=Math.max(0,-(l*a+u)),x=m>0?a:Math.min(Math.max(-a,-h),a),b=-m*m+x*(x+2*h)+p);else x=l>0?-a:a,m=Math.max(0,-(l*x+u)),b=-m*m+x*(x+2*h)+p;return i&&i.copy(this.origin).addScaledVector(this.direction,m),s&&s.copy(ZS).addScaledVector(sx,x),b}intersectSphere(e,t){gc.subVectors(e.center,this.origin);const i=gc.dot(this.direction),s=gc.dot(gc)-i*i,a=e.radius*e.radius;if(s>a)return null;const l=Math.sqrt(a-s),u=i-l,h=i+l;return h<0?null:u<0?this.at(h,t):this.at(u,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,s,a,l,u,h;const p=1/this.direction.x,g=1/this.direction.y,m=1/this.direction.z,x=this.origin;return p>=0?(i=(e.min.x-x.x)*p,s=(e.max.x-x.x)*p):(i=(e.max.x-x.x)*p,s=(e.min.x-x.x)*p),g>=0?(a=(e.min.y-x.y)*g,l=(e.max.y-x.y)*g):(a=(e.max.y-x.y)*g,l=(e.min.y-x.y)*g),i>l||a>s||((a>i||isNaN(i))&&(i=a),(l<s||isNaN(s))&&(s=l),m>=0?(u=(e.min.z-x.z)*m,h=(e.max.z-x.z)*m):(u=(e.max.z-x.z)*m,h=(e.min.z-x.z)*m),i>h||u>s)||((u>i||i!==i)&&(i=u),(h<s||s!==s)&&(s=h),s<0)?null:this.at(i>=0?i:s,t)}intersectsBox(e){return this.intersectBox(e,gc)!==null}intersectTriangle(e,t,i,s,a){KS.subVectors(t,e),rx.subVectors(i,e),QS.crossVectors(KS,rx);let l=this.direction.dot(QS),u;if(l>0){if(s)return null;u=1}else if(l<0)u=-1,l=-l;else return null;Tu.subVectors(this.origin,e);const h=u*this.direction.dot(rx.crossVectors(Tu,rx));if(h<0)return null;const p=u*this.direction.dot(KS.cross(Tu));if(p<0||h+p>l)return null;const g=-u*Tu.dot(QS);return g<0?null:this.at(g/l,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class $t{constructor(e,t,i,s,a,l,u,h,p,g,m,x,b,w,A,T){$t.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,s,a,l,u,h,p,g,m,x,b,w,A,T)}set(e,t,i,s,a,l,u,h,p,g,m,x,b,w,A,T){const M=this.elements;return M[0]=e,M[4]=t,M[8]=i,M[12]=s,M[1]=a,M[5]=l,M[9]=u,M[13]=h,M[2]=p,M[6]=g,M[10]=m,M[14]=x,M[3]=b,M[7]=w,M[11]=A,M[15]=T,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new $t().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return this.determinant()===0?(e.set(1,0,0),t.set(0,1,0),i.set(0,0,1),this):(e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this)}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const t=this.elements,i=e.elements,s=1/Oh.setFromMatrixColumn(e,0).length(),a=1/Oh.setFromMatrixColumn(e,1).length(),l=1/Oh.setFromMatrixColumn(e,2).length();return t[0]=i[0]*s,t[1]=i[1]*s,t[2]=i[2]*s,t[3]=0,t[4]=i[4]*a,t[5]=i[5]*a,t[6]=i[6]*a,t[7]=0,t[8]=i[8]*l,t[9]=i[9]*l,t[10]=i[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,s=e.y,a=e.z,l=Math.cos(i),u=Math.sin(i),h=Math.cos(s),p=Math.sin(s),g=Math.cos(a),m=Math.sin(a);if(e.order==="XYZ"){const x=l*g,b=l*m,w=u*g,A=u*m;t[0]=h*g,t[4]=-h*m,t[8]=p,t[1]=b+w*p,t[5]=x-A*p,t[9]=-u*h,t[2]=A-x*p,t[6]=w+b*p,t[10]=l*h}else if(e.order==="YXZ"){const x=h*g,b=h*m,w=p*g,A=p*m;t[0]=x+A*u,t[4]=w*u-b,t[8]=l*p,t[1]=l*m,t[5]=l*g,t[9]=-u,t[2]=b*u-w,t[6]=A+x*u,t[10]=l*h}else if(e.order==="ZXY"){const x=h*g,b=h*m,w=p*g,A=p*m;t[0]=x-A*u,t[4]=-l*m,t[8]=w+b*u,t[1]=b+w*u,t[5]=l*g,t[9]=A-x*u,t[2]=-l*p,t[6]=u,t[10]=l*h}else if(e.order==="ZYX"){const x=l*g,b=l*m,w=u*g,A=u*m;t[0]=h*g,t[4]=w*p-b,t[8]=x*p+A,t[1]=h*m,t[5]=A*p+x,t[9]=b*p-w,t[2]=-p,t[6]=u*h,t[10]=l*h}else if(e.order==="YZX"){const x=l*h,b=l*p,w=u*h,A=u*p;t[0]=h*g,t[4]=A-x*m,t[8]=w*m+b,t[1]=m,t[5]=l*g,t[9]=-u*g,t[2]=-p*g,t[6]=b*m+w,t[10]=x-A*m}else if(e.order==="XZY"){const x=l*h,b=l*p,w=u*h,A=u*p;t[0]=h*g,t[4]=-m,t[8]=p*g,t[1]=x*m+A,t[5]=l*g,t[9]=b*m-w,t[2]=w*m-b,t[6]=u*g,t[10]=A*m+x}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(OW,e,UW)}lookAt(e,t,i){const s=this.elements;return ha.subVectors(e,t),ha.lengthSq()===0&&(ha.z=1),ha.normalize(),Eu.crossVectors(i,ha),Eu.lengthSq()===0&&(Math.abs(i.z)===1?ha.x+=1e-4:ha.z+=1e-4,ha.normalize(),Eu.crossVectors(i,ha)),Eu.normalize(),ax.crossVectors(ha,Eu),s[0]=Eu.x,s[4]=ax.x,s[8]=ha.x,s[1]=Eu.y,s[5]=ax.y,s[9]=ha.y,s[2]=Eu.z,s[6]=ax.z,s[10]=ha.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,s=t.elements,a=this.elements,l=i[0],u=i[4],h=i[8],p=i[12],g=i[1],m=i[5],x=i[9],b=i[13],w=i[2],A=i[6],T=i[10],M=i[14],N=i[3],D=i[7],I=i[11],O=i[15],F=s[0],B=s[4],H=s[8],z=s[12],k=s[1],$=s[5],se=s[9],ee=s[13],ne=s[2],ae=s[6],X=s[10],Z=s[14],Q=s[3],ye=s[7],Se=s[11],q=s[15];return a[0]=l*F+u*k+h*ne+p*Q,a[4]=l*B+u*$+h*ae+p*ye,a[8]=l*H+u*se+h*X+p*Se,a[12]=l*z+u*ee+h*Z+p*q,a[1]=g*F+m*k+x*ne+b*Q,a[5]=g*B+m*$+x*ae+b*ye,a[9]=g*H+m*se+x*X+b*Se,a[13]=g*z+m*ee+x*Z+b*q,a[2]=w*F+A*k+T*ne+M*Q,a[6]=w*B+A*$+T*ae+M*ye,a[10]=w*H+A*se+T*X+M*Se,a[14]=w*z+A*ee+T*Z+M*q,a[3]=N*F+D*k+I*ne+O*Q,a[7]=N*B+D*$+I*ae+O*ye,a[11]=N*H+D*se+I*X+O*Se,a[15]=N*z+D*ee+I*Z+O*q,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],s=e[8],a=e[12],l=e[1],u=e[5],h=e[9],p=e[13],g=e[2],m=e[6],x=e[10],b=e[14],w=e[3],A=e[7],T=e[11],M=e[15],N=h*b-p*x,D=u*b-p*m,I=u*x-h*m,O=l*b-p*g,F=l*x-h*g,B=l*m-u*g;return t*(A*N-T*D+M*I)-i*(w*N-T*O+M*F)+s*(w*D-A*O+M*B)-a*(w*I-A*F+T*B)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=t,s[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],s=e[2],a=e[3],l=e[4],u=e[5],h=e[6],p=e[7],g=e[8],m=e[9],x=e[10],b=e[11],w=e[12],A=e[13],T=e[14],M=e[15],N=m*T*p-A*x*p+A*h*b-u*T*b-m*h*M+u*x*M,D=w*x*p-g*T*p-w*h*b+l*T*b+g*h*M-l*x*M,I=g*A*p-w*m*p+w*u*b-l*A*b-g*u*M+l*m*M,O=w*m*h-g*A*h-w*u*x+l*A*x+g*u*T-l*m*T,F=t*N+i*D+s*I+a*O;if(F===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/F;return e[0]=N*B,e[1]=(A*x*a-m*T*a-A*s*b+i*T*b+m*s*M-i*x*M)*B,e[2]=(u*T*a-A*h*a+A*s*p-i*T*p-u*s*M+i*h*M)*B,e[3]=(m*h*a-u*x*a-m*s*p+i*x*p+u*s*b-i*h*b)*B,e[4]=D*B,e[5]=(g*T*a-w*x*a+w*s*b-t*T*b-g*s*M+t*x*M)*B,e[6]=(w*h*a-l*T*a-w*s*p+t*T*p+l*s*M-t*h*M)*B,e[7]=(l*x*a-g*h*a+g*s*p-t*x*p-l*s*b+t*h*b)*B,e[8]=I*B,e[9]=(w*m*a-g*A*a-w*i*b+t*A*b+g*i*M-t*m*M)*B,e[10]=(l*A*a-w*u*a+w*i*p-t*A*p-l*i*M+t*u*M)*B,e[11]=(g*u*a-l*m*a-g*i*p+t*m*p+l*i*b-t*u*b)*B,e[12]=O*B,e[13]=(g*A*s-w*m*s+w*i*x-t*A*x-g*i*T+t*m*T)*B,e[14]=(w*u*s-l*A*s-w*i*h+t*A*h+l*i*T-t*u*T)*B,e[15]=(l*m*s-g*u*s+g*i*h-t*m*h-l*i*x+t*u*x)*B,this}scale(e){const t=this.elements,i=e.x,s=e.y,a=e.z;return t[0]*=i,t[4]*=s,t[8]*=a,t[1]*=i,t[5]*=s,t[9]*=a,t[2]*=i,t[6]*=s,t[10]*=a,t[3]*=i,t[7]*=s,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,s))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),s=Math.sin(t),a=1-i,l=e.x,u=e.y,h=e.z,p=a*l,g=a*u;return this.set(p*l+i,p*u-s*h,p*h+s*u,0,p*u+s*h,g*u+i,g*h-s*l,0,p*h-s*u,g*h+s*l,a*h*h+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,s,a,l){return this.set(1,i,a,0,e,1,l,0,t,s,1,0,0,0,0,1),this}compose(e,t,i){const s=this.elements,a=t._x,l=t._y,u=t._z,h=t._w,p=a+a,g=l+l,m=u+u,x=a*p,b=a*g,w=a*m,A=l*g,T=l*m,M=u*m,N=h*p,D=h*g,I=h*m,O=i.x,F=i.y,B=i.z;return s[0]=(1-(A+M))*O,s[1]=(b+I)*O,s[2]=(w-D)*O,s[3]=0,s[4]=(b-I)*F,s[5]=(1-(x+M))*F,s[6]=(T+N)*F,s[7]=0,s[8]=(w+D)*B,s[9]=(T-N)*B,s[10]=(1-(x+A))*B,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,t,i){const s=this.elements;if(e.x=s[12],e.y=s[13],e.z=s[14],this.determinant()===0)return i.set(1,1,1),t.identity(),this;let a=Oh.set(s[0],s[1],s[2]).length();const l=Oh.set(s[4],s[5],s[6]).length(),u=Oh.set(s[8],s[9],s[10]).length();this.determinant()<0&&(a=-a),Mo.copy(this);const p=1/a,g=1/l,m=1/u;return Mo.elements[0]*=p,Mo.elements[1]*=p,Mo.elements[2]*=p,Mo.elements[4]*=g,Mo.elements[5]*=g,Mo.elements[6]*=g,Mo.elements[8]*=m,Mo.elements[9]*=m,Mo.elements[10]*=m,t.setFromRotationMatrix(Mo),i.x=a,i.y=l,i.z=u,this}makePerspective(e,t,i,s,a,l,u=ya,h=!1){const p=this.elements,g=2*a/(t-e),m=2*a/(i-s),x=(t+e)/(t-e),b=(i+s)/(i-s);let w,A;if(h)w=a/(l-a),A=l*a/(l-a);else if(u===ya)w=-(l+a)/(l-a),A=-2*l*a/(l-a);else if(u===Sp)w=-l/(l-a),A=-l*a/(l-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return p[0]=g,p[4]=0,p[8]=x,p[12]=0,p[1]=0,p[5]=m,p[9]=b,p[13]=0,p[2]=0,p[6]=0,p[10]=w,p[14]=A,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makeOrthographic(e,t,i,s,a,l,u=ya,h=!1){const p=this.elements,g=2/(t-e),m=2/(i-s),x=-(t+e)/(t-e),b=-(i+s)/(i-s);let w,A;if(h)w=1/(l-a),A=l/(l-a);else if(u===ya)w=-2/(l-a),A=-(l+a)/(l-a);else if(u===Sp)w=-1/(l-a),A=-a/(l-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return p[0]=g,p[4]=0,p[8]=0,p[12]=x,p[1]=0,p[5]=m,p[9]=0,p[13]=b,p[2]=0,p[6]=0,p[10]=w,p[14]=A,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let s=0;s<16;s++)if(t[s]!==i[s])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Oh=new K,Mo=new $t,OW=new K(0,0,0),UW=new K(1,1,1),Eu=new K,ax=new K,ha=new K,yR=new $t,vR=new ta;class _a{constructor(e=0,t=0,i=0,s=_a.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,s=this._order){return this._x=e,this._y=t,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const s=e.elements,a=s[0],l=s[4],u=s[8],h=s[1],p=s[5],g=s[9],m=s[2],x=s[6],b=s[10];switch(t){case"XYZ":this._y=Math.asin(Yt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-g,b),this._z=Math.atan2(-l,a)):(this._x=Math.atan2(x,p),this._z=0);break;case"YXZ":this._x=Math.asin(-Yt(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(u,b),this._z=Math.atan2(h,p)):(this._y=Math.atan2(-m,a),this._z=0);break;case"ZXY":this._x=Math.asin(Yt(x,-1,1)),Math.abs(x)<.9999999?(this._y=Math.atan2(-m,b),this._z=Math.atan2(-l,p)):(this._y=0,this._z=Math.atan2(h,a));break;case"ZYX":this._y=Math.asin(-Yt(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(x,b),this._z=Math.atan2(h,a)):(this._x=0,this._z=Math.atan2(-l,p));break;case"YZX":this._z=Math.asin(Yt(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-g,p),this._y=Math.atan2(-m,a)):(this._x=0,this._y=Math.atan2(u,b));break;case"XZY":this._z=Math.asin(-Yt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(x,p),this._y=Math.atan2(u,a)):(this._x=Math.atan2(-g,b),this._y=0);break;default:ht("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return yR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(yR,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return vR.setFromEuler(this),this.setFromQuaternion(vR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}_a.DEFAULT_ORDER="XYZ";class Tp{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let zW=0;const xR=new K,Uh=new ta,yc=new $t,ox=new K,Rg=new K,FW=new K,BW=new ta,bR=new K(1,0,0),_R=new K(0,1,0),SR=new K(0,0,1),wR={type:"added"},kW={type:"removed"},zh={type:"childadded",child:null},JS={type:"childremoved",child:null};class Ln extends Ol{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:zW++}),this.uuid=xa(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ln.DEFAULT_UP.clone();const e=new K,t=new _a,i=new ta,s=new K(1,1,1);function a(){i.setFromEuler(t,!1)}function l(){t.setFromQuaternion(i,void 0,!1)}t._onChange(a),i._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new $t},normalMatrix:{value:new an}}),this.matrix=new $t,this.matrixWorld=new $t,this.matrixAutoUpdate=Ln.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ln.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Tp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Uh.setFromAxisAngle(e,t),this.quaternion.multiply(Uh),this}rotateOnWorldAxis(e,t){return Uh.setFromAxisAngle(e,t),this.quaternion.premultiply(Uh),this}rotateX(e){return this.rotateOnAxis(bR,e)}rotateY(e){return this.rotateOnAxis(_R,e)}rotateZ(e){return this.rotateOnAxis(SR,e)}translateOnAxis(e,t){return xR.copy(e).applyQuaternion(this.quaternion),this.position.add(xR.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(bR,e)}translateY(e){return this.translateOnAxis(_R,e)}translateZ(e){return this.translateOnAxis(SR,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(yc.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?ox.copy(e):ox.set(e,t,i);const s=this.parent;this.updateWorldMatrix(!0,!1),Rg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?yc.lookAt(Rg,ox,this.up):yc.lookAt(ox,Rg,this.up),this.quaternion.setFromRotationMatrix(yc),s&&(yc.extractRotation(s.matrixWorld),Uh.setFromRotationMatrix(yc),this.quaternion.premultiply(Uh.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(Ot("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(wR),zh.child=e,this.dispatchEvent(zh),zh.child=null):Ot("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(kW),JS.child=e,this.dispatchEvent(JS),JS.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),yc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),yc.multiply(e.parent.matrixWorld)),e.applyMatrix4(yc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(wR),zh.child=e,this.dispatchEvent(zh),zh.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,s=this.children.length;i<s;i++){const l=this.children[i].getObjectByProperty(e,t);if(l!==void 0)return l}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const s=this.children;for(let a=0,l=s.length;a<l;a++)s[a].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Rg,e,FW),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Rg,BW,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,s=t.length;i<s;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,s=t.length;i<s;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,s=t.length;i<s;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const s=this.children;for(let a=0,l=s.length;a<l;a++)s[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.geometryInfo=this._geometryInfo.map(u=>({...u,boundingBox:u.boundingBox?u.boundingBox.toJSON():void 0,boundingSphere:u.boundingSphere?u.boundingSphere.toJSON():void 0})),s.instanceInfo=this._instanceInfo.map(u=>({...u})),s.availableInstanceIds=this._availableInstanceIds.slice(),s.availableGeometryIds=this._availableGeometryIds.slice(),s.nextIndexStart=this._nextIndexStart,s.nextVertexStart=this._nextVertexStart,s.geometryCount=this._geometryCount,s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.matricesTexture=this._matricesTexture.toJSON(e),s.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(s.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(s.boundingBox=this.boundingBox.toJSON()));function a(u,h){return u[h.uuid]===void 0&&(u[h.uuid]=h.toJSON(e)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=a(e.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const h=u.shapes;if(Array.isArray(h))for(let p=0,g=h.length;p<g;p++){const m=h[p];a(e.shapes,m)}else a(e.shapes,h)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let h=0,p=this.material.length;h<p;h++)u.push(a(e.materials,this.material[h]));s.material=u}else s.material=a(e.materials,this.material);if(this.children.length>0){s.children=[];for(let u=0;u<this.children.length;u++)s.children.push(this.children[u].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let u=0;u<this.animations.length;u++){const h=this.animations[u];s.animations.push(a(e.animations,h))}}if(t){const u=l(e.geometries),h=l(e.materials),p=l(e.textures),g=l(e.images),m=l(e.shapes),x=l(e.skeletons),b=l(e.animations),w=l(e.nodes);u.length>0&&(i.geometries=u),h.length>0&&(i.materials=h),p.length>0&&(i.textures=p),g.length>0&&(i.images=g),m.length>0&&(i.shapes=m),x.length>0&&(i.skeletons=x),b.length>0&&(i.animations=b),w.length>0&&(i.nodes=w)}return i.object=s,i;function l(u){const h=[];for(const p in u){const g=u[p];delete g.metadata,h.push(g)}return h}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const s=e.children[i];this.add(s.clone())}return this}}Ln.DEFAULT_UP=new K(0,1,0);Ln.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ln.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const To=new K,vc=new K,ew=new K,xc=new K,Fh=new K,Bh=new K,MR=new K,tw=new K,nw=new K,iw=new K,sw=new ii,rw=new ii,aw=new ii;class Kr{constructor(e=new K,t=new K,i=new K){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,s){s.subVectors(i,t),To.subVectors(e,t),s.cross(To);const a=s.lengthSq();return a>0?s.multiplyScalar(1/Math.sqrt(a)):s.set(0,0,0)}static getBarycoord(e,t,i,s,a){To.subVectors(s,t),vc.subVectors(i,t),ew.subVectors(e,t);const l=To.dot(To),u=To.dot(vc),h=To.dot(ew),p=vc.dot(vc),g=vc.dot(ew),m=l*p-u*u;if(m===0)return a.set(0,0,0),null;const x=1/m,b=(p*h-u*g)*x,w=(l*g-u*h)*x;return a.set(1-b-w,w,b)}static containsPoint(e,t,i,s){return this.getBarycoord(e,t,i,s,xc)===null?!1:xc.x>=0&&xc.y>=0&&xc.x+xc.y<=1}static getInterpolation(e,t,i,s,a,l,u,h){return this.getBarycoord(e,t,i,s,xc)===null?(h.x=0,h.y=0,"z"in h&&(h.z=0),"w"in h&&(h.w=0),null):(h.setScalar(0),h.addScaledVector(a,xc.x),h.addScaledVector(l,xc.y),h.addScaledVector(u,xc.z),h)}static getInterpolatedAttribute(e,t,i,s,a,l){return sw.setScalar(0),rw.setScalar(0),aw.setScalar(0),sw.fromBufferAttribute(e,t),rw.fromBufferAttribute(e,i),aw.fromBufferAttribute(e,s),l.setScalar(0),l.addScaledVector(sw,a.x),l.addScaledVector(rw,a.y),l.addScaledVector(aw,a.z),l}static isFrontFacing(e,t,i,s){return To.subVectors(i,t),vc.subVectors(e,t),To.cross(vc).dot(s)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,s){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,t,i,s){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return To.subVectors(this.c,this.b),vc.subVectors(this.a,this.b),To.cross(vc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Kr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Kr.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,s,a){return Kr.getInterpolation(e,this.a,this.b,this.c,t,i,s,a)}containsPoint(e){return Kr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Kr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,s=this.b,a=this.c;let l,u;Fh.subVectors(s,i),Bh.subVectors(a,i),tw.subVectors(e,i);const h=Fh.dot(tw),p=Bh.dot(tw);if(h<=0&&p<=0)return t.copy(i);nw.subVectors(e,s);const g=Fh.dot(nw),m=Bh.dot(nw);if(g>=0&&m<=g)return t.copy(s);const x=h*m-g*p;if(x<=0&&h>=0&&g<=0)return l=h/(h-g),t.copy(i).addScaledVector(Fh,l);iw.subVectors(e,a);const b=Fh.dot(iw),w=Bh.dot(iw);if(w>=0&&b<=w)return t.copy(a);const A=b*p-h*w;if(A<=0&&p>=0&&w<=0)return u=p/(p-w),t.copy(i).addScaledVector(Bh,u);const T=g*w-b*m;if(T<=0&&m-g>=0&&b-w>=0)return MR.subVectors(a,s),u=(m-g)/(m-g+(b-w)),t.copy(s).addScaledVector(MR,u);const M=1/(T+A+x);return l=A*M,u=x*M,t.copy(i).addScaledVector(Fh,l).addScaledVector(Bh,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const IO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Au={h:0,s:0,l:0},lx={h:0,s:0,l:0};function ow(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class yt{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=er){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Rn.colorSpaceToWorking(this,t),this}setRGB(e,t,i,s=Rn.workingColorSpace){return this.r=e,this.g=t,this.b=i,Rn.colorSpaceToWorking(this,s),this}setHSL(e,t,i,s=Rn.workingColorSpace){if(e=bE(e,1),t=Yt(t,0,1),i=Yt(i,0,1),t===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+t):i+t-i*t,l=2*i-a;this.r=ow(l,a,e+1/3),this.g=ow(l,a,e),this.b=ow(l,a,e-1/3)}return Rn.colorSpaceToWorking(this,s),this}setStyle(e,t=er){function i(a){a!==void 0&&parseFloat(a)<1&&ht("Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const l=s[1],u=s[2];switch(l){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:ht("Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=s[1],l=a.length;if(l===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(l===6)return this.setHex(parseInt(a,16),t);ht("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=er){const i=IO[e.toLowerCase()];return i!==void 0?this.setHex(i,t):ht("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Tc(e.r),this.g=Tc(e.g),this.b=Tc(e.b),this}copyLinearToSRGB(e){return this.r=hp(e.r),this.g=hp(e.g),this.b=hp(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=er){return Rn.workingToColorSpace(Qs.copy(this),e),Math.round(Yt(Qs.r*255,0,255))*65536+Math.round(Yt(Qs.g*255,0,255))*256+Math.round(Yt(Qs.b*255,0,255))}getHexString(e=er){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Rn.workingColorSpace){Rn.workingToColorSpace(Qs.copy(this),t);const i=Qs.r,s=Qs.g,a=Qs.b,l=Math.max(i,s,a),u=Math.min(i,s,a);let h,p;const g=(u+l)/2;if(u===l)h=0,p=0;else{const m=l-u;switch(p=g<=.5?m/(l+u):m/(2-l-u),l){case i:h=(s-a)/m+(s<a?6:0);break;case s:h=(a-i)/m+2;break;case a:h=(i-s)/m+4;break}h/=6}return e.h=h,e.s=p,e.l=g,e}getRGB(e,t=Rn.workingColorSpace){return Rn.workingToColorSpace(Qs.copy(this),t),e.r=Qs.r,e.g=Qs.g,e.b=Qs.b,e}getStyle(e=er){Rn.workingToColorSpace(Qs.copy(this),e);const t=Qs.r,i=Qs.g,s=Qs.b;return e!==er?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(s*255)})`}offsetHSL(e,t,i){return this.getHSL(Au),this.setHSL(Au.h+e,Au.s+t,Au.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Au),e.getHSL(lx);const i=i0(Au.h,lx.h,t),s=i0(Au.s,lx.s,t),a=i0(Au.l,lx.l,t);return this.setHSL(i,s,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,s=this.b,a=e.elements;return this.r=a[0]*t+a[3]*i+a[6]*s,this.g=a[1]*t+a[4]*i+a[7]*s,this.b=a[2]*t+a[5]*i+a[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Qs=new yt;yt.NAMES=IO;let VW=0;class ir extends Ol{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:VW++}),this.uuid=xa(),this.name="",this.type="Material",this.blending=fd,this.side=Nc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Ab,this.blendDst=Cb,this.blendEquation=Pu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new yt(0,0,0),this.blendAlpha=0,this.depthFunc=gd,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=zM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=td,this.stencilZFail=td,this.stencilZPass=td,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){ht(`Material: parameter '${t}' has value of undefined.`);continue}const s=this[t];if(s===void 0){ht(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==fd&&(i.blending=this.blending),this.side!==Nc&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==Ab&&(i.blendSrc=this.blendSrc),this.blendDst!==Cb&&(i.blendDst=this.blendDst),this.blendEquation!==Pu&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==gd&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==zM&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==td&&(i.stencilFail=this.stencilFail),this.stencilZFail!==td&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==td&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.allowOverride===!1&&(i.allowOverride=!1),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function s(a){const l=[];for(const u in a){const h=a[u];delete h.metadata,l.push(h)}return l}if(t){const a=s(e.textures),l=s(e.images);a.length>0&&(i.textures=a),l.length>0&&(i.images=l)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const s=t.length;i=new Array(s);for(let a=0;a!==s;++a)i[a]=t[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class $u extends ir{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new yt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new _a,this.combine=Y0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Sc=HW();function HW(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),s=new Uint32Array(512);for(let h=0;h<256;++h){const p=h-127;p<-27?(i[h]=0,i[h|256]=32768,s[h]=24,s[h|256]=24):p<-14?(i[h]=1024>>-p-14,i[h|256]=1024>>-p-14|32768,s[h]=-p-1,s[h|256]=-p-1):p<=15?(i[h]=p+15<<10,i[h|256]=p+15<<10|32768,s[h]=13,s[h|256]=13):p<128?(i[h]=31744,i[h|256]=64512,s[h]=24,s[h|256]=24):(i[h]=31744,i[h|256]=64512,s[h]=13,s[h|256]=13)}const a=new Uint32Array(2048),l=new Uint32Array(64),u=new Uint32Array(64);for(let h=1;h<1024;++h){let p=h<<13,g=0;for(;(p&8388608)===0;)p<<=1,g-=8388608;p&=-8388609,g+=947912704,a[h]=p|g}for(let h=1024;h<2048;++h)a[h]=939524096+(h-1024<<13);for(let h=1;h<31;++h)l[h]=h<<23;l[31]=1199570944,l[32]=2147483648;for(let h=33;h<63;++h)l[h]=2147483648+(h-32<<23);l[63]=3347054592;for(let h=1;h<64;++h)h!==32&&(u[h]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:s,mantissaTable:a,exponentTable:l,offsetTable:u}}function Yr(n){Math.abs(n)>65504&&ht("DataUtils.toHalfFloat(): Value out of range."),n=Yt(n,-65504,65504),Sc.floatView[0]=n;const e=Sc.uint32View[0],t=e>>23&511;return Sc.baseTable[t]+((e&8388607)>>Sc.shiftTable[t])}function Vg(n){const e=n>>10;return Sc.uint32View[0]=Sc.mantissaTable[Sc.offsetTable[e]+(n&1023)]+Sc.exponentTable[e],Sc.floatView[0]}class jW{static toHalfFloat(e){return Yr(e)}static fromHalfFloat(e){return Vg(e)}}const rs=new K,cx=new ke;let GW=0;class Nn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:GW++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=E0,this.updateRanges=[],this.gpuType=Tr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let s=0,a=this.itemSize;s<a;s++)this.array[e+s]=t.array[i+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)cx.fromBufferAttribute(this,t),cx.applyMatrix3(e),this.setXY(t,cx.x,cx.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)rs.fromBufferAttribute(this,t),rs.applyMatrix3(e),this.setXYZ(t,rs.x,rs.y,rs.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)rs.fromBufferAttribute(this,t),rs.applyMatrix4(e),this.setXYZ(t,rs.x,rs.y,rs.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)rs.fromBufferAttribute(this,t),rs.applyNormalMatrix(e),this.setXYZ(t,rs.x,rs.y,rs.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)rs.fromBufferAttribute(this,t),rs.transformDirection(e),this.setXYZ(t,rs.x,rs.y,rs.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=wr(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=un(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=wr(t,this.array)),t}setX(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=wr(t,this.array)),t}setY(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=wr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=wr(t,this.array)),t}setW(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),i=un(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,s){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),i=un(i,this.array),s=un(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=s,this}setXYZW(e,t,i,s,a){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),i=un(i,this.array),s=un(s,this.array),a=un(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=s,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==E0&&(e.usage=this.usage),e}}class WW extends Nn{constructor(e,t,i){super(new Int8Array(e),t,i)}}class XW extends Nn{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class qW extends Nn{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class YW extends Nn{constructor(e,t,i){super(new Int16Array(e),t,i)}}class SE extends Nn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class $W extends Nn{constructor(e,t,i){super(new Int32Array(e),t,i)}}class wE extends Nn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class ZW extends Nn{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Vg(this.array[e*this.itemSize]);return this.normalized&&(t=wr(t,this.array)),t}setX(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize]=Yr(t),this}getY(e){let t=Vg(this.array[e*this.itemSize+1]);return this.normalized&&(t=wr(t,this.array)),t}setY(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+1]=Yr(t),this}getZ(e){let t=Vg(this.array[e*this.itemSize+2]);return this.normalized&&(t=wr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+2]=Yr(t),this}getW(e){let t=Vg(this.array[e*this.itemSize+3]);return this.normalized&&(t=wr(t,this.array)),t}setW(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+3]=Yr(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),i=un(i,this.array)),this.array[e+0]=Yr(t),this.array[e+1]=Yr(i),this}setXYZ(e,t,i,s){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),i=un(i,this.array),s=un(s,this.array)),this.array[e+0]=Yr(t),this.array[e+1]=Yr(i),this.array[e+2]=Yr(s),this}setXYZW(e,t,i,s,a){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),i=un(i,this.array),s=un(s,this.array),a=un(a,this.array)),this.array[e+0]=Yr(t),this.array[e+1]=Yr(i),this.array[e+2]=Yr(s),this.array[e+3]=Yr(a),this}}class Tt extends Nn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let KW=0;const qa=new $t,lw=new Ln,kh=new K,pa=new nr,Ng=new nr,Ms=new K;class Jt extends Ol{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:KW++}),this.uuid=xa(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(RO(e)?wE:SE)(e,1):this.index=e,this}setIndirect(e,t=0){return this.indirect=e,this.indirectOffset=t,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new an().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return qa.makeRotationFromQuaternion(e),this.applyMatrix4(qa),this}rotateX(e){return qa.makeRotationX(e),this.applyMatrix4(qa),this}rotateY(e){return qa.makeRotationY(e),this.applyMatrix4(qa),this}rotateZ(e){return qa.makeRotationZ(e),this.applyMatrix4(qa),this}translate(e,t,i){return qa.makeTranslation(e,t,i),this.applyMatrix4(qa),this}scale(e,t,i){return qa.makeScale(e,t,i),this.applyMatrix4(qa),this}lookAt(e){return lw.lookAt(e),lw.updateMatrix(),this.applyMatrix4(lw.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(kh).negate(),this.translate(kh.x,kh.y,kh.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let s=0,a=e.length;s<a;s++){const l=e[s];i.push(l.x,l.y,l.z||0)}this.setAttribute("position",new Tt(i,3))}else{const i=Math.min(e.length,t.count);for(let s=0;s<i;s++){const a=e[s];t.setXYZ(s,a.x,a.y,a.z||0)}e.length>t.count&&ht("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new nr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Ot("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new K(-1/0,-1/0,-1/0),new K(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,s=t.length;i<s;i++){const a=t[i];pa.setFromBufferAttribute(a),this.morphTargetsRelative?(Ms.addVectors(this.boundingBox.min,pa.min),this.boundingBox.expandByPoint(Ms),Ms.addVectors(this.boundingBox.max,pa.max),this.boundingBox.expandByPoint(Ms)):(this.boundingBox.expandByPoint(pa.min),this.boundingBox.expandByPoint(pa.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Ot('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Bs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Ot("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new K,1/0);return}if(e){const i=this.boundingSphere.center;if(pa.setFromBufferAttribute(e),t)for(let a=0,l=t.length;a<l;a++){const u=t[a];Ng.setFromBufferAttribute(u),this.morphTargetsRelative?(Ms.addVectors(pa.min,Ng.min),pa.expandByPoint(Ms),Ms.addVectors(pa.max,Ng.max),pa.expandByPoint(Ms)):(pa.expandByPoint(Ng.min),pa.expandByPoint(Ng.max))}pa.getCenter(i);let s=0;for(let a=0,l=e.count;a<l;a++)Ms.fromBufferAttribute(e,a),s=Math.max(s,i.distanceToSquared(Ms));if(t)for(let a=0,l=t.length;a<l;a++){const u=t[a],h=this.morphTargetsRelative;for(let p=0,g=u.count;p<g;p++)Ms.fromBufferAttribute(u,p),h&&(kh.fromBufferAttribute(e,p),Ms.add(kh)),s=Math.max(s,i.distanceToSquared(Ms))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&Ot('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){Ot("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,s=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Nn(new Float32Array(4*i.count),4));const l=this.getAttribute("tangent"),u=[],h=[];for(let H=0;H<i.count;H++)u[H]=new K,h[H]=new K;const p=new K,g=new K,m=new K,x=new ke,b=new ke,w=new ke,A=new K,T=new K;function M(H,z,k){p.fromBufferAttribute(i,H),g.fromBufferAttribute(i,z),m.fromBufferAttribute(i,k),x.fromBufferAttribute(a,H),b.fromBufferAttribute(a,z),w.fromBufferAttribute(a,k),g.sub(p),m.sub(p),b.sub(x),w.sub(x);const $=1/(b.x*w.y-w.x*b.y);isFinite($)&&(A.copy(g).multiplyScalar(w.y).addScaledVector(m,-b.y).multiplyScalar($),T.copy(m).multiplyScalar(b.x).addScaledVector(g,-w.x).multiplyScalar($),u[H].add(A),u[z].add(A),u[k].add(A),h[H].add(T),h[z].add(T),h[k].add(T))}let N=this.groups;N.length===0&&(N=[{start:0,count:e.count}]);for(let H=0,z=N.length;H<z;++H){const k=N[H],$=k.start,se=k.count;for(let ee=$,ne=$+se;ee<ne;ee+=3)M(e.getX(ee+0),e.getX(ee+1),e.getX(ee+2))}const D=new K,I=new K,O=new K,F=new K;function B(H){O.fromBufferAttribute(s,H),F.copy(O);const z=u[H];D.copy(z),D.sub(O.multiplyScalar(O.dot(z))).normalize(),I.crossVectors(F,z);const $=I.dot(h[H])<0?-1:1;l.setXYZW(H,D.x,D.y,D.z,$)}for(let H=0,z=N.length;H<z;++H){const k=N[H],$=k.start,se=k.count;for(let ee=$,ne=$+se;ee<ne;ee+=3)B(e.getX(ee+0)),B(e.getX(ee+1)),B(e.getX(ee+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Nn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let x=0,b=i.count;x<b;x++)i.setXYZ(x,0,0,0);const s=new K,a=new K,l=new K,u=new K,h=new K,p=new K,g=new K,m=new K;if(e)for(let x=0,b=e.count;x<b;x+=3){const w=e.getX(x+0),A=e.getX(x+1),T=e.getX(x+2);s.fromBufferAttribute(t,w),a.fromBufferAttribute(t,A),l.fromBufferAttribute(t,T),g.subVectors(l,a),m.subVectors(s,a),g.cross(m),u.fromBufferAttribute(i,w),h.fromBufferAttribute(i,A),p.fromBufferAttribute(i,T),u.add(g),h.add(g),p.add(g),i.setXYZ(w,u.x,u.y,u.z),i.setXYZ(A,h.x,h.y,h.z),i.setXYZ(T,p.x,p.y,p.z)}else for(let x=0,b=t.count;x<b;x+=3)s.fromBufferAttribute(t,x+0),a.fromBufferAttribute(t,x+1),l.fromBufferAttribute(t,x+2),g.subVectors(l,a),m.subVectors(s,a),g.cross(m),i.setXYZ(x+0,g.x,g.y,g.z),i.setXYZ(x+1,g.x,g.y,g.z),i.setXYZ(x+2,g.x,g.y,g.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Ms.fromBufferAttribute(e,t),Ms.normalize(),e.setXYZ(t,Ms.x,Ms.y,Ms.z)}toNonIndexed(){function e(u,h){const p=u.array,g=u.itemSize,m=u.normalized,x=new p.constructor(h.length*g);let b=0,w=0;for(let A=0,T=h.length;A<T;A++){u.isInterleavedBufferAttribute?b=h[A]*u.data.stride+u.offset:b=h[A]*g;for(let M=0;M<g;M++)x[w++]=p[b++]}return new Nn(x,g,m)}if(this.index===null)return ht("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Jt,i=this.index.array,s=this.attributes;for(const u in s){const h=s[u],p=e(h,i);t.setAttribute(u,p)}const a=this.morphAttributes;for(const u in a){const h=[],p=a[u];for(let g=0,m=p.length;g<m;g++){const x=p[g],b=e(x,i);h.push(b)}t.morphAttributes[u]=h}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let u=0,h=l.length;u<h;u++){const p=l[u];t.addGroup(p.start,p.count,p.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const p in h)h[p]!==void 0&&(e[p]=h[p]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const h in i){const p=i[h];e.data.attributes[h]=p.toJSON(e.data)}const s={};let a=!1;for(const h in this.morphAttributes){const p=this.morphAttributes[h],g=[];for(let m=0,x=p.length;m<x;m++){const b=p[m];g.push(b.toJSON(e.data))}g.length>0&&(s[h]=g,a=!0)}a&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const u=this.boundingSphere;return u!==null&&(e.data.boundingSphere=u.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const s=e.attributes;for(const p in s){const g=s[p];this.setAttribute(p,g.clone(t))}const a=e.morphAttributes;for(const p in a){const g=[],m=a[p];for(let x=0,b=m.length;x<b;x++)g.push(m[x].clone(t));this.morphAttributes[p]=g}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let p=0,g=l.length;p<g;p++){const m=l[p];this.addGroup(m.start,m.count,m.materialIndex)}const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const h=e.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const TR=new $t,Hf=new Wp,ux=new Bs,ER=new K,fx=new K,dx=new K,hx=new K,cw=new K,px=new K,AR=new K,mx=new K;class os extends Ln{constructor(e=new Jt,t=new $u){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const s=t[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,l=s.length;a<l;a++){const u=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=a}}}}getVertexPosition(e,t){const i=this.geometry,s=i.attributes.position,a=i.morphAttributes.position,l=i.morphTargetsRelative;t.fromBufferAttribute(s,e);const u=this.morphTargetInfluences;if(a&&u){px.set(0,0,0);for(let h=0,p=a.length;h<p;h++){const g=u[h],m=a[h];g!==0&&(cw.fromBufferAttribute(m,e),l?px.addScaledVector(cw,g):px.addScaledVector(cw.sub(t),g))}t.add(px)}return t}raycast(e,t){const i=this.geometry,s=this.material,a=this.matrixWorld;s!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),ux.copy(i.boundingSphere),ux.applyMatrix4(a),Hf.copy(e.ray).recast(e.near),!(ux.containsPoint(Hf.origin)===!1&&(Hf.intersectSphere(ux,ER)===null||Hf.origin.distanceToSquared(ER)>(e.far-e.near)**2))&&(TR.copy(a).invert(),Hf.copy(e.ray).applyMatrix4(TR),!(i.boundingBox!==null&&Hf.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Hf)))}_computeIntersections(e,t,i){let s;const a=this.geometry,l=this.material,u=a.index,h=a.attributes.position,p=a.attributes.uv,g=a.attributes.uv1,m=a.attributes.normal,x=a.groups,b=a.drawRange;if(u!==null)if(Array.isArray(l))for(let w=0,A=x.length;w<A;w++){const T=x[w],M=l[T.materialIndex],N=Math.max(T.start,b.start),D=Math.min(u.count,Math.min(T.start+T.count,b.start+b.count));for(let I=N,O=D;I<O;I+=3){const F=u.getX(I),B=u.getX(I+1),H=u.getX(I+2);s=gx(this,M,e,i,p,g,m,F,B,H),s&&(s.faceIndex=Math.floor(I/3),s.face.materialIndex=T.materialIndex,t.push(s))}}else{const w=Math.max(0,b.start),A=Math.min(u.count,b.start+b.count);for(let T=w,M=A;T<M;T+=3){const N=u.getX(T),D=u.getX(T+1),I=u.getX(T+2);s=gx(this,l,e,i,p,g,m,N,D,I),s&&(s.faceIndex=Math.floor(T/3),t.push(s))}}else if(h!==void 0)if(Array.isArray(l))for(let w=0,A=x.length;w<A;w++){const T=x[w],M=l[T.materialIndex],N=Math.max(T.start,b.start),D=Math.min(h.count,Math.min(T.start+T.count,b.start+b.count));for(let I=N,O=D;I<O;I+=3){const F=I,B=I+1,H=I+2;s=gx(this,M,e,i,p,g,m,F,B,H),s&&(s.faceIndex=Math.floor(I/3),s.face.materialIndex=T.materialIndex,t.push(s))}}else{const w=Math.max(0,b.start),A=Math.min(h.count,b.start+b.count);for(let T=w,M=A;T<M;T+=3){const N=T,D=T+1,I=T+2;s=gx(this,l,e,i,p,g,m,N,D,I),s&&(s.faceIndex=Math.floor(T/3),t.push(s))}}}}function QW(n,e,t,i,s,a,l,u){let h;if(e.side===Er?h=i.intersectTriangle(l,a,s,!0,u):h=i.intersectTriangle(s,a,l,e.side===Nc,u),h===null)return null;mx.copy(u),mx.applyMatrix4(n.matrixWorld);const p=t.ray.origin.distanceTo(mx);return p<t.near||p>t.far?null:{distance:p,point:mx.clone(),object:n}}function gx(n,e,t,i,s,a,l,u,h,p){n.getVertexPosition(u,fx),n.getVertexPosition(h,dx),n.getVertexPosition(p,hx);const g=QW(n,e,t,i,fx,dx,hx,AR);if(g){const m=new K;Kr.getBarycoord(AR,fx,dx,hx,m),s&&(g.uv=Kr.getInterpolatedAttribute(s,u,h,p,m,new ke)),a&&(g.uv1=Kr.getInterpolatedAttribute(a,u,h,p,m,new ke)),l&&(g.normal=Kr.getInterpolatedAttribute(l,u,h,p,m,new K),g.normal.dot(i.direction)>0&&g.normal.multiplyScalar(-1));const x={a:u,b:h,c:p,normal:new K,materialIndex:0};Kr.getNormal(fx,dx,hx,x.normal),g.face=x,g.barycoord=m}return g}class _d extends Jt{constructor(e=1,t=1,i=1,s=1,a=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:s,heightSegments:a,depthSegments:l};const u=this;s=Math.floor(s),a=Math.floor(a),l=Math.floor(l);const h=[],p=[],g=[],m=[];let x=0,b=0;w("z","y","x",-1,-1,i,t,e,l,a,0),w("z","y","x",1,-1,i,t,-e,l,a,1),w("x","z","y",1,1,e,i,t,s,l,2),w("x","z","y",1,-1,e,i,-t,s,l,3),w("x","y","z",1,-1,e,t,i,s,a,4),w("x","y","z",-1,-1,e,t,-i,s,a,5),this.setIndex(h),this.setAttribute("position",new Tt(p,3)),this.setAttribute("normal",new Tt(g,3)),this.setAttribute("uv",new Tt(m,2));function w(A,T,M,N,D,I,O,F,B,H,z){const k=I/B,$=O/H,se=I/2,ee=O/2,ne=F/2,ae=B+1,X=H+1;let Z=0,Q=0;const ye=new K;for(let Se=0;Se<X;Se++){const q=Se*$-ee;for(let ue=0;ue<ae;ue++){const fe=ue*k-se;ye[A]=fe*N,ye[T]=q*D,ye[M]=ne,p.push(ye.x,ye.y,ye.z),ye[A]=0,ye[T]=0,ye[M]=F>0?1:-1,g.push(ye.x,ye.y,ye.z),m.push(ue/B),m.push(1-Se/H),Z+=1}}for(let Se=0;Se<H;Se++)for(let q=0;q<B;q++){const ue=x+q+ae*Se,fe=x+q+ae*(Se+1),Te=x+(q+1)+ae*(Se+1),Ve=x+(q+1)+ae*Se;h.push(ue,fe,Ve),h.push(fe,Te,Ve),Q+=6}u.addGroup(b,Q,z),b+=Q,x+=Z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _d(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ep(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const s=n[t][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(ht("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=s.clone():Array.isArray(s)?e[t][i]=s.slice():e[t][i]=s}}return e}function br(n){const e={};for(let t=0;t<n.length;t++){const i=Ep(n[t]);for(const s in i)e[s]=i[s]}return e}function JW(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function LO(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Rn.workingColorSpace}const OO={clone:Ep,merge:br};var eX=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,tX=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class na extends ir{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=eX,this.fragmentShader=tX,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ep(e.uniforms),this.uniformsGroups=JW(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const s in this.uniforms){const l=this.uniforms[s].value;l&&l.isTexture?t.uniforms[s]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?t.uniforms[s]={type:"c",value:l.getHex()}:l&&l.isVector2?t.uniforms[s]={type:"v2",value:l.toArray()}:l&&l.isVector3?t.uniforms[s]={type:"v3",value:l.toArray()}:l&&l.isVector4?t.uniforms[s]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?t.uniforms[s]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?t.uniforms[s]={type:"m4",value:l.toArray()}:t.uniforms[s]={value:l}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const s in this.extensions)this.extensions[s]===!0&&(i[s]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class o_ extends Ln{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new $t,this.projectionMatrix=new $t,this.projectionMatrixInverse=new $t,this.coordinateSystem=ya,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Cu=new K,CR=new ke,RR=new ke;class Es extends o_{constructor(e=50,t=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Mp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(dd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Mp*2*Math.atan(Math.tan(dd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){Cu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Cu.x,Cu.y).multiplyScalar(-e/Cu.z),Cu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Cu.x,Cu.y).multiplyScalar(-e/Cu.z)}getViewSize(e,t){return this.getViewBounds(e,CR,RR),t.subVectors(RR,CR)}setViewOffset(e,t,i,s,a,l){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=s,this.view.width=a,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(dd*.5*this.fov)/this.zoom,i=2*t,s=this.aspect*i,a=-.5*s;const l=this.view;if(this.view!==null&&this.view.enabled){const h=l.fullWidth,p=l.fullHeight;a+=l.offsetX*s/h,t-=l.offsetY*i/p,s*=l.width/h,i*=l.height/p}const u=this.filmOffset;u!==0&&(a+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+s,t,t-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Vh=-90,Hh=1;class UO extends Ln{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new Es(Vh,Hh,e,t);s.layers=this.layers,this.add(s);const a=new Es(Vh,Hh,e,t);a.layers=this.layers,this.add(a);const l=new Es(Vh,Hh,e,t);l.layers=this.layers,this.add(l);const u=new Es(Vh,Hh,e,t);u.layers=this.layers,this.add(u);const h=new Es(Vh,Hh,e,t);h.layers=this.layers,this.add(h);const p=new Es(Vh,Hh,e,t);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,s,a,l,u,h]=t;for(const p of t)this.remove(p);if(e===ya)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),h.up.set(0,1,0),h.lookAt(0,0,-1);else if(e===Sp)i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),h.up.set(0,-1,0),h.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const p of t)this.add(p),p.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,l,u,h,p,g]=this.children,m=e.getRenderTarget(),x=e.getActiveCubeFace(),b=e.getActiveMipmapLevel(),w=e.xr.enabled;e.xr.enabled=!1;const A=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,s),e.render(t,a),e.setRenderTarget(i,1,s),e.render(t,l),e.setRenderTarget(i,2,s),e.render(t,u),e.setRenderTarget(i,3,s),e.render(t,h),e.setRenderTarget(i,4,s),e.render(t,p),i.texture.generateMipmaps=A,e.setRenderTarget(i,5,s),e.render(t,g),e.setRenderTarget(m,x,b),e.xr.enabled=w,i.texture.needsPMREMUpdate=!0}}class Z0 extends ki{constructor(e=[],t=Nl,i,s,a,l,u,h,p,g){super(e,t,i,s,a,l,u,h,p,g),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class ME extends ba{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},s=[i,i,i,i,i,i];this.texture=new Z0(s),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new _d(5,5,5),a=new na({name:"CubemapFromEquirect",uniforms:Ep(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Er,blending:Al});a.uniforms.tEquirect.value=t;const l=new os(s,a),u=t.minFilter;return t.minFilter===Sl&&(t.minFilter=gi),new UO(1,10,this).update(e,l),t.minFilter=u,l.geometry.dispose(),l.material.dispose(),this}clear(e,t=!0,i=!0,s=!0){const a=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(t,i,s);e.setRenderTarget(a)}}class cp extends Ln{constructor(){super(),this.isGroup=!0,this.type="Group"}}const nX={type:"move"};class ab{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new cp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new cp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new K,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new K),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new cp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new K,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new K),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let s=null,a=null,l=null;const u=this._targetRay,h=this._grip,p=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(p&&e.hand){l=!0;for(const A of e.hand.values()){const T=t.getJointPose(A,i),M=this._getHandJoint(p,A);T!==null&&(M.matrix.fromArray(T.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,M.jointRadius=T.radius),M.visible=T!==null}const g=p.joints["index-finger-tip"],m=p.joints["thumb-tip"],x=g.position.distanceTo(m.position),b=.02,w=.005;p.inputState.pinching&&x>b+w?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&x<=b-w&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else h!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,i),a!==null&&(h.matrix.fromArray(a.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,a.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(a.linearVelocity)):h.hasLinearVelocity=!1,a.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(a.angularVelocity)):h.hasAngularVelocity=!1));u!==null&&(s=t.getPose(e.targetRaySpace,i),s===null&&a!==null&&(s=a),s!==null&&(u.matrix.fromArray(s.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,s.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(s.linearVelocity)):u.hasLinearVelocity=!1,s.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(s.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(nX)))}return u!==null&&(u.visible=s!==null),h!==null&&(h.visible=a!==null),p!==null&&(p.visible=l!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new cp;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class l_{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new yt(e),this.density=t}clone(){return new l_(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class c_{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new yt(e),this.near=t,this.far=i}clone(){return new c_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class TE extends Ln{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new _a,this.environmentIntensity=1,this.environmentRotation=new _a,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class u_{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=E0,this.updateRanges=[],this.version=0,this.uuid=xa()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let s=0,a=this.stride;s<a;s++)this.array[e+s]=t.array[i+s];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const xr=new K;class vd{constructor(e,t,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)xr.fromBufferAttribute(this,t),xr.applyMatrix4(e),this.setXYZ(t,xr.x,xr.y,xr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)xr.fromBufferAttribute(this,t),xr.applyNormalMatrix(e),this.setXYZ(t,xr.x,xr.y,xr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)xr.fromBufferAttribute(this,t),xr.transformDirection(e),this.setXYZ(t,xr.x,xr.y,xr.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=wr(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=un(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=un(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=un(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=un(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=un(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=wr(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=wr(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=wr(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=wr(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=un(t,this.array),i=un(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=un(t,this.array),i=un(i,this.array),s=un(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=s,this}setXYZW(e,t,i,s,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=un(t,this.array),i=un(i,this.array),s=un(s,this.array),a=un(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=s,this.data.array[e+3]=a,this}clone(e){if(e===void 0){C0("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[s+a])}return new Nn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new vd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){C0("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[s+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class EE extends ir{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new yt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let jh;const Dg=new K,Gh=new K,Wh=new K,Xh=new ke,Pg=new ke,zO=new $t,yx=new K,Ig=new K,vx=new K,NR=new ke,uw=new ke,DR=new ke;class FO extends Ln{constructor(e=new EE){if(super(),this.isSprite=!0,this.type="Sprite",jh===void 0){jh=new Jt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new u_(t,5);jh.setIndex([0,1,2,0,2,3]),jh.setAttribute("position",new vd(i,3,0,!1)),jh.setAttribute("uv",new vd(i,2,3,!1))}this.geometry=jh,this.material=e,this.center=new ke(.5,.5),this.count=1}raycast(e,t){e.camera===null&&Ot('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Gh.setFromMatrixScale(this.matrixWorld),zO.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Wh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Gh.multiplyScalar(-Wh.z);const i=this.material.rotation;let s,a;i!==0&&(a=Math.cos(i),s=Math.sin(i));const l=this.center;xx(yx.set(-.5,-.5,0),Wh,l,Gh,s,a),xx(Ig.set(.5,-.5,0),Wh,l,Gh,s,a),xx(vx.set(.5,.5,0),Wh,l,Gh,s,a),NR.set(0,0),uw.set(1,0),DR.set(1,1);let u=e.ray.intersectTriangle(yx,Ig,vx,!1,Dg);if(u===null&&(xx(Ig.set(-.5,.5,0),Wh,l,Gh,s,a),uw.set(0,1),u=e.ray.intersectTriangle(yx,vx,Ig,!1,Dg),u===null))return;const h=e.ray.origin.distanceTo(Dg);h<e.near||h>e.far||t.push({distance:h,point:Dg.clone(),uv:Kr.getInterpolation(Dg,yx,Ig,vx,NR,uw,DR,new ke),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function xx(n,e,t,i,s,a){Xh.subVectors(n,t).addScalar(.5).multiply(i),s!==void 0?(Pg.x=a*Xh.x-s*Xh.y,Pg.y=s*Xh.x+a*Xh.y):Pg.copy(Xh),n.copy(e),n.x+=Pg.x,n.y+=Pg.y,n.applyMatrix4(zO)}const bx=new K,PR=new K;class BO extends Ln{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,s=t.length;i<s;i++){const a=t[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const s=this.levels;let a;for(a=0;a<s.length&&!(t<s[a].distance);a++);return s.splice(a,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const s=t.splice(i,1);return this.remove(s[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,s;for(i=1,s=t.length;i<s;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),e<a)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){bx.setFromMatrixPosition(this.matrixWorld);const s=e.ray.origin.distanceTo(bx);this.getObjectForDistance(s).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){bx.setFromMatrixPosition(e.matrixWorld),PR.setFromMatrixPosition(this.matrixWorld);const i=bx.distanceTo(PR)/e.zoom;t[0].object.visible=!0;let s,a;for(s=1,a=t.length;s<a;s++){let l=t[s].distance;if(t[s].object.visible&&(l-=l*t[s].hysteresis),i>=l)t[s-1].object.visible=!1,t[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<a;s++)t[s].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let s=0,a=i.length;s<a;s++){const l=i[s];t.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return t}}const IR=new K,LR=new ii,OR=new ii,iX=new K,UR=new $t,_x=new K,fw=new Bs,zR=new $t,dw=new Wp;class kO extends os{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=UM,this.bindMatrix=new $t,this.bindMatrixInverse=new $t,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new nr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,_x),this.boundingBox.expandByPoint(_x)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Bs),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,_x),this.boundingSphere.expandByPoint(_x)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,s=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),fw.copy(this.boundingSphere),fw.applyMatrix4(s),e.ray.intersectsSphere(fw)!==!1&&(zR.copy(s).invert(),dw.copy(e.ray).applyMatrix4(zR),!(this.boundingBox!==null&&dw.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,dw)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ii,t=this.geometry.attributes.skinWeight;for(let i=0,s=t.count;i<s;i++){e.fromBufferAttribute(t,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===UM?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===yO?this.bindMatrixInverse.copy(this.bindMatrix).invert():ht("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,s=this.geometry;LR.fromBufferAttribute(s.attributes.skinIndex,e),OR.fromBufferAttribute(s.attributes.skinWeight,e),IR.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const l=OR.getComponent(a);if(l!==0){const u=LR.getComponent(a);UR.multiplyMatrices(i.bones[u].matrixWorld,i.boneInverses[u]),t.addScaledVector(iX.copy(IR).applyMatrix4(UR),l)}}return t.applyMatrix4(this.bindMatrixInverse)}}class AE extends Ln{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Po extends ki{constructor(e=null,t=1,i=1,s,a,l,u,h,p=Zi,g=Zi,m,x){super(null,l,u,h,p,g,s,a,m,x),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const FR=new $t,sX=new $t;class f_{constructor(e=[],t=[]){this.uuid=xa(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){ht("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new $t)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new $t;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let a=0,l=e.length;a<l;a++){const u=e[a]?e[a].matrixWorld:sX;FR.multiplyMatrices(u,t[a]),FR.toArray(i,a*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new f_(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Po(t,e,e,tr,Tr);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const s=this.bones[t];if(s.name===e)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,s=e.bones.length;i<s;i++){const a=e.bones[i];let l=t[a];l===void 0&&(ht("Skeleton: No bone found with UUID:",a),l=new AE),this.bones.push(l),this.boneInverses.push(new $t().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let s=0,a=t.length;s<a;s++){const l=t[s];e.bones.push(l.uuid);const u=i[s];e.boneInverses.push(u.toArray())}return e}}class Ap extends Nn{constructor(e,t,i,s=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const qh=new $t,BR=new $t,Sx=[],kR=new nr,rX=new $t,Lg=new os,Og=new Bs;class VO extends os{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Ap(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<i;s++)this.setMatrixAt(s,rX)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new nr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,qh),kR.copy(e.boundingBox).applyMatrix4(qh),this.boundingBox.union(kR)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Bs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,qh),Og.copy(e.boundingSphere).applyMatrix4(qh),this.boundingSphere.union(Og)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,s=this.morphTexture.source.data.data,a=i.length+1,l=e*a+1;for(let u=0;u<i.length;u++)i[u]=s[l+u]}raycast(e,t){const i=this.matrixWorld,s=this.count;if(Lg.geometry=this.geometry,Lg.material=this.material,Lg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Og.copy(this.boundingSphere),Og.applyMatrix4(i),e.ray.intersectsSphere(Og)!==!1))for(let a=0;a<s;a++){this.getMatrixAt(a,qh),BR.multiplyMatrices(i,qh),Lg.matrixWorld=BR,Lg.raycast(e,Sx);for(let l=0,u=Sx.length;l<u;l++){const h=Sx[l];h.instanceId=a,h.object=this,t.push(h)}Sx.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Ap(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,s=i.length+1;this.morphTexture===null&&(this.morphTexture=new Po(new Float32Array(s*this.count),s,this.count,J1,Tr));const a=this.morphTexture.source.data.data;let l=0;for(let p=0;p<i.length;p++)l+=i[p];const u=this.geometry.morphTargetsRelative?1:1-l,h=s*e;a[h]=u,a.set(i,h+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const hw=new K,aX=new K,oX=new an;class Du{constructor(e=new K(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,s){return this.normal.set(e,t,i),this.constant=s,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const s=hw.subVectors(i,t).cross(aX.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(hw),s=this.normal.dot(i);if(s===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/s;return a<0||a>1?null:t.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||oX.getNormalMatrix(e),s=this.coplanarPoint(hw).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const jf=new Bs,lX=new ke(.5,.5),wx=new K;class Xp{constructor(e=new Du,t=new Du,i=new Du,s=new Du,a=new Du,l=new Du){this.planes=[e,t,i,s,a,l]}set(e,t,i,s,a,l){const u=this.planes;return u[0].copy(e),u[1].copy(t),u[2].copy(i),u[3].copy(s),u[4].copy(a),u[5].copy(l),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=ya,i=!1){const s=this.planes,a=e.elements,l=a[0],u=a[1],h=a[2],p=a[3],g=a[4],m=a[5],x=a[6],b=a[7],w=a[8],A=a[9],T=a[10],M=a[11],N=a[12],D=a[13],I=a[14],O=a[15];if(s[0].setComponents(p-l,b-g,M-w,O-N).normalize(),s[1].setComponents(p+l,b+g,M+w,O+N).normalize(),s[2].setComponents(p+u,b+m,M+A,O+D).normalize(),s[3].setComponents(p-u,b-m,M-A,O-D).normalize(),i)s[4].setComponents(h,x,T,I).normalize(),s[5].setComponents(p-h,b-x,M-T,O-I).normalize();else if(s[4].setComponents(p-h,b-x,M-T,O-I).normalize(),t===ya)s[5].setComponents(p+h,b+x,M+T,O+I).normalize();else if(t===Sp)s[5].setComponents(h,x,T,I).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),jf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),jf.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(jf)}intersectsSprite(e){jf.center.set(0,0,0);const t=lX.distanceTo(e.center);return jf.radius=.7071067811865476+t,jf.applyMatrix4(e.matrixWorld),this.intersectsSphere(jf)}intersectsSphere(e){const t=this.planes,i=e.center,s=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(i)<s)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const s=t[i];if(wx.x=s.normal.x>0?e.max.x:e.min.x,wx.y=s.normal.y>0?e.max.y:e.min.y,wx.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(wx)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const vl=new $t,xl=new Xp;class d_{constructor(){this.coordinateSystem=ya}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(vl.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),xl.setFromProjectionMatrix(vl,s.coordinateSystem,s.reversedDepth),xl.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(vl.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),xl.setFromProjectionMatrix(vl,s.coordinateSystem,s.reversedDepth),xl.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(vl.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),xl.setFromProjectionMatrix(vl,s.coordinateSystem,s.reversedDepth),xl.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(vl.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),xl.setFromProjectionMatrix(vl,s.coordinateSystem,s.reversedDepth),xl.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(vl.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),xl.setFromProjectionMatrix(vl,s.coordinateSystem,s.reversedDepth),xl.containsPoint(e))return!0}return!1}clone(){return new d_}}function pw(n,e){return n-e}function cX(n,e){return n.z-e.z}function uX(n,e){return e.z-n.z}class fX{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,s){const a=this.pool,l=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const u=a[this.index];l.push(u),this.index++,u.start=e,u.count=t,u.z=i,u.index=s}reset(){this.list.length=0,this.index=0}}const qr=new $t,dX=new yt(1,1,1),VR=new Xp,hX=new d_,Mx=new nr,Gf=new Bs,Ug=new K,HR=new K,pX=new K,mw=new fX,Js=new os,Tx=[];function mX(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const s=n.count;for(let a=0;a<s;a++)for(let l=0;l<i;l++)e.setComponent(a+t,l,n.getComponent(a,l))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Wf(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class HO extends os{constructor(e,t,i=t*2,s){super(new Jt,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Po(t,e,e,tr,Tr);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new Po(t,e,e,$0,Ka);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Po(t,e,e,tr,Tr);i.colorSpace=Rn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:u,itemSize:h,normalized:p}=l,g=new u.constructor(i*h),m=new Nn(g,h,p);t.setAttribute(a,m)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(s):new Uint16Array(s);t.setIndex(new Nn(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const s=e.getAttribute(i),a=t.getAttribute(i);if(s.itemSize!==a.itemSize||s.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new nr);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,s=t.length;i<s;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,qr),this.getBoundingBoxAt(a,Mx).applyMatrix4(qr),e.union(Mx)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Bs);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,s=t.length;i<s;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,qr),this.getBoundingSphereAt(a,Gf).applyMatrix4(qr),e.union(Gf)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let s=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(pw),s=this._availableInstanceIds.shift(),this._instanceInfo[s]=i):(s=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;qr.identity().toArray(a.image.data,s*16),a.needsUpdate=!0;const l=this._colorsTexture;return l&&(dX.toArray(l.image.data,s*4),l.needsUpdate=!0),this._visibilityChanged=!0,s}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const l=e.getIndex();if(l!==null&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=i===-1?l.count:i),s.indexStart!==-1&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let h;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(pw),h=this._availableGeometryIds.shift(),a[h]=s):(h=this._geometryCount,this._geometryCount++,a.push(s)),this.setGeometryAt(h,e),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,h}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,s=i.getIndex()!==null,a=i.getIndex(),l=t.getIndex(),u=this._geometryInfo[e];if(s&&l.count>u.reservedIndexCount||t.attributes.position.count>u.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const h=u.vertexStart,p=u.reservedVertexCount;u.vertexCount=t.getAttribute("position").count;for(const g in i.attributes){const m=t.getAttribute(g),x=i.getAttribute(g);mX(m,x,h);const b=m.itemSize;for(let w=m.count,A=p;w<A;w++){const T=h+w;for(let M=0;M<b;M++)x.setComponent(T,M,0)}x.needsUpdate=!0,x.addUpdateRange(h*b,p*b)}if(s){const g=u.indexStart,m=u.reservedIndexCount;u.indexCount=t.getIndex().count;for(let x=0;x<l.count;x++)a.setX(g+x,h+l.getX(x));for(let x=l.count,b=m;x<b;x++)a.setX(g+x,h);a.needsUpdate=!0,a.addUpdateRange(g,u.reservedIndexCount)}return u.start=s?u.indexStart:u.vertexStart,u.count=s?u.indexCount:u.vertexCount,u.boundingBox=null,t.boundingBox!==null&&(u.boundingBox=t.boundingBox.clone()),u.boundingSphere=null,t.boundingSphere!==null&&(u.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let s=0,a=i.length;s<a;s++)i[s].active&&i[s].geometryIndex===e&&this.deleteInstance(s);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,s=i.map((l,u)=>u).sort((l,u)=>i[l].vertexStart-i[u].vertexStart),a=this.geometry;for(let l=0,u=i.length;l<u;l++){const h=s[l],p=i[h];if(p.active!==!1){if(a.index!==null){if(p.indexStart!==t){const{indexStart:g,vertexStart:m,reservedIndexCount:x}=p,b=a.index,w=b.array,A=e-m;for(let T=g;T<g+x;T++)w[T]=w[T]+A;b.array.copyWithin(t,g,g+x),b.addUpdateRange(t,x),b.needsUpdate=!0,p.indexStart=t}t+=p.reservedIndexCount}if(p.vertexStart!==e){const{vertexStart:g,reservedVertexCount:m}=p,x=a.attributes;for(const b in x){const w=x[b],{array:A,itemSize:T}=w;A.copyWithin(e*T,g*T,(g+m)*T),w.addUpdateRange(e*T,m*T),w.needsUpdate=!0}p.vertexStart=e}e+=p.reservedVertexCount,p.start=a.index?p.indexStart:p.vertexStart,this._nextIndexStart=a.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this._visibilityChanged=!0,this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[e];if(s.boundingBox===null){const a=new nr,l=i.index,u=i.attributes.position;for(let h=s.start,p=s.start+s.count;h<p;h++){let g=h;l&&(g=l.getX(g)),a.expandByPoint(Ug.fromBufferAttribute(u,g))}s.boundingBox=a}return t.copy(s.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[e];if(s.boundingSphere===null){const a=new Bs;this.getBoundingBoxAt(e,Mx),Mx.getCenter(a.center);const l=i.index,u=i.attributes.position;let h=0;for(let p=s.start,g=s.start+s.count;p<g;p++){let m=p;l&&(m=l.getX(m)),Ug.fromBufferAttribute(u,m),h=Math.max(h,a.center.distanceToSquared(Ug))}a.radius=Math.sqrt(h),s.boundingSphere=a}return t.copy(s.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,s=this._matricesTexture.image.data;return t.toArray(s,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(pw);t[t.length-1]===i.length-1;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const s=new Int32Array(e),a=new Int32Array(e);Wf(this._multiDrawCounts,s),Wf(this._multiDrawStarts,a),this._multiDrawCounts=s,this._multiDrawStarts=a,this._maxInstanceCount=e;const l=this._indirectTexture,u=this._matricesTexture,h=this._colorsTexture;l.dispose(),this._initIndirectTexture(),Wf(l.image.data,this._indirectTexture.image.data),u.dispose(),this._initMatricesTexture(),Wf(u.image.data,this._matricesTexture.image.data),h&&(h.dispose(),this._initColorsTexture(),Wf(h.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(u=>u.active);if(Math.max(...i.map(u=>u.vertexStart+u.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(h=>h.indexStart+h.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Jt,this._initializeGeometry(a));const l=this.geometry;a.index&&Wf(a.index.array,l.index.array);for(const u in a.attributes)Wf(a.attributes[u].array,l.attributes[u].array)}raycast(e,t){const i=this._instanceInfo,s=this._geometryInfo,a=this.matrixWorld,l=this.geometry;Js.material=this.material,Js.geometry.index=l.index,Js.geometry.attributes=l.attributes,Js.geometry.boundingBox===null&&(Js.geometry.boundingBox=new nr),Js.geometry.boundingSphere===null&&(Js.geometry.boundingSphere=new Bs);for(let u=0,h=i.length;u<h;u++){if(!i[u].visible||!i[u].active)continue;const p=i[u].geometryIndex,g=s[p];Js.geometry.setDrawRange(g.start,g.count),this.getMatrixAt(u,Js.matrixWorld).premultiply(a),this.getBoundingBoxAt(p,Js.geometry.boundingBox),this.getBoundingSphereAt(p,Js.geometry.boundingSphere),Js.raycast(e,Tx);for(let m=0,x=Tx.length;m<x;m++){const b=Tx[m];b.object=this,b.batchId=u,t.push(b)}Tx.length=0}Js.material=null,Js.geometry.index=null,Js.geometry.attributes={},Js.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,s,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const l=s.getIndex(),u=l===null?1:l.array.BYTES_PER_ELEMENT,h=this._instanceInfo,p=this._multiDrawStarts,g=this._multiDrawCounts,m=this._geometryInfo,x=this.perObjectFrustumCulled,b=this._indirectTexture,w=b.image.data,A=i.isArrayCamera?hX:VR;x&&!i.isArrayCamera&&(qr.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),VR.setFromProjectionMatrix(qr,i.coordinateSystem,i.reversedDepth));let T=0;if(this.sortObjects){qr.copy(this.matrixWorld).invert(),Ug.setFromMatrixPosition(i.matrixWorld).applyMatrix4(qr),HR.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(qr);for(let D=0,I=h.length;D<I;D++)if(h[D].visible&&h[D].active){const O=h[D].geometryIndex;this.getMatrixAt(D,qr),this.getBoundingSphereAt(O,Gf).applyMatrix4(qr);let F=!1;if(x&&(F=!A.intersectsSphere(Gf,i)),!F){const B=m[O],H=pX.subVectors(Gf.center,Ug).dot(HR);mw.push(B.start,B.count,H,D)}}const M=mw.list,N=this.customSort;N===null?M.sort(a.transparent?uX:cX):N.call(this,M,i);for(let D=0,I=M.length;D<I;D++){const O=M[D];p[T]=O.start*u,g[T]=O.count,w[T]=O.index,T++}mw.reset()}else for(let M=0,N=h.length;M<N;M++)if(h[M].visible&&h[M].active){const D=h[M].geometryIndex;let I=!1;if(x&&(this.getMatrixAt(M,qr),this.getBoundingSphereAt(D,Gf).applyMatrix4(qr),I=!A.intersectsSphere(Gf,i)),!I){const O=m[D];p[T]=O.start*u,g[T]=O.count,w[T]=M,T++}}b.needsUpdate=!0,this._multiDrawCount=T,this._visibilityChanged=!1}onBeforeShadow(e,t,i,s,a,l){this.onBeforeRender(e,null,s,a,l)}}class Ar extends ir{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new yt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const m1=new K,g1=new K,jR=new $t,zg=new Wp,Ex=new Bs,gw=new K,GR=new K;class Wu extends Ln{constructor(e=new Jt,t=new Ar){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let s=1,a=t.count;s<a;s++)m1.fromBufferAttribute(t,s-1),g1.fromBufferAttribute(t,s),i[s]=i[s-1],i[s]+=m1.distanceTo(g1);e.setAttribute("lineDistance",new Tt(i,1))}else ht("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,s=this.matrixWorld,a=e.params.Line.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ex.copy(i.boundingSphere),Ex.applyMatrix4(s),Ex.radius+=a,e.ray.intersectsSphere(Ex)===!1)return;jR.copy(s).invert(),zg.copy(e.ray).applyMatrix4(jR);const u=a/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,p=this.isLineSegments?2:1,g=i.index,x=i.attributes.position;if(g!==null){const b=Math.max(0,l.start),w=Math.min(g.count,l.start+l.count);for(let A=b,T=w-1;A<T;A+=p){const M=g.getX(A),N=g.getX(A+1),D=Ax(this,e,zg,h,M,N,A);D&&t.push(D)}if(this.isLineLoop){const A=g.getX(w-1),T=g.getX(b),M=Ax(this,e,zg,h,A,T,w-1);M&&t.push(M)}}else{const b=Math.max(0,l.start),w=Math.min(x.count,l.start+l.count);for(let A=b,T=w-1;A<T;A+=p){const M=Ax(this,e,zg,h,A,A+1,A);M&&t.push(M)}if(this.isLineLoop){const A=Ax(this,e,zg,h,w-1,b,w-1);A&&t.push(A)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const s=t[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,l=s.length;a<l;a++){const u=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=a}}}}}function Ax(n,e,t,i,s,a,l){const u=n.geometry.attributes.position;if(m1.fromBufferAttribute(u,s),g1.fromBufferAttribute(u,a),t.distanceSqToSegment(m1,g1,gw,GR)>i)return;gw.applyMatrix4(n.matrixWorld);const p=e.ray.origin.distanceTo(gw);if(!(p<e.near||p>e.far))return{distance:p,point:GR.clone().applyMatrix4(n.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:n}}const WR=new K,XR=new K;class Ul extends Wu{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let s=0,a=t.count;s<a;s+=2)WR.fromBufferAttribute(t,s),XR.fromBufferAttribute(t,s+1),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+WR.distanceTo(XR);e.setAttribute("lineDistance",new Tt(i,1))}else ht("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class jO extends Wu{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class CE extends ir{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new yt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const qR=new $t,BM=new Wp,Cx=new Bs,Rx=new K;class GO extends Ln{constructor(e=new Jt,t=new CE){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,s=this.matrixWorld,a=e.params.Points.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Cx.copy(i.boundingSphere),Cx.applyMatrix4(s),Cx.radius+=a,e.ray.intersectsSphere(Cx)===!1)return;qR.copy(s).invert(),BM.copy(e.ray).applyMatrix4(qR);const u=a/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,p=i.index,m=i.attributes.position;if(p!==null){const x=Math.max(0,l.start),b=Math.min(p.count,l.start+l.count);for(let w=x,A=b;w<A;w++){const T=p.getX(w);Rx.fromBufferAttribute(m,T),YR(Rx,T,h,s,e,t,this)}}else{const x=Math.max(0,l.start),b=Math.min(m.count,l.start+l.count);for(let w=x,A=b;w<A;w++)Rx.fromBufferAttribute(m,w),YR(Rx,w,h,s,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const s=t[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,l=s.length;a<l;a++){const u=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=a}}}}}function YR(n,e,t,i,s,a,l){const u=BM.distanceSqToPoint(n);if(u<t){const h=new K;BM.closestPointToPoint(n,h),h.applyMatrix4(i);const p=s.ray.origin.distanceTo(h);if(p<s.near||p>s.far)return;a.push({distance:p,distanceToRay:Math.sqrt(u),point:h,index:e,face:null,faceIndex:null,barycoord:null,object:l})}}class WO extends ki{constructor(e,t,i,s,a=gi,l=gi,u,h,p){super(e,t,i,s,a,l,u,h,p),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const g=this;function m(){g.needsUpdate=!0,g._requestVideoFrameCallbackId=e.requestVideoFrameCallback(m)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(m))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class gX extends WO{constructor(e,t,i,s,a,l,u,h){super({},e,t,i,s,a,l,u,h),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class yX extends ki{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Zi,this.minFilter=Zi,this.generateMipmaps=!1,this.needsUpdate=!0}}class h_ extends ki{constructor(e,t,i,s,a,l,u,h,p,g,m,x){super(null,l,u,h,p,g,s,a,m,x),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class vX extends h_{constructor(e,t,i,s,a,l){super(e,t,i,a,l),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=Jr,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class xX extends h_{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Nl),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class bX extends ki{constructor(e,t,i,s,a,l,u,h,p){super(e,t,i,s,a,l,u,h,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Cp extends ki{constructor(e,t,i=Ka,s,a,l,u=Zi,h=Zi,p,g=Pl,m=1){if(g!==Pl&&g!==Lu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const x={width:e,height:t,depth:m};super(x,s,a,l,u,h,g,i,p),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Ou(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class XO extends Cp{constructor(e,t=Ka,i=Nl,s,a,l=Zi,u=Zi,h,p=Pl){const g={width:e,height:e,depth:1},m=[g,g,g,g,g,g];super(e,e,t,i,s,a,l,u,h,p),this.image=m,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class RE extends ki{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class p_ extends Jt{constructor(e=1,t=1,i=4,s=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:s,heightSegments:a},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),s=Math.max(3,Math.floor(s)),a=Math.max(1,Math.floor(a));const l=[],u=[],h=[],p=[],g=t/2,m=Math.PI/2*e,x=t,b=2*m+x,w=i*2+a,A=s+1,T=new K,M=new K;for(let N=0;N<=w;N++){let D=0,I=0,O=0,F=0;if(N<=i){const z=N/i,k=z*Math.PI/2;I=-g-e*Math.cos(k),O=e*Math.sin(k),F=-e*Math.cos(k),D=z*m}else if(N<=i+a){const z=(N-i)/a;I=-g+z*t,O=e,F=0,D=m+z*x}else{const z=(N-i-a)/i,k=z*Math.PI/2;I=g+e*Math.sin(k),O=e*Math.cos(k),F=e*Math.sin(k),D=m+x+z*m}const B=Math.max(0,Math.min(1,D/b));let H=0;N===0?H=.5/s:N===w&&(H=-.5/s);for(let z=0;z<=s;z++){const k=z/s,$=k*Math.PI*2,se=Math.sin($),ee=Math.cos($);M.x=-O*ee,M.y=I,M.z=O*se,u.push(M.x,M.y,M.z),T.set(-O*ee,F,O*se),T.normalize(),h.push(T.x,T.y,T.z),p.push(k+H,B)}if(N>0){const z=(N-1)*A;for(let k=0;k<s;k++){const $=z+k,se=z+k+1,ee=N*A+k,ne=N*A+k+1;l.push($,se,ee),l.push(se,ne,ee)}}}this.setIndex(l),this.setAttribute("position",new Tt(u,3)),this.setAttribute("normal",new Tt(h,3)),this.setAttribute("uv",new Tt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new p_(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class m_ extends Jt{constructor(e=1,t=32,i=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:s},t=Math.max(3,t);const a=[],l=[],u=[],h=[],p=new K,g=new ke;l.push(0,0,0),u.push(0,0,1),h.push(.5,.5);for(let m=0,x=3;m<=t;m++,x+=3){const b=i+m/t*s;p.x=e*Math.cos(b),p.y=e*Math.sin(b),l.push(p.x,p.y,p.z),u.push(0,0,1),g.x=(l[x]/e+1)/2,g.y=(l[x+1]/e+1)/2,h.push(g.x,g.y)}for(let m=1;m<=t;m++)a.push(m,m+1,0);this.setIndex(a),this.setAttribute("position",new Tt(l,3)),this.setAttribute("normal",new Tt(u,3)),this.setAttribute("uv",new Tt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new m_(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class K0 extends Jt{constructor(e=1,t=1,i=1,s=32,a=1,l=!1,u=0,h=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:s,heightSegments:a,openEnded:l,thetaStart:u,thetaLength:h};const p=this;s=Math.floor(s),a=Math.floor(a);const g=[],m=[],x=[],b=[];let w=0;const A=[],T=i/2;let M=0;N(),l===!1&&(e>0&&D(!0),t>0&&D(!1)),this.setIndex(g),this.setAttribute("position",new Tt(m,3)),this.setAttribute("normal",new Tt(x,3)),this.setAttribute("uv",new Tt(b,2));function N(){const I=new K,O=new K;let F=0;const B=(t-e)/i;for(let H=0;H<=a;H++){const z=[],k=H/a,$=k*(t-e)+e;for(let se=0;se<=s;se++){const ee=se/s,ne=ee*h+u,ae=Math.sin(ne),X=Math.cos(ne);O.x=$*ae,O.y=-k*i+T,O.z=$*X,m.push(O.x,O.y,O.z),I.set(ae,B,X).normalize(),x.push(I.x,I.y,I.z),b.push(ee,1-k),z.push(w++)}A.push(z)}for(let H=0;H<s;H++)for(let z=0;z<a;z++){const k=A[z][H],$=A[z+1][H],se=A[z+1][H+1],ee=A[z][H+1];(e>0||z!==0)&&(g.push(k,$,ee),F+=3),(t>0||z!==a-1)&&(g.push($,se,ee),F+=3)}p.addGroup(M,F,0),M+=F}function D(I){const O=w,F=new ke,B=new K;let H=0;const z=I===!0?e:t,k=I===!0?1:-1;for(let se=1;se<=s;se++)m.push(0,T*k,0),x.push(0,k,0),b.push(.5,.5),w++;const $=w;for(let se=0;se<=s;se++){const ne=se/s*h+u,ae=Math.cos(ne),X=Math.sin(ne);B.x=z*X,B.y=T*k,B.z=z*ae,m.push(B.x,B.y,B.z),x.push(0,k,0),F.x=ae*.5+.5,F.y=X*.5*k+.5,b.push(F.x,F.y),w++}for(let se=0;se<s;se++){const ee=O+se,ne=$+se;I===!0?g.push(ne,ne+1,ee):g.push(ne+1,ne,ee),H+=3}p.addGroup(M,H,I===!0?1:2),M+=H}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new K0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Q0 extends K0{constructor(e=1,t=1,i=32,s=1,a=!1,l=0,u=Math.PI*2){super(0,e,t,i,s,a,l,u),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:l,thetaLength:u}}static fromJSON(e){return new Q0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Zu extends Jt{constructor(e=[],t=[],i=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:s};const a=[],l=[];u(s),p(i),g(),this.setAttribute("position",new Tt(a,3)),this.setAttribute("normal",new Tt(a.slice(),3)),this.setAttribute("uv",new Tt(l,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function u(N){const D=new K,I=new K,O=new K;for(let F=0;F<t.length;F+=3)b(t[F+0],D),b(t[F+1],I),b(t[F+2],O),h(D,I,O,N)}function h(N,D,I,O){const F=O+1,B=[];for(let H=0;H<=F;H++){B[H]=[];const z=N.clone().lerp(I,H/F),k=D.clone().lerp(I,H/F),$=F-H;for(let se=0;se<=$;se++)se===0&&H===F?B[H][se]=z:B[H][se]=z.clone().lerp(k,se/$)}for(let H=0;H<F;H++)for(let z=0;z<2*(F-H)-1;z++){const k=Math.floor(z/2);z%2===0?(x(B[H][k+1]),x(B[H+1][k]),x(B[H][k])):(x(B[H][k+1]),x(B[H+1][k+1]),x(B[H+1][k]))}}function p(N){const D=new K;for(let I=0;I<a.length;I+=3)D.x=a[I+0],D.y=a[I+1],D.z=a[I+2],D.normalize().multiplyScalar(N),a[I+0]=D.x,a[I+1]=D.y,a[I+2]=D.z}function g(){const N=new K;for(let D=0;D<a.length;D+=3){N.x=a[D+0],N.y=a[D+1],N.z=a[D+2];const I=T(N)/2/Math.PI+.5,O=M(N)/Math.PI+.5;l.push(I,1-O)}w(),m()}function m(){for(let N=0;N<l.length;N+=6){const D=l[N+0],I=l[N+2],O=l[N+4],F=Math.max(D,I,O),B=Math.min(D,I,O);F>.9&&B<.1&&(D<.2&&(l[N+0]+=1),I<.2&&(l[N+2]+=1),O<.2&&(l[N+4]+=1))}}function x(N){a.push(N.x,N.y,N.z)}function b(N,D){const I=N*3;D.x=e[I+0],D.y=e[I+1],D.z=e[I+2]}function w(){const N=new K,D=new K,I=new K,O=new K,F=new ke,B=new ke,H=new ke;for(let z=0,k=0;z<a.length;z+=9,k+=6){N.set(a[z+0],a[z+1],a[z+2]),D.set(a[z+3],a[z+4],a[z+5]),I.set(a[z+6],a[z+7],a[z+8]),F.set(l[k+0],l[k+1]),B.set(l[k+2],l[k+3]),H.set(l[k+4],l[k+5]),O.copy(N).add(D).add(I).divideScalar(3);const $=T(O);A(F,k+0,N,$),A(B,k+2,D,$),A(H,k+4,I,$)}}function A(N,D,I,O){O<0&&N.x===1&&(l[D]=N.x-1),I.x===0&&I.z===0&&(l[D]=O/2/Math.PI+.5)}function T(N){return Math.atan2(N.z,-N.x)}function M(N){return Math.atan2(-N.y,Math.sqrt(N.x*N.x+N.z*N.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zu(e.vertices,e.indices,e.radius,e.detail)}}class g_ extends Zu{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,s=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,l,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new g_(e.radius,e.detail)}}const Nx=new K,Dx=new K,yw=new K,Px=new Kr;class qO extends Jt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const s=Math.pow(10,4),a=Math.cos(dd*t),l=e.getIndex(),u=e.getAttribute("position"),h=l?l.count:u.count,p=[0,0,0],g=["a","b","c"],m=new Array(3),x={},b=[];for(let w=0;w<h;w+=3){l?(p[0]=l.getX(w),p[1]=l.getX(w+1),p[2]=l.getX(w+2)):(p[0]=w,p[1]=w+1,p[2]=w+2);const{a:A,b:T,c:M}=Px;if(A.fromBufferAttribute(u,p[0]),T.fromBufferAttribute(u,p[1]),M.fromBufferAttribute(u,p[2]),Px.getNormal(yw),m[0]=`${Math.round(A.x*s)},${Math.round(A.y*s)},${Math.round(A.z*s)}`,m[1]=`${Math.round(T.x*s)},${Math.round(T.y*s)},${Math.round(T.z*s)}`,m[2]=`${Math.round(M.x*s)},${Math.round(M.y*s)},${Math.round(M.z*s)}`,!(m[0]===m[1]||m[1]===m[2]||m[2]===m[0]))for(let N=0;N<3;N++){const D=(N+1)%3,I=m[N],O=m[D],F=Px[g[N]],B=Px[g[D]],H=`${I}_${O}`,z=`${O}_${I}`;z in x&&x[z]?(yw.dot(x[z].normal)<=a&&(b.push(F.x,F.y,F.z),b.push(B.x,B.y,B.z)),x[z]=null):H in x||(x[H]={index0:p[N],index1:p[D],normal:yw.clone()})}}for(const w in x)if(x[w]){const{index0:A,index1:T}=x[w];Nx.fromBufferAttribute(u,A),Dx.fromBufferAttribute(u,T),b.push(Nx.x,Nx.y,Nx.z),b.push(Dx.x,Dx.y,Dx.z)}this.setAttribute("position",new Tt(b,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Fo{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){ht("Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,s=this.getPoint(0),a=0;t.push(0);for(let l=1;l<=e;l++)i=this.getPoint(l/e),a+=i.distanceTo(s),t.push(a),s=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let s=0;const a=i.length;let l;t?l=t:l=e*i[a-1];let u=0,h=a-1,p;for(;u<=h;)if(s=Math.floor(u+(h-u)/2),p=i[s]-l,p<0)u=s+1;else if(p>0)h=s-1;else{h=s;break}if(s=h,i[s]===l)return s/(a-1);const g=i[s],x=i[s+1]-g,b=(l-g)/x;return(s+b)/(a-1)}getTangent(e,t){let s=e-1e-4,a=e+1e-4;s<0&&(s=0),a>1&&(a=1);const l=this.getPoint(s),u=this.getPoint(a),h=t||(l.isVector2?new ke:new K);return h.copy(u).sub(l).normalize(),h}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new K,s=[],a=[],l=[],u=new K,h=new $t;for(let b=0;b<=e;b++){const w=b/e;s[b]=this.getTangentAt(w,new K)}a[0]=new K,l[0]=new K;let p=Number.MAX_VALUE;const g=Math.abs(s[0].x),m=Math.abs(s[0].y),x=Math.abs(s[0].z);g<=p&&(p=g,i.set(1,0,0)),m<=p&&(p=m,i.set(0,1,0)),x<=p&&i.set(0,0,1),u.crossVectors(s[0],i).normalize(),a[0].crossVectors(s[0],u),l[0].crossVectors(s[0],a[0]);for(let b=1;b<=e;b++){if(a[b]=a[b-1].clone(),l[b]=l[b-1].clone(),u.crossVectors(s[b-1],s[b]),u.length()>Number.EPSILON){u.normalize();const w=Math.acos(Yt(s[b-1].dot(s[b]),-1,1));a[b].applyMatrix4(h.makeRotationAxis(u,w))}l[b].crossVectors(s[b],a[b])}if(t===!0){let b=Math.acos(Yt(a[0].dot(a[e]),-1,1));b/=e,s[0].dot(u.crossVectors(a[0],a[e]))>0&&(b=-b);for(let w=1;w<=e;w++)a[w].applyMatrix4(h.makeRotationAxis(s[w],b*w)),l[w].crossVectors(s[w],a[w])}return{tangents:s,normals:a,binormals:l}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class y_ extends Fo{constructor(e=0,t=0,i=1,s=1,a=0,l=Math.PI*2,u=!1,h=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=s,this.aStartAngle=a,this.aEndAngle=l,this.aClockwise=u,this.aRotation=h}getPoint(e,t=new ke){const i=t,s=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const l=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=s;for(;a>s;)a-=s;a<Number.EPSILON&&(l?a=0:a=s),this.aClockwise===!0&&!l&&(a===s?a=-s:a=a-s);const u=this.aStartAngle+e*a;let h=this.aX+this.xRadius*Math.cos(u),p=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const g=Math.cos(this.aRotation),m=Math.sin(this.aRotation),x=h-this.aX,b=p-this.aY;h=x*g-b*m+this.aX,p=x*m+b*g+this.aY}return i.set(h,p)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class YO extends y_{constructor(e,t,i,s,a,l){super(e,t,i,i,s,a,l),this.isArcCurve=!0,this.type="ArcCurve"}}function NE(){let n=0,e=0,t=0,i=0;function s(a,l,u,h){n=a,e=u,t=-3*a+3*l-2*u-h,i=2*a-2*l+u+h}return{initCatmullRom:function(a,l,u,h,p){s(l,u,p*(u-a),p*(h-l))},initNonuniformCatmullRom:function(a,l,u,h,p,g,m){let x=(l-a)/p-(u-a)/(p+g)+(u-l)/g,b=(u-l)/g-(h-l)/(g+m)+(h-u)/m;x*=g,b*=g,s(l,u,x,b)},calc:function(a){const l=a*a,u=l*a;return n+e*a+t*l+i*u}}}const Ix=new K,vw=new NE,xw=new NE,bw=new NE;class $O extends Fo{constructor(e=[],t=!1,i="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=s}getPoint(e,t=new K){const i=t,s=this.points,a=s.length,l=(a-(this.closed?0:1))*e;let u=Math.floor(l),h=l-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/a)+1)*a:h===0&&u===a-1&&(u=a-2,h=1);let p,g;this.closed||u>0?p=s[(u-1)%a]:(Ix.subVectors(s[0],s[1]).add(s[0]),p=Ix);const m=s[u%a],x=s[(u+1)%a];if(this.closed||u+2<a?g=s[(u+2)%a]:(Ix.subVectors(s[a-1],s[a-2]).add(s[a-1]),g=Ix),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let w=Math.pow(p.distanceToSquared(m),b),A=Math.pow(m.distanceToSquared(x),b),T=Math.pow(x.distanceToSquared(g),b);A<1e-4&&(A=1),w<1e-4&&(w=A),T<1e-4&&(T=A),vw.initNonuniformCatmullRom(p.x,m.x,x.x,g.x,w,A,T),xw.initNonuniformCatmullRom(p.y,m.y,x.y,g.y,w,A,T),bw.initNonuniformCatmullRom(p.z,m.z,x.z,g.z,w,A,T)}else this.curveType==="catmullrom"&&(vw.initCatmullRom(p.x,m.x,x.x,g.x,this.tension),xw.initCatmullRom(p.y,m.y,x.y,g.y,this.tension),bw.initCatmullRom(p.z,m.z,x.z,g.z,this.tension));return i.set(vw.calc(h),xw.calc(h),bw.calc(h)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(s.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const s=this.points[t];e.points.push(s.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(new K().fromArray(s))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function $R(n,e,t,i,s){const a=(i-e)*.5,l=(s-t)*.5,u=n*n,h=n*u;return(2*t-2*i+a+l)*h+(-3*t+3*i-2*a-l)*u+a*n+t}function _X(n,e){const t=1-n;return t*t*e}function SX(n,e){return 2*(1-n)*n*e}function wX(n,e){return n*n*e}function r0(n,e,t,i){return _X(n,e)+SX(n,t)+wX(n,i)}function MX(n,e){const t=1-n;return t*t*t*e}function TX(n,e){const t=1-n;return 3*t*t*n*e}function EX(n,e){return 3*(1-n)*n*n*e}function AX(n,e){return n*n*n*e}function a0(n,e,t,i,s){return MX(n,e)+TX(n,t)+EX(n,i)+AX(n,s)}class DE extends Fo{constructor(e=new ke,t=new ke,i=new ke,s=new ke){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=s}getPoint(e,t=new ke){const i=t,s=this.v0,a=this.v1,l=this.v2,u=this.v3;return i.set(a0(e,s.x,a.x,l.x,u.x),a0(e,s.y,a.y,l.y,u.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ZO extends Fo{constructor(e=new K,t=new K,i=new K,s=new K){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=s}getPoint(e,t=new K){const i=t,s=this.v0,a=this.v1,l=this.v2,u=this.v3;return i.set(a0(e,s.x,a.x,l.x,u.x),a0(e,s.y,a.y,l.y,u.y),a0(e,s.z,a.z,l.z,u.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class PE extends Fo{constructor(e=new ke,t=new ke){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ke){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ke){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class KO extends Fo{constructor(e=new K,t=new K){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new K){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new K){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class IE extends Fo{constructor(e=new ke,t=new ke,i=new ke){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ke){const i=t,s=this.v0,a=this.v1,l=this.v2;return i.set(r0(e,s.x,a.x,l.x),r0(e,s.y,a.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LE extends Fo{constructor(e=new K,t=new K,i=new K){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new K){const i=t,s=this.v0,a=this.v1,l=this.v2;return i.set(r0(e,s.x,a.x,l.x),r0(e,s.y,a.y,l.y),r0(e,s.z,a.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class OE extends Fo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ke){const i=t,s=this.points,a=(s.length-1)*e,l=Math.floor(a),u=a-l,h=s[l===0?l:l-1],p=s[l],g=s[l>s.length-2?s.length-1:l+1],m=s[l>s.length-3?s.length-1:l+2];return i.set($R(u,h.x,p.x,g.x,m.x),$R(u,h.y,p.y,g.y,m.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const s=this.points[t];e.points.push(s.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(new ke().fromArray(s))}return this}}var y1=Object.freeze({__proto__:null,ArcCurve:YO,CatmullRomCurve3:$O,CubicBezierCurve:DE,CubicBezierCurve3:ZO,EllipseCurve:y_,LineCurve:PE,LineCurve3:KO,QuadraticBezierCurve:IE,QuadraticBezierCurve3:LE,SplineCurve:OE});class QO extends Fo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new y1[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),s=this.getCurveLengths();let a=0;for(;a<s.length;){if(s[a]>=i){const l=s[a]-i,u=this.curves[a],h=u.getLength(),p=h===0?0:1-l/h;return u.getPointAt(p,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,s=this.curves.length;i<s;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let s=0,a=this.curves;s<a.length;s++){const l=a[s],u=l.isEllipseCurve?e*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?e*l.points.length:e,h=l.getPoints(u);for(let p=0;p<h.length;p++){const g=h[p];i&&i.equals(g)||(t.push(g),i=g)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const s=e.curves[t];this.curves.push(s.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const s=this.curves[t];e.curves.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const s=e.curves[t];this.curves.push(new y1[s.type]().fromJSON(s))}return this}}class v1 extends QO{constructor(e){super(),this.type="Path",this.currentPoint=new ke,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new PE(this.currentPoint.clone(),new ke(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,s){const a=new IE(this.currentPoint.clone(),new ke(e,t),new ke(i,s));return this.curves.push(a),this.currentPoint.set(i,s),this}bezierCurveTo(e,t,i,s,a,l){const u=new DE(this.currentPoint.clone(),new ke(e,t),new ke(i,s),new ke(a,l));return this.curves.push(u),this.currentPoint.set(a,l),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new OE(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,s,a,l){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(e+u,t+h,i,s,a,l),this}absarc(e,t,i,s,a,l){return this.absellipse(e,t,i,i,s,a,l),this}ellipse(e,t,i,s,a,l,u,h){const p=this.currentPoint.x,g=this.currentPoint.y;return this.absellipse(e+p,t+g,i,s,a,l,u,h),this}absellipse(e,t,i,s,a,l,u,h){const p=new y_(e,t,i,s,a,l,u,h);if(this.curves.length>0){const m=p.getPoint(0);m.equals(this.currentPoint)||this.lineTo(m.x,m.y)}this.curves.push(p);const g=p.getPoint(1);return this.currentPoint.copy(g),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class hd extends v1{constructor(e){super(e),this.uuid=xa(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,s=this.holes.length;i<s;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const s=e.holes[t];this.holes.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const s=this.holes[t];e.holes.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const s=e.holes[t];this.holes.push(new v1().fromJSON(s))}return this}}function CX(n,e,t=2){const i=e&&e.length,s=i?e[0]*t:n.length;let a=JO(n,0,s,t,!0);const l=[];if(!a||a.next===a.prev)return l;let u,h,p;if(i&&(a=IX(n,e,a,t)),n.length>80*t){u=n[0],h=n[1];let g=u,m=h;for(let x=t;x<s;x+=t){const b=n[x],w=n[x+1];b<u&&(u=b),w<h&&(h=w),b>g&&(g=b),w>m&&(m=w)}p=Math.max(g-u,m-h),p=p!==0?32767/p:0}return R0(a,l,t,u,h,p,0),l}function JO(n,e,t,i,s){let a;if(s===GX(n,e,t,i)>0)for(let l=e;l<t;l+=i)a=ZR(l/i|0,n[l],n[l+1],a);else for(let l=t-i;l>=e;l-=i)a=ZR(l/i|0,n[l],n[l+1],a);return a&&Rp(a,a.next)&&(D0(a),a=a.next),a}function xd(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Rp(t,t.next)||Ri(t.prev,t,t.next)===0)){if(D0(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function R0(n,e,t,i,s,a,l){if(!n)return;!l&&a&&FX(n,i,s,a);let u=n;for(;n.prev!==n.next;){const h=n.prev,p=n.next;if(a?NX(n,i,s,a):RX(n)){e.push(h.i,n.i,p.i),D0(n),n=p.next,u=p.next;continue}if(n=p,n===u){l?l===1?(n=DX(xd(n),e),R0(n,e,t,i,s,a,2)):l===2&&PX(n,e,t,i,s,a):R0(xd(n),e,t,i,s,a,1);break}}}function RX(n){const e=n.prev,t=n,i=n.next;if(Ri(e,t,i)>=0)return!1;const s=e.x,a=t.x,l=i.x,u=e.y,h=t.y,p=i.y,g=Math.min(s,a,l),m=Math.min(u,h,p),x=Math.max(s,a,l),b=Math.max(u,h,p);let w=i.next;for(;w!==e;){if(w.x>=g&&w.x<=x&&w.y>=m&&w.y<=b&&Hg(s,u,a,h,l,p,w.x,w.y)&&Ri(w.prev,w,w.next)>=0)return!1;w=w.next}return!0}function NX(n,e,t,i){const s=n.prev,a=n,l=n.next;if(Ri(s,a,l)>=0)return!1;const u=s.x,h=a.x,p=l.x,g=s.y,m=a.y,x=l.y,b=Math.min(u,h,p),w=Math.min(g,m,x),A=Math.max(u,h,p),T=Math.max(g,m,x),M=kM(b,w,e,t,i),N=kM(A,T,e,t,i);let D=n.prevZ,I=n.nextZ;for(;D&&D.z>=M&&I&&I.z<=N;){if(D.x>=b&&D.x<=A&&D.y>=w&&D.y<=T&&D!==s&&D!==l&&Hg(u,g,h,m,p,x,D.x,D.y)&&Ri(D.prev,D,D.next)>=0||(D=D.prevZ,I.x>=b&&I.x<=A&&I.y>=w&&I.y<=T&&I!==s&&I!==l&&Hg(u,g,h,m,p,x,I.x,I.y)&&Ri(I.prev,I,I.next)>=0))return!1;I=I.nextZ}for(;D&&D.z>=M;){if(D.x>=b&&D.x<=A&&D.y>=w&&D.y<=T&&D!==s&&D!==l&&Hg(u,g,h,m,p,x,D.x,D.y)&&Ri(D.prev,D,D.next)>=0)return!1;D=D.prevZ}for(;I&&I.z<=N;){if(I.x>=b&&I.x<=A&&I.y>=w&&I.y<=T&&I!==s&&I!==l&&Hg(u,g,h,m,p,x,I.x,I.y)&&Ri(I.prev,I,I.next)>=0)return!1;I=I.nextZ}return!0}function DX(n,e){let t=n;do{const i=t.prev,s=t.next.next;!Rp(i,s)&&tU(i,t,t.next,s)&&N0(i,s)&&N0(s,i)&&(e.push(i.i,t.i,s.i),D0(t),D0(t.next),t=n=s),t=t.next}while(t!==n);return xd(t)}function PX(n,e,t,i,s,a){let l=n;do{let u=l.next.next;for(;u!==l.prev;){if(l.i!==u.i&&VX(l,u)){let h=nU(l,u);l=xd(l,l.next),h=xd(h,h.next),R0(l,e,t,i,s,a,0),R0(h,e,t,i,s,a,0);return}u=u.next}l=l.next}while(l!==n)}function IX(n,e,t,i){const s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a]*i,h=a<l-1?e[a+1]*i:n.length,p=JO(n,u,h,i,!1);p===p.next&&(p.steiner=!0),s.push(kX(p))}s.sort(LX);for(let a=0;a<s.length;a++)t=OX(s[a],t);return t}function LX(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),s=(e.next.y-e.y)/(e.next.x-e.x);t=i-s}return t}function OX(n,e){const t=UX(n,e);if(!t)return e;const i=nU(t,n);return xd(i,i.next),xd(t,t.next)}function UX(n,e){let t=e;const i=n.x,s=n.y;let a=-1/0,l;if(Rp(n,t))return t;do{if(Rp(n,t.next))return t.next;if(s<=t.y&&s>=t.next.y&&t.next.y!==t.y){const m=t.x+(s-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(m<=i&&m>a&&(a=m,l=t.x<t.next.x?t:t.next,m===i))return l}t=t.next}while(t!==e);if(!l)return null;const u=l,h=l.x,p=l.y;let g=1/0;t=l;do{if(i>=t.x&&t.x>=h&&i!==t.x&&eU(s<p?i:a,s,h,p,s<p?a:i,s,t.x,t.y)){const m=Math.abs(s-t.y)/(i-t.x);N0(t,n)&&(m<g||m===g&&(t.x>l.x||t.x===l.x&&zX(l,t)))&&(l=t,g=m)}t=t.next}while(t!==u);return l}function zX(n,e){return Ri(n.prev,n,e.prev)<0&&Ri(e.next,n,n.next)<0}function FX(n,e,t,i){let s=n;do s.z===0&&(s.z=kM(s.x,s.y,e,t,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==n);s.prevZ.nextZ=null,s.prevZ=null,BX(s)}function BX(n){let e,t=1;do{let i=n,s;n=null;let a=null;for(e=0;i;){e++;let l=i,u=0;for(let p=0;p<t&&(u++,l=l.nextZ,!!l);p++);let h=t;for(;u>0||h>0&&l;)u!==0&&(h===0||!l||i.z<=l.z)?(s=i,i=i.nextZ,u--):(s=l,l=l.nextZ,h--),a?a.nextZ=s:n=s,s.prevZ=a,a=s;i=l}a.nextZ=null,t*=2}while(e>1);return n}function kM(n,e,t,i,s){return n=(n-t)*s|0,e=(e-i)*s|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function kX(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function eU(n,e,t,i,s,a,l,u){return(s-l)*(e-u)>=(n-l)*(a-u)&&(n-l)*(i-u)>=(t-l)*(e-u)&&(t-l)*(a-u)>=(s-l)*(i-u)}function Hg(n,e,t,i,s,a,l,u){return!(n===l&&e===u)&&eU(n,e,t,i,s,a,l,u)}function VX(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!HX(n,e)&&(N0(n,e)&&N0(e,n)&&jX(n,e)&&(Ri(n.prev,n,e.prev)||Ri(n,e.prev,e))||Rp(n,e)&&Ri(n.prev,n,n.next)>0&&Ri(e.prev,e,e.next)>0)}function Ri(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Rp(n,e){return n.x===e.x&&n.y===e.y}function tU(n,e,t,i){const s=Ox(Ri(n,e,t)),a=Ox(Ri(n,e,i)),l=Ox(Ri(t,i,n)),u=Ox(Ri(t,i,e));return!!(s!==a&&l!==u||s===0&&Lx(n,t,e)||a===0&&Lx(n,i,e)||l===0&&Lx(t,n,i)||u===0&&Lx(t,e,i))}function Lx(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Ox(n){return n>0?1:n<0?-1:0}function HX(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&tU(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function N0(n,e){return Ri(n.prev,n,n.next)<0?Ri(n,e,n.next)>=0&&Ri(n,n.prev,e)>=0:Ri(n,e,n.prev)<0||Ri(n,n.next,e)<0}function jX(n,e){let t=n,i=!1;const s=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&s<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function nU(n,e){const t=VM(n.i,n.x,n.y),i=VM(e.i,e.x,e.y),s=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=s,s.prev=t,i.next=t,t.prev=i,a.next=i,i.prev=a,i}function ZR(n,e,t,i){const s=VM(n,e,t);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function D0(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function VM(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function GX(n,e,t,i){let s=0;for(let a=e,l=t-i;a<t;a+=i)s+=(n[l]-n[a])*(n[a+1]+n[l+1]),l=a;return s}class WX{static triangulate(e,t,i=2){return CX(e,t,i)}}class Do{static area(e){const t=e.length;let i=0;for(let s=t-1,a=0;a<t;s=a++)i+=e[s].x*e[a].y-e[a].x*e[s].y;return i*.5}static isClockWise(e){return Do.area(e)<0}static triangulateShape(e,t){const i=[],s=[],a=[];KR(e),QR(i,e);let l=e.length;t.forEach(KR);for(let h=0;h<t.length;h++)s.push(l),l+=t[h].length,QR(i,t[h]);const u=WX.triangulate(i,s);for(let h=0;h<u.length;h+=3)a.push(u.slice(h,h+3));return a}}function KR(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function QR(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class v_ extends Jt{constructor(e=new hd([new ke(.5,.5),new ke(-.5,.5),new ke(-.5,-.5),new ke(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,s=[],a=[];for(let u=0,h=e.length;u<h;u++){const p=e[u];l(p)}this.setAttribute("position",new Tt(s,3)),this.setAttribute("uv",new Tt(a,2)),this.computeVertexNormals();function l(u){const h=[],p=t.curveSegments!==void 0?t.curveSegments:12,g=t.steps!==void 0?t.steps:1,m=t.depth!==void 0?t.depth:1;let x=t.bevelEnabled!==void 0?t.bevelEnabled:!0,b=t.bevelThickness!==void 0?t.bevelThickness:.2,w=t.bevelSize!==void 0?t.bevelSize:b-.1,A=t.bevelOffset!==void 0?t.bevelOffset:0,T=t.bevelSegments!==void 0?t.bevelSegments:3;const M=t.extrudePath,N=t.UVGenerator!==void 0?t.UVGenerator:XX;let D,I=!1,O,F,B,H;if(M){D=M.getSpacedPoints(g),I=!0,x=!1;const Le=M.isCatmullRomCurve3?M.closed:!1;O=M.computeFrenetFrames(g,Le),F=new K,B=new K,H=new K}x||(T=0,b=0,w=0,A=0);const z=u.extractPoints(p);let k=z.shape;const $=z.holes;if(!Do.isClockWise(k)){k=k.reverse();for(let Le=0,qe=$.length;Le<qe;Le++){const Oe=$[Le];Do.isClockWise(Oe)&&($[Le]=Oe.reverse())}}function ee(Le){const Oe=10000000000000001e-36;let et=Le[0];for(let J=1;J<=Le.length;J++){const xt=J%Le.length,ot=Le[xt],Nt=ot.x-et.x,He=ot.y-et.y,Y=Nt*Nt+He*He,V=Math.max(Math.abs(ot.x),Math.abs(ot.y),Math.abs(et.x),Math.abs(et.y)),ce=Oe*V*V;if(Y<=ce){Le.splice(xt,1),J--;continue}et=ot}}ee(k),$.forEach(ee);const ne=$.length,ae=k;for(let Le=0;Le<ne;Le++){const qe=$[Le];k=k.concat(qe)}function X(Le,qe,Oe){return qe||Ot("ExtrudeGeometry: vec does not exist"),Le.clone().addScaledVector(qe,Oe)}const Z=k.length;function Q(Le,qe,Oe){let et,J,xt;const ot=Le.x-qe.x,Nt=Le.y-qe.y,He=Oe.x-Le.x,Y=Oe.y-Le.y,V=ot*ot+Nt*Nt,ce=ot*Y-Nt*He;if(Math.abs(ce)>Number.EPSILON){const Ce=Math.sqrt(V),Ue=Math.sqrt(He*He+Y*Y),Ne=qe.x-Nt/Ce,ft=qe.y+ot/Ce,Ke=Oe.x-Y/Ue,bt=Oe.y+He/Ue,Dt=((Ke-Ne)*Y-(bt-ft)*He)/(ot*Y-Nt*He);et=Ne+ot*Dt-Le.x,J=ft+Nt*Dt-Le.y;const Xe=et*et+J*J;if(Xe<=2)return new ke(et,J);xt=Math.sqrt(Xe/2)}else{let Ce=!1;ot>Number.EPSILON?He>Number.EPSILON&&(Ce=!0):ot<-Number.EPSILON?He<-Number.EPSILON&&(Ce=!0):Math.sign(Nt)===Math.sign(Y)&&(Ce=!0),Ce?(et=-Nt,J=ot,xt=Math.sqrt(V)):(et=ot,J=Nt,xt=Math.sqrt(V/2))}return new ke(et/xt,J/xt)}const ye=[];for(let Le=0,qe=ae.length,Oe=qe-1,et=Le+1;Le<qe;Le++,Oe++,et++)Oe===qe&&(Oe=0),et===qe&&(et=0),ye[Le]=Q(ae[Le],ae[Oe],ae[et]);const Se=[];let q,ue=ye.concat();for(let Le=0,qe=ne;Le<qe;Le++){const Oe=$[Le];q=[];for(let et=0,J=Oe.length,xt=J-1,ot=et+1;et<J;et++,xt++,ot++)xt===J&&(xt=0),ot===J&&(ot=0),q[et]=Q(Oe[et],Oe[xt],Oe[ot]);Se.push(q),ue=ue.concat(q)}let fe;if(T===0)fe=Do.triangulateShape(ae,$);else{const Le=[],qe=[];for(let Oe=0;Oe<T;Oe++){const et=Oe/T,J=b*Math.cos(et*Math.PI/2),xt=w*Math.sin(et*Math.PI/2)+A;for(let ot=0,Nt=ae.length;ot<Nt;ot++){const He=X(ae[ot],ye[ot],xt);Ze(He.x,He.y,-J),et===0&&Le.push(He)}for(let ot=0,Nt=ne;ot<Nt;ot++){const He=$[ot];q=Se[ot];const Y=[];for(let V=0,ce=He.length;V<ce;V++){const Ce=X(He[V],q[V],xt);Ze(Ce.x,Ce.y,-J),et===0&&Y.push(Ce)}et===0&&qe.push(Y)}}fe=Do.triangulateShape(Le,qe)}const Te=fe.length,Ve=w+A;for(let Le=0;Le<Z;Le++){const qe=x?X(k[Le],ue[Le],Ve):k[Le];I?(B.copy(O.normals[0]).multiplyScalar(qe.x),F.copy(O.binormals[0]).multiplyScalar(qe.y),H.copy(D[0]).add(B).add(F),Ze(H.x,H.y,H.z)):Ze(qe.x,qe.y,0)}for(let Le=1;Le<=g;Le++)for(let qe=0;qe<Z;qe++){const Oe=x?X(k[qe],ue[qe],Ve):k[qe];I?(B.copy(O.normals[Le]).multiplyScalar(Oe.x),F.copy(O.binormals[Le]).multiplyScalar(Oe.y),H.copy(D[Le]).add(B).add(F),Ze(H.x,H.y,H.z)):Ze(Oe.x,Oe.y,m/g*Le)}for(let Le=T-1;Le>=0;Le--){const qe=Le/T,Oe=b*Math.cos(qe*Math.PI/2),et=w*Math.sin(qe*Math.PI/2)+A;for(let J=0,xt=ae.length;J<xt;J++){const ot=X(ae[J],ye[J],et);Ze(ot.x,ot.y,m+Oe)}for(let J=0,xt=$.length;J<xt;J++){const ot=$[J];q=Se[J];for(let Nt=0,He=ot.length;Nt<He;Nt++){const Y=X(ot[Nt],q[Nt],et);I?Ze(Y.x,Y.y+D[g-1].y,D[g-1].x+Oe):Ze(Y.x,Y.y,m+Oe)}}}he(),ve();function he(){const Le=s.length/3;if(x){let qe=0,Oe=Z*qe;for(let et=0;et<Te;et++){const J=fe[et];rt(J[2]+Oe,J[1]+Oe,J[0]+Oe)}qe=g+T*2,Oe=Z*qe;for(let et=0;et<Te;et++){const J=fe[et];rt(J[0]+Oe,J[1]+Oe,J[2]+Oe)}}else{for(let qe=0;qe<Te;qe++){const Oe=fe[qe];rt(Oe[2],Oe[1],Oe[0])}for(let qe=0;qe<Te;qe++){const Oe=fe[qe];rt(Oe[0]+Z*g,Oe[1]+Z*g,Oe[2]+Z*g)}}i.addGroup(Le,s.length/3-Le,0)}function ve(){const Le=s.length/3;let qe=0;Fe(ae,qe),qe+=ae.length;for(let Oe=0,et=$.length;Oe<et;Oe++){const J=$[Oe];Fe(J,qe),qe+=J.length}i.addGroup(Le,s.length/3-Le,1)}function Fe(Le,qe){let Oe=Le.length;for(;--Oe>=0;){const et=Oe;let J=Oe-1;J<0&&(J=Le.length-1);for(let xt=0,ot=g+T*2;xt<ot;xt++){const Nt=Z*xt,He=Z*(xt+1),Y=qe+et+Nt,V=qe+J+Nt,ce=qe+J+He,Ce=qe+et+He;kt(Y,V,ce,Ce)}}}function Ze(Le,qe,Oe){h.push(Le),h.push(qe),h.push(Oe)}function rt(Le,qe,Oe){Vt(Le),Vt(qe),Vt(Oe);const et=s.length/3,J=N.generateTopUV(i,s,et-3,et-2,et-1);Pt(J[0]),Pt(J[1]),Pt(J[2])}function kt(Le,qe,Oe,et){Vt(Le),Vt(qe),Vt(et),Vt(qe),Vt(Oe),Vt(et);const J=s.length/3,xt=N.generateSideWallUV(i,s,J-6,J-3,J-2,J-1);Pt(xt[0]),Pt(xt[1]),Pt(xt[3]),Pt(xt[1]),Pt(xt[2]),Pt(xt[3])}function Vt(Le){s.push(h[Le*3+0]),s.push(h[Le*3+1]),s.push(h[Le*3+2])}function Pt(Le){a.push(Le.x),a.push(Le.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return qX(t,i,e)}static fromJSON(e,t){const i=[];for(let a=0,l=e.shapes.length;a<l;a++){const u=t[e.shapes[a]];i.push(u)}const s=e.options.extrudePath;return s!==void 0&&(e.options.extrudePath=new y1[s.type]().fromJSON(s)),new v_(i,e.options)}}const XX={generateTopUV:function(n,e,t,i,s){const a=e[t*3],l=e[t*3+1],u=e[i*3],h=e[i*3+1],p=e[s*3],g=e[s*3+1];return[new ke(a,l),new ke(u,h),new ke(p,g)]},generateSideWallUV:function(n,e,t,i,s,a){const l=e[t*3],u=e[t*3+1],h=e[t*3+2],p=e[i*3],g=e[i*3+1],m=e[i*3+2],x=e[s*3],b=e[s*3+1],w=e[s*3+2],A=e[a*3],T=e[a*3+1],M=e[a*3+2];return Math.abs(u-g)<Math.abs(l-p)?[new ke(l,1-h),new ke(p,1-m),new ke(x,1-w),new ke(A,1-M)]:[new ke(u,1-h),new ke(g,1-m),new ke(b,1-w),new ke(T,1-M)]}};function qX(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,s=n.length;i<s;i++){const a=n[i];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class x_ extends Zu{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,s=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new x_(e.radius,e.detail)}}class b_ extends Jt{constructor(e=[new ke(0,-.5),new ke(.5,0),new ke(0,.5)],t=12,i=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:s},t=Math.floor(t),s=Yt(s,0,Math.PI*2);const a=[],l=[],u=[],h=[],p=[],g=1/t,m=new K,x=new ke,b=new K,w=new K,A=new K;let T=0,M=0;for(let N=0;N<=e.length-1;N++)switch(N){case 0:T=e[N+1].x-e[N].x,M=e[N+1].y-e[N].y,b.x=M*1,b.y=-T,b.z=M*0,A.copy(b),b.normalize(),h.push(b.x,b.y,b.z);break;case e.length-1:h.push(A.x,A.y,A.z);break;default:T=e[N+1].x-e[N].x,M=e[N+1].y-e[N].y,b.x=M*1,b.y=-T,b.z=M*0,w.copy(b),b.x+=A.x,b.y+=A.y,b.z+=A.z,b.normalize(),h.push(b.x,b.y,b.z),A.copy(w)}for(let N=0;N<=t;N++){const D=i+N*g*s,I=Math.sin(D),O=Math.cos(D);for(let F=0;F<=e.length-1;F++){m.x=e[F].x*I,m.y=e[F].y,m.z=e[F].x*O,l.push(m.x,m.y,m.z),x.x=N/t,x.y=F/(e.length-1),u.push(x.x,x.y);const B=h[3*F+0]*I,H=h[3*F+1],z=h[3*F+0]*O;p.push(B,H,z)}}for(let N=0;N<t;N++)for(let D=0;D<e.length-1;D++){const I=D+N*e.length,O=I,F=I+e.length,B=I+e.length+1,H=I+1;a.push(O,F,H),a.push(B,H,F)}this.setIndex(a),this.setAttribute("position",new Tt(l,3)),this.setAttribute("uv",new Tt(u,2)),this.setAttribute("normal",new Tt(p,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new b_(e.points,e.segments,e.phiStart,e.phiLength)}}class J0 extends Zu{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,s,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new J0(e.radius,e.detail)}}class qp extends Jt{constructor(e=1,t=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:s};const a=e/2,l=t/2,u=Math.floor(i),h=Math.floor(s),p=u+1,g=h+1,m=e/u,x=t/h,b=[],w=[],A=[],T=[];for(let M=0;M<g;M++){const N=M*x-l;for(let D=0;D<p;D++){const I=D*m-a;w.push(I,-N,0),A.push(0,0,1),T.push(D/u),T.push(1-M/h)}}for(let M=0;M<h;M++)for(let N=0;N<u;N++){const D=N+p*M,I=N+p*(M+1),O=N+1+p*(M+1),F=N+1+p*M;b.push(D,I,F),b.push(I,O,F)}this.setIndex(b),this.setAttribute("position",new Tt(w,3)),this.setAttribute("normal",new Tt(A,3)),this.setAttribute("uv",new Tt(T,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qp(e.width,e.height,e.widthSegments,e.heightSegments)}}class __ extends Jt{constructor(e=.5,t=1,i=32,s=1,a=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:s,thetaStart:a,thetaLength:l},i=Math.max(3,i),s=Math.max(1,s);const u=[],h=[],p=[],g=[];let m=e;const x=(t-e)/s,b=new K,w=new ke;for(let A=0;A<=s;A++){for(let T=0;T<=i;T++){const M=a+T/i*l;b.x=m*Math.cos(M),b.y=m*Math.sin(M),h.push(b.x,b.y,b.z),p.push(0,0,1),w.x=(b.x/t+1)/2,w.y=(b.y/t+1)/2,g.push(w.x,w.y)}m+=x}for(let A=0;A<s;A++){const T=A*(i+1);for(let M=0;M<i;M++){const N=M+T,D=N,I=N+i+1,O=N+i+2,F=N+1;u.push(D,I,F),u.push(I,O,F)}}this.setIndex(u),this.setAttribute("position",new Tt(h,3)),this.setAttribute("normal",new Tt(p,3)),this.setAttribute("uv",new Tt(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new __(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class S_ extends Jt{constructor(e=new hd([new ke(0,.5),new ke(-.5,-.5),new ke(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],s=[],a=[],l=[];let u=0,h=0;if(Array.isArray(e)===!1)p(e);else for(let g=0;g<e.length;g++)p(e[g]),this.addGroup(u,h,g),u+=h,h=0;this.setIndex(i),this.setAttribute("position",new Tt(s,3)),this.setAttribute("normal",new Tt(a,3)),this.setAttribute("uv",new Tt(l,2));function p(g){const m=s.length/3,x=g.extractPoints(t);let b=x.shape;const w=x.holes;Do.isClockWise(b)===!1&&(b=b.reverse());for(let T=0,M=w.length;T<M;T++){const N=w[T];Do.isClockWise(N)===!0&&(w[T]=N.reverse())}const A=Do.triangulateShape(b,w);for(let T=0,M=w.length;T<M;T++){const N=w[T];b=b.concat(N)}for(let T=0,M=b.length;T<M;T++){const N=b[T];s.push(N.x,N.y,0),a.push(0,0,1),l.push(N.x,N.y)}for(let T=0,M=A.length;T<M;T++){const N=A[T],D=N[0]+m,I=N[1]+m,O=N[2]+m;i.push(D,I,O),h+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return YX(t,e)}static fromJSON(e,t){const i=[];for(let s=0,a=e.shapes.length;s<a;s++){const l=t[e.shapes[s]];i.push(l)}return new S_(i,e.curveSegments)}}function YX(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const s=n[t];e.shapes.push(s.uuid)}else e.shapes.push(n.uuid);return e}class ey extends Jt{constructor(e=1,t=32,i=16,s=0,a=Math.PI*2,l=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:s,phiLength:a,thetaStart:l,thetaLength:u},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const h=Math.min(l+u,Math.PI);let p=0;const g=[],m=new K,x=new K,b=[],w=[],A=[],T=[];for(let M=0;M<=i;M++){const N=[],D=M/i;let I=0;M===0&&l===0?I=.5/t:M===i&&h===Math.PI&&(I=-.5/t);for(let O=0;O<=t;O++){const F=O/t;m.x=-e*Math.cos(s+F*a)*Math.sin(l+D*u),m.y=e*Math.cos(l+D*u),m.z=e*Math.sin(s+F*a)*Math.sin(l+D*u),w.push(m.x,m.y,m.z),x.copy(m).normalize(),A.push(x.x,x.y,x.z),T.push(F+I,1-D),N.push(p++)}g.push(N)}for(let M=0;M<i;M++)for(let N=0;N<t;N++){const D=g[M][N+1],I=g[M][N],O=g[M+1][N],F=g[M+1][N+1];(M!==0||l>0)&&b.push(D,I,F),(M!==i-1||h<Math.PI)&&b.push(I,O,F)}this.setIndex(b),this.setAttribute("position",new Tt(w,3)),this.setAttribute("normal",new Tt(A,3)),this.setAttribute("uv",new Tt(T,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ey(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class w_ extends Zu{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,s,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new w_(e.radius,e.detail)}}class M_ extends Jt{constructor(e=1,t=.4,i=12,s=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:s,arc:a},i=Math.floor(i),s=Math.floor(s);const l=[],u=[],h=[],p=[],g=new K,m=new K,x=new K;for(let b=0;b<=i;b++)for(let w=0;w<=s;w++){const A=w/s*a,T=b/i*Math.PI*2;m.x=(e+t*Math.cos(T))*Math.cos(A),m.y=(e+t*Math.cos(T))*Math.sin(A),m.z=t*Math.sin(T),u.push(m.x,m.y,m.z),g.x=e*Math.cos(A),g.y=e*Math.sin(A),x.subVectors(m,g).normalize(),h.push(x.x,x.y,x.z),p.push(w/s),p.push(b/i)}for(let b=1;b<=i;b++)for(let w=1;w<=s;w++){const A=(s+1)*b+w-1,T=(s+1)*(b-1)+w-1,M=(s+1)*(b-1)+w,N=(s+1)*b+w;l.push(A,T,N),l.push(T,M,N)}this.setIndex(l),this.setAttribute("position",new Tt(u,3)),this.setAttribute("normal",new Tt(h,3)),this.setAttribute("uv",new Tt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new M_(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class T_ extends Jt{constructor(e=1,t=.4,i=64,s=8,a=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:s,p:a,q:l},i=Math.floor(i),s=Math.floor(s);const u=[],h=[],p=[],g=[],m=new K,x=new K,b=new K,w=new K,A=new K,T=new K,M=new K;for(let D=0;D<=i;++D){const I=D/i*a*Math.PI*2;N(I,a,l,e,b),N(I+.01,a,l,e,w),T.subVectors(w,b),M.addVectors(w,b),A.crossVectors(T,M),M.crossVectors(A,T),A.normalize(),M.normalize();for(let O=0;O<=s;++O){const F=O/s*Math.PI*2,B=-t*Math.cos(F),H=t*Math.sin(F);m.x=b.x+(B*M.x+H*A.x),m.y=b.y+(B*M.y+H*A.y),m.z=b.z+(B*M.z+H*A.z),h.push(m.x,m.y,m.z),x.subVectors(m,b).normalize(),p.push(x.x,x.y,x.z),g.push(D/i),g.push(O/s)}}for(let D=1;D<=i;D++)for(let I=1;I<=s;I++){const O=(s+1)*(D-1)+(I-1),F=(s+1)*D+(I-1),B=(s+1)*D+I,H=(s+1)*(D-1)+I;u.push(O,F,H),u.push(F,B,H)}this.setIndex(u),this.setAttribute("position",new Tt(h,3)),this.setAttribute("normal",new Tt(p,3)),this.setAttribute("uv",new Tt(g,2));function N(D,I,O,F,B){const H=Math.cos(D),z=Math.sin(D),k=O/I*D,$=Math.cos(k);B.x=F*(2+$)*.5*H,B.y=F*(2+$)*z*.5,B.z=F*Math.sin(k)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new T_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class E_ extends Jt{constructor(e=new LE(new K(-1,-1,0),new K(-1,1,0),new K(1,1,0)),t=64,i=1,s=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:s,closed:a};const l=e.computeFrenetFrames(t,a);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const u=new K,h=new K,p=new ke;let g=new K;const m=[],x=[],b=[],w=[];A(),this.setIndex(w),this.setAttribute("position",new Tt(m,3)),this.setAttribute("normal",new Tt(x,3)),this.setAttribute("uv",new Tt(b,2));function A(){for(let D=0;D<t;D++)T(D);T(a===!1?t:0),N(),M()}function T(D){g=e.getPointAt(D/t,g);const I=l.normals[D],O=l.binormals[D];for(let F=0;F<=s;F++){const B=F/s*Math.PI*2,H=Math.sin(B),z=-Math.cos(B);h.x=z*I.x+H*O.x,h.y=z*I.y+H*O.y,h.z=z*I.z+H*O.z,h.normalize(),x.push(h.x,h.y,h.z),u.x=g.x+i*h.x,u.y=g.y+i*h.y,u.z=g.z+i*h.z,m.push(u.x,u.y,u.z)}}function M(){for(let D=1;D<=t;D++)for(let I=1;I<=s;I++){const O=(s+1)*(D-1)+(I-1),F=(s+1)*D+(I-1),B=(s+1)*D+I,H=(s+1)*(D-1)+I;w.push(O,F,H),w.push(F,B,H)}}function N(){for(let D=0;D<=t;D++)for(let I=0;I<=s;I++)p.x=D/t,p.y=I/s,b.push(p.x,p.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new E_(new y1[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class iU extends Jt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,s=new K,a=new K;if(e.index!==null){const l=e.attributes.position,u=e.index;let h=e.groups;h.length===0&&(h=[{start:0,count:u.count,materialIndex:0}]);for(let p=0,g=h.length;p<g;++p){const m=h[p],x=m.start,b=m.count;for(let w=x,A=x+b;w<A;w+=3)for(let T=0;T<3;T++){const M=u.getX(w+T),N=u.getX(w+(T+1)%3);s.fromBufferAttribute(l,M),a.fromBufferAttribute(l,N),JR(s,a,i)===!0&&(t.push(s.x,s.y,s.z),t.push(a.x,a.y,a.z))}}}else{const l=e.attributes.position;for(let u=0,h=l.count/3;u<h;u++)for(let p=0;p<3;p++){const g=3*u+p,m=3*u+(p+1)%3;s.fromBufferAttribute(l,g),a.fromBufferAttribute(l,m),JR(s,a,i)===!0&&(t.push(s.x,s.y,s.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Tt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function JR(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,s=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(s)===!0?!1:(t.add(i),t.add(s),!0)}var eN=Object.freeze({__proto__:null,BoxGeometry:_d,CapsuleGeometry:p_,CircleGeometry:m_,ConeGeometry:Q0,CylinderGeometry:K0,DodecahedronGeometry:g_,EdgesGeometry:qO,ExtrudeGeometry:v_,IcosahedronGeometry:x_,LatheGeometry:b_,OctahedronGeometry:J0,PlaneGeometry:qp,PolyhedronGeometry:Zu,RingGeometry:__,ShapeGeometry:S_,SphereGeometry:ey,TetrahedronGeometry:w_,TorusGeometry:M_,TorusKnotGeometry:T_,TubeGeometry:E_,WireframeGeometry:iU});class sU extends ir{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new yt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class UE extends na{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class zE extends ir{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new yt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yu,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new _a,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class rU extends zE{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ke(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Yt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new yt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new yt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new yt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class aU extends ir{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new yt(16777215),this.specular=new yt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yu,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new _a,this.combine=Y0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class oU extends ir{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new yt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yu,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class lU extends ir{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yu,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class cU extends ir{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new yt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yu,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new _a,this.combine=Y0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class FE extends ir{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=_O,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class BE extends ir{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class uU extends ir{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new yt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yu,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fU extends Ar{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function ld(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function dU(n){function e(s,a){return n[s]-n[a]}const t=n.length,i=new Array(t);for(let s=0;s!==t;++s)i[s]=s;return i.sort(e),i}function HM(n,e,t){const i=n.length,s=new n.constructor(i);for(let a=0,l=0;l!==i;++a){const u=t[a]*e;for(let h=0;h!==e;++h)s[l++]=n[u+h]}return s}function kE(n,e,t,i){let s=1,a=n[0];for(;a!==void 0&&a[i]===void 0;)a=n[s++];if(a===void 0)return;let l=a[i];if(l!==void 0)if(Array.isArray(l))do l=a[i],l!==void 0&&(e.push(a.time),t.push(...l)),a=n[s++];while(a!==void 0);else if(l.toArray!==void 0)do l=a[i],l!==void 0&&(e.push(a.time),l.toArray(t,t.length)),a=n[s++];while(a!==void 0);else do l=a[i],l!==void 0&&(e.push(a.time),t.push(l)),a=n[s++];while(a!==void 0)}function $X(n,e,t,i,s=30){const a=n.clone();a.name=e;const l=[];for(let h=0;h<a.tracks.length;++h){const p=a.tracks[h],g=p.getValueSize(),m=[],x=[];for(let b=0;b<p.times.length;++b){const w=p.times[b]*s;if(!(w<t||w>=i)){m.push(p.times[b]);for(let A=0;A<g;++A)x.push(p.values[b*g+A])}}m.length!==0&&(p.times=ld(m,p.times.constructor),p.values=ld(x,p.values.constructor),l.push(p))}a.tracks=l;let u=1/0;for(let h=0;h<a.tracks.length;++h)u>a.tracks[h].times[0]&&(u=a.tracks[h].times[0]);for(let h=0;h<a.tracks.length;++h)a.tracks[h].shift(-1*u);return a.resetDuration(),a}function ZX(n,e=0,t=n,i=30){i<=0&&(i=30);const s=t.tracks.length,a=e/i;for(let l=0;l<s;++l){const u=t.tracks[l],h=u.ValueTypeName;if(h==="bool"||h==="string")continue;const p=n.tracks.find(function(M){return M.name===u.name&&M.ValueTypeName===h});if(p===void 0)continue;let g=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=m/3);let x=0;const b=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(x=b/3);const w=u.times.length-1;let A;if(a<=u.times[0]){const M=g,N=m-g;A=u.values.slice(M,N)}else if(a>=u.times[w]){const M=w*m+g,N=M+m-g;A=u.values.slice(M,N)}else{const M=u.createInterpolant(),N=g,D=m-g;M.evaluate(a),A=M.resultBuffer.slice(N,D)}h==="quaternion"&&new ta().fromArray(A).normalize().conjugate().toArray(A);const T=p.times.length;for(let M=0;M<T;++M){const N=M*b+x;if(h==="quaternion")ta.multiplyQuaternionsFlat(p.values,N,A,0,p.values,N);else{const D=b-x*2;for(let I=0;I<D;++I)p.values[N+I]-=A[I]}}}return n.blendMode=xE,n}class KX{static convertArray(e,t){return ld(e,t)}static isTypedArray(e){return NO(e)}static getKeyframeOrder(e){return dU(e)}static sortedArray(e,t,i){return HM(e,t,i)}static flattenJSON(e,t,i,s){kE(e,t,i,s)}static subclip(e,t,i,s,a=30){return $X(e,t,i,s,a)}static makeClipAdditive(e,t=0,i=e,s=30){return ZX(e,t,i,s)}}class ty{constructor(e,t,i,s){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,s=t[i],a=t[i-1];e:{t:{let l;n:{i:if(!(e<s)){for(let u=i+2;;){if(s===void 0){if(e<a)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===u)break;if(a=s,s=t[++i],e<s)break t}l=t.length;break n}if(!(e>=a)){const u=t[1];e<u&&(i=2,a=u);for(let h=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===h)break;if(s=a,a=t[--i-1],e>=a)break t}l=i,i=0;break n}break e}for(;i<l;){const u=i+l>>>1;e<t[u]?l=u:i=u+1}if(s=t[i],a=t[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,s)}return this.interpolate_(i,a,e,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,s=this.valueSize,a=e*s;for(let l=0;l!==s;++l)t[l]=i[a+l];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class hU extends ty{constructor(e,t,i,s){super(e,t,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ad,endingEnd:ad}}intervalChanged_(e,t,i){const s=this.parameterPositions;let a=e-2,l=e+1,u=s[a],h=s[l];if(u===void 0)switch(this.getSettings_().endingStart){case od:a=e,u=2*t-i;break;case M0:a=s.length-2,u=t+s[a]-s[a+1];break;default:a=e,u=i}if(h===void 0)switch(this.getSettings_().endingEnd){case od:l=e,h=2*i-t;break;case M0:l=1,h=i+s[1]-s[0];break;default:l=e-1,h=t}const p=(i-t)*.5,g=this.valueSize;this._weightPrev=p/(t-u),this._weightNext=p/(h-i),this._offsetPrev=a*g,this._offsetNext=l*g}interpolate_(e,t,i,s){const a=this.resultBuffer,l=this.sampleValues,u=this.valueSize,h=e*u,p=h-u,g=this._offsetPrev,m=this._offsetNext,x=this._weightPrev,b=this._weightNext,w=(i-t)/(s-t),A=w*w,T=A*w,M=-x*T+2*x*A-x*w,N=(1+x)*T+(-1.5-2*x)*A+(-.5+x)*w+1,D=(-1-b)*T+(1.5+b)*A+.5*w,I=b*T-b*A;for(let O=0;O!==u;++O)a[O]=M*l[g+O]+N*l[p+O]+D*l[h+O]+I*l[m+O];return a}}class VE extends ty{constructor(e,t,i,s){super(e,t,i,s)}interpolate_(e,t,i,s){const a=this.resultBuffer,l=this.sampleValues,u=this.valueSize,h=e*u,p=h-u,g=(i-t)/(s-t),m=1-g;for(let x=0;x!==u;++x)a[x]=l[p+x]*m+l[h+x]*g;return a}}class pU extends ty{constructor(e,t,i,s){super(e,t,i,s)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ja{constructor(e,t,i,s){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ld(t,this.TimeBufferType),this.values=ld(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:ld(e.times,Array),values:ld(e.values,Array)};const s=e.getInterpolation();s!==e.DefaultInterpolation&&(i.interpolation=s)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new pU(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new VE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new hU(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case w0:t=this.InterpolantFactoryMethodDiscrete;break;case p1:t=this.InterpolantFactoryMethodLinear;break;case rb:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return ht("KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return w0;case this.InterpolantFactoryMethodLinear:return p1;case this.InterpolantFactoryMethodSmooth:return rb}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,s=t.length;i!==s;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,s=t.length;i!==s;++i)t[i]*=e}return this}trim(e,t){const i=this.times,s=i.length;let a=0,l=s-1;for(;a!==s&&i[a]<e;)++a;for(;l!==-1&&i[l]>t;)--l;if(++l,a!==0||l!==s){a>=l&&(l=Math.max(l,1),a=l-1);const u=this.getValueSize();this.times=i.slice(a,l),this.values=this.values.slice(a*u,l*u)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(Ot("KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,s=this.values,a=i.length;a===0&&(Ot("KeyframeTrack: Track is empty.",this),e=!1);let l=null;for(let u=0;u!==a;u++){const h=i[u];if(typeof h=="number"&&isNaN(h)){Ot("KeyframeTrack: Time is not a valid number.",this,u,h),e=!1;break}if(l!==null&&l>h){Ot("KeyframeTrack: Out of order keys.",this,u,h,l),e=!1;break}l=h}if(s!==void 0&&NO(s))for(let u=0,h=s.length;u!==h;++u){const p=s[u];if(isNaN(p)){Ot("KeyframeTrack: Value is not a valid number.",this,u,p),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),s=this.getInterpolation()===rb,a=e.length-1;let l=1;for(let u=1;u<a;++u){let h=!1;const p=e[u],g=e[u+1];if(p!==g&&(u!==1||p!==e[0]))if(s)h=!0;else{const m=u*i,x=m-i,b=m+i;for(let w=0;w!==i;++w){const A=t[m+w];if(A!==t[x+w]||A!==t[b+w]){h=!0;break}}}if(h){if(u!==l){e[l]=e[u];const m=u*i,x=l*i;for(let b=0;b!==i;++b)t[x+b]=t[m+b]}++l}}if(a>0){e[l]=e[a];for(let u=a*i,h=l*i,p=0;p!==i;++p)t[h+p]=t[u+p];++l}return l!==e.length?(this.times=e.slice(0,l),this.values=t.slice(0,l*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,s=new i(this.name,e,t);return s.createInterpolant=this.createInterpolant,s}}Ja.prototype.ValueTypeName="";Ja.prototype.TimeBufferType=Float32Array;Ja.prototype.ValueBufferType=Float32Array;Ja.prototype.DefaultInterpolation=p1;class Sd extends Ja{constructor(e,t,i){super(e,t,i)}}Sd.prototype.ValueTypeName="bool";Sd.prototype.ValueBufferType=Array;Sd.prototype.DefaultInterpolation=w0;Sd.prototype.InterpolantFactoryMethodLinear=void 0;Sd.prototype.InterpolantFactoryMethodSmooth=void 0;class HE extends Ja{constructor(e,t,i,s){super(e,t,i,s)}}HE.prototype.ValueTypeName="color";class P0 extends Ja{constructor(e,t,i,s){super(e,t,i,s)}}P0.prototype.ValueTypeName="number";class mU extends ty{constructor(e,t,i,s){super(e,t,i,s)}interpolate_(e,t,i,s){const a=this.resultBuffer,l=this.sampleValues,u=this.valueSize,h=(i-t)/(s-t);let p=e*u;for(let g=p+u;p!==g;p+=4)ta.slerpFlat(a,0,l,p-u,l,p,h);return a}}class ny extends Ja{constructor(e,t,i,s){super(e,t,i,s)}InterpolantFactoryMethodLinear(e){return new mU(this.times,this.values,this.getValueSize(),e)}}ny.prototype.ValueTypeName="quaternion";ny.prototype.InterpolantFactoryMethodSmooth=void 0;class wd extends Ja{constructor(e,t,i){super(e,t,i)}}wd.prototype.ValueTypeName="string";wd.prototype.ValueBufferType=Array;wd.prototype.DefaultInterpolation=w0;wd.prototype.InterpolantFactoryMethodLinear=void 0;wd.prototype.InterpolantFactoryMethodSmooth=void 0;class I0 extends Ja{constructor(e,t,i,s){super(e,t,i,s)}}I0.prototype.ValueTypeName="vector";class L0{constructor(e="",t=-1,i=[],s=n_){this.name=e,this.tracks=i,this.duration=t,this.blendMode=s,this.uuid=xa(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,s=1/(e.fps||1);for(let l=0,u=i.length;l!==u;++l)t.push(JX(i[l]).scale(s));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const t=[],i=e.tracks,s={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,l=i.length;a!==l;++a)t.push(Ja.toJSON(i[a]));return s}static CreateFromMorphTargetSequence(e,t,i,s){const a=t.length,l=[];for(let u=0;u<a;u++){let h=[],p=[];h.push((u+a-1)%a,u,(u+1)%a),p.push(0,1,0);const g=dU(h);h=HM(h,1,g),p=HM(p,1,g),!s&&h[0]===0&&(h.push(a),p.push(p[0])),l.push(new P0(".morphTargetInfluences["+t[u].name+"]",h,p).scale(1/i))}return new this(e,-1,l)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const s=e;i=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<i.length;s++)if(i[s].name===t)return i[s];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const s={},a=/^([\w-]*?)([\d]+)$/;for(let u=0,h=e.length;u<h;u++){const p=e[u],g=p.name.match(a);if(g&&g.length>1){const m=g[1];let x=s[m];x||(s[m]=x=[]),x.push(p)}}const l=[];for(const u in s)l.push(this.CreateFromMorphTargetSequence(u,s[u],t,i));return l}static parseAnimation(e,t){if(ht("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Ot("AnimationClip: No animation in JSONLoader data."),null;const i=function(m,x,b,w,A){if(b.length!==0){const T=[],M=[];kE(b,T,M,w),T.length!==0&&A.push(new m(x,T,M))}},s=[],a=e.name||"default",l=e.fps||30,u=e.blendMode;let h=e.length||-1;const p=e.hierarchy||[];for(let m=0;m<p.length;m++){const x=p[m].keys;if(!(!x||x.length===0))if(x[0].morphTargets){const b={};let w;for(w=0;w<x.length;w++)if(x[w].morphTargets)for(let A=0;A<x[w].morphTargets.length;A++)b[x[w].morphTargets[A]]=-1;for(const A in b){const T=[],M=[];for(let N=0;N!==x[w].morphTargets.length;++N){const D=x[w];T.push(D.time),M.push(D.morphTarget===A?1:0)}s.push(new P0(".morphTargetInfluence["+A+"]",T,M))}h=b.length*l}else{const b=".bones["+t[m].name+"]";i(I0,b+".position",x,"pos",s),i(ny,b+".quaternion",x,"rot",s),i(I0,b+".scale",x,"scl",s)}}return s.length===0?null:new this(a,h,s,u)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,s=e.length;i!==s;++i){const a=this.tracks[i];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let i=0;i<this.tracks.length;i++)e.push(this.tracks[i].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function QX(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return P0;case"vector":case"vector2":case"vector3":case"vector4":return I0;case"color":return HE;case"quaternion":return ny;case"bool":case"boolean":return Sd;case"string":return wd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function JX(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=QX(n.type);if(n.times===void 0){const t=[],i=[];kE(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const wl={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class jE{constructor(e,t,i){const s=this;let a=!1,l=0,u=0,h;const p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this._abortController=null,this.itemStart=function(g){u++,a===!1&&s.onStart!==void 0&&s.onStart(g,l,u),a=!0},this.itemEnd=function(g){l++,s.onProgress!==void 0&&s.onProgress(g,l,u),l===u&&(a=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(g){s.onError!==void 0&&s.onError(g)},this.resolveURL=function(g){return h?h(g):g},this.setURLModifier=function(g){return h=g,this},this.addHandler=function(g,m){return p.push(g,m),this},this.removeHandler=function(g){const m=p.indexOf(g);return m!==-1&&p.splice(m,2),this},this.getHandler=function(g){for(let m=0,x=p.length;m<x;m+=2){const b=p[m],w=p[m+1];if(b.global&&(b.lastIndex=0),b.test(g))return w}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const gU=new jE;class sa{constructor(e){this.manager=e!==void 0?e:gU,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(s,a){i.load(e,s,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}sa.DEFAULT_MATERIAL_NAME="__DEFAULT";const bc={};class eq extends Error{constructor(e,t){super(e),this.response=t}}class Dc extends sa{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=wl.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(bc[e]!==void 0){bc[e].push({onLoad:t,onProgress:i,onError:s});return}bc[e]=[],bc[e].push({onLoad:t,onProgress:i,onError:s});const l=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),u=this.mimeType,h=this.responseType;fetch(l).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&ht("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const g=bc[e],m=p.body.getReader(),x=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),b=x?parseInt(x):0,w=b!==0;let A=0;const T=new ReadableStream({start(M){N();function N(){m.read().then(({done:D,value:I})=>{if(D)M.close();else{A+=I.byteLength;const O=new ProgressEvent("progress",{lengthComputable:w,loaded:A,total:b});for(let F=0,B=g.length;F<B;F++){const H=g[F];H.onProgress&&H.onProgress(O)}M.enqueue(I),N()}},D=>{M.error(D)})}}});return new Response(T)}else throw new eq(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(h){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(g=>new DOMParser().parseFromString(g,u));case"json":return p.json();default:if(u==="")return p.text();{const m=/charset="?([^;"\s]*)"?/i.exec(u),x=m&&m[1]?m[1].toLowerCase():void 0,b=new TextDecoder(x);return p.arrayBuffer().then(w=>b.decode(w))}}}).then(p=>{wl.add(`file:${e}`,p);const g=bc[e];delete bc[e];for(let m=0,x=g.length;m<x;m++){const b=g[m];b.onLoad&&b.onLoad(p)}}).catch(p=>{const g=bc[e];if(g===void 0)throw this.manager.itemError(e),p;delete bc[e];for(let m=0,x=g.length;m<x;m++){const b=g[m];b.onError&&b.onError(p)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class tq extends sa{constructor(e){super(e)}load(e,t,i,s){const a=this,l=new Dc(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{t(a.parse(JSON.parse(u)))}catch(h){s?s(h):Ot(h),a.manager.itemError(e)}},i,s)}parse(e){const t=[];for(let i=0;i<e.length;i++){const s=L0.parse(e[i]);t.push(s)}return t}}class nq extends sa{constructor(e){super(e)}load(e,t,i,s){const a=this,l=[],u=new h_,h=new Dc(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(a.withCredentials);let p=0;function g(m){h.load(e[m],function(x){const b=a.parse(x,!0);l[m]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},p+=1,p===6&&(b.mipmapCount===1&&(u.minFilter=gi),u.image=l,u.format=b.format,u.needsUpdate=!0,t&&t(u))},i,s)}if(Array.isArray(e))for(let m=0,x=e.length;m<x;++m)g(m);else h.load(e,function(m){const x=a.parse(m,!0);if(x.isCubemap){const b=x.mipmaps.length/x.mipmapCount;for(let w=0;w<b;w++){l[w]={mipmaps:[]};for(let A=0;A<x.mipmapCount;A++)l[w].mipmaps.push(x.mipmaps[w*x.mipmapCount+A]),l[w].format=x.format,l[w].width=x.width,l[w].height=x.height}u.image=l}else u.image.width=x.width,u.image.height=x.height,u.mipmaps=x.mipmaps;x.mipmapCount===1&&(u.minFilter=gi),u.format=x.format,u.needsUpdate=!0,t&&t(u)},i,s);return u}}const Yh=new WeakMap;class O0 extends sa{constructor(e){super(e)}load(e,t,i,s){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,l=wl.get(`image:${e}`);if(l!==void 0){if(l.complete===!0)a.manager.itemStart(e),setTimeout(function(){t&&t(l),a.manager.itemEnd(e)},0);else{let m=Yh.get(l);m===void 0&&(m=[],Yh.set(l,m)),m.push({onLoad:t,onError:s})}return l}const u=A0("img");function h(){g(),t&&t(this);const m=Yh.get(this)||[];for(let x=0;x<m.length;x++){const b=m[x];b.onLoad&&b.onLoad(this)}Yh.delete(this),a.manager.itemEnd(e)}function p(m){g(),s&&s(m),wl.remove(`image:${e}`);const x=Yh.get(this)||[];for(let b=0;b<x.length;b++){const w=x[b];w.onError&&w.onError(m)}Yh.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function g(){u.removeEventListener("load",h,!1),u.removeEventListener("error",p,!1)}return u.addEventListener("load",h,!1),u.addEventListener("error",p,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),wl.add(`image:${e}`,u),a.manager.itemStart(e),u.src=e,u}}class iq extends sa{constructor(e){super(e)}load(e,t,i,s){const a=new Z0;a.colorSpace=er;const l=new O0(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let u=0;function h(p){l.load(e[p],function(g){a.images[p]=g,u++,u===6&&(a.needsUpdate=!0,t&&t(a))},void 0,s)}for(let p=0;p<e.length;++p)h(p);return a}}class sq extends sa{constructor(e){super(e)}load(e,t,i,s){const a=this,l=new Po,u=new Dc(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(a.withCredentials),u.load(e,function(h){let p;try{p=a.parse(h)}catch(g){if(s!==void 0)s(g);else{g(g);return}}p.image!==void 0?l.image=p.image:p.data!==void 0&&(l.image.width=p.width,l.image.height=p.height,l.image.data=p.data),l.wrapS=p.wrapS!==void 0?p.wrapS:Jr,l.wrapT=p.wrapT!==void 0?p.wrapT:Jr,l.magFilter=p.magFilter!==void 0?p.magFilter:gi,l.minFilter=p.minFilter!==void 0?p.minFilter:gi,l.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(l.colorSpace=p.colorSpace),p.flipY!==void 0&&(l.flipY=p.flipY),p.format!==void 0&&(l.format=p.format),p.type!==void 0&&(l.type=p.type),p.mipmaps!==void 0&&(l.mipmaps=p.mipmaps,l.minFilter=Sl),p.mipmapCount===1&&(l.minFilter=gi),p.generateMipmaps!==void 0&&(l.generateMipmaps=p.generateMipmaps),l.needsUpdate=!0,t&&t(l,p)},i,s),l}}class rq extends sa{constructor(e){super(e)}load(e,t,i,s){const a=new ki,l=new O0(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(u){a.image=u,a.needsUpdate=!0,t!==void 0&&t(a)},i,s),a}}class Ku extends Ln{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new yt(e),this.intensity=t}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,t}}class yU extends Ku{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ln.DEFAULT_UP),this.updateMatrix(),this.groundColor=new yt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}toJSON(e){const t=super.toJSON(e);return t.object.groundColor=this.groundColor.getHex(),t}}const _w=new $t,tN=new K,nN=new K;class GE{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ke(512,512),this.mapType=Sr,this.map=null,this.mapPass=null,this.matrix=new $t,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Xp,this._frameExtents=new ke(1,1),this._viewportCount=1,this._viewports=[new ii(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;tN.setFromMatrixPosition(e.matrixWorld),t.position.copy(tN),nN.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(nN),t.updateMatrixWorld(),_w.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_w,t.coordinateSystem,t.reversedDepth),t.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(_w)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class aq extends GE{constructor(){super(new Es(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=Mp*2*e.angle*this.focus,s=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||t.far;(i!==t.fov||s!==t.aspect||a!==t.far)&&(t.fov=i,t.aspect=s,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class vU extends Ku{constructor(e,t,i=0,s=Math.PI/3,a=0,l=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ln.DEFAULT_UP),this.updateMatrix(),this.target=new Ln,this.distance=i,this.angle=s,this.penumbra=a,this.decay=l,this.map=null,this.shadow=new aq}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.angle=this.angle,t.object.decay=this.decay,t.object.penumbra=this.penumbra,t.object.target=this.target.uuid,this.map&&this.map.isTexture&&(t.object.map=this.map.toJSON(e).uuid),t.object.shadow=this.shadow.toJSON(),t}}class oq extends GE{constructor(){super(new Es(90,1,.5,500)),this.isPointLightShadow=!0}}class xU extends Ku{constructor(e,t,i=0,s=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new oq}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.decay=this.decay,t.object.shadow=this.shadow.toJSON(),t}}class Yp extends o_{constructor(e=-1,t=1,i=1,s=-1,a=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=s,this.near=a,this.far=l,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,s,a,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=s,this.view.width=a,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let a=i-e,l=i+e,u=s+t,h=s-t;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,g=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=p*this.view.offsetX,l=a+p*this.view.width,u-=g*this.view.offsetY,h=u-g*this.view.height}this.projectionMatrix.makeOrthographic(a,l,u,h,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class lq extends GE{constructor(){super(new Yp(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class bU extends Ku{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ln.DEFAULT_UP),this.updateMatrix(),this.target=new Ln,this.shadow=new lq}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.shadow=this.shadow.toJSON(),t.object.target=this.target.uuid,t}}class _U extends Ku{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class SU extends Ku{constructor(e,t,i=10,s=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class WE{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new K)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,s=e.y,a=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.282095),t.addScaledVector(l[1],.488603*s),t.addScaledVector(l[2],.488603*a),t.addScaledVector(l[3],.488603*i),t.addScaledVector(l[4],1.092548*(i*s)),t.addScaledVector(l[5],1.092548*(s*a)),t.addScaledVector(l[6],.315392*(3*a*a-1)),t.addScaledVector(l[7],1.092548*(i*a)),t.addScaledVector(l[8],.546274*(i*i-s*s)),t}getIrradianceAt(e,t){const i=e.x,s=e.y,a=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.886227),t.addScaledVector(l[1],2*.511664*s),t.addScaledVector(l[2],2*.511664*a),t.addScaledVector(l[3],2*.511664*i),t.addScaledVector(l[4],2*.429043*i*s),t.addScaledVector(l[5],2*.429043*s*a),t.addScaledVector(l[6],.743125*a*a-.247708),t.addScaledVector(l[7],2*.429043*i*a),t.addScaledVector(l[8],.429043*(i*i-s*s)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(e,t+s*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(e,t+s*3);return e}static getBasisAt(e,t){const i=e.x,s=e.y,a=e.z;t[0]=.282095,t[1]=.488603*s,t[2]=.488603*a,t[3]=.488603*i,t[4]=1.092548*i*s,t[5]=1.092548*s*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*i*a,t[8]=.546274*(i*i-s*s)}}class wU extends Ku{constructor(e=new WE,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class A_ extends sa{constructor(e){super(e),this.textures={}}load(e,t,i,s){const a=this,l=new Dc(a.manager);l.setPath(a.path),l.setRequestHeader(a.requestHeader),l.setWithCredentials(a.withCredentials),l.load(e,function(u){try{t(a.parse(JSON.parse(u)))}catch(h){s?s(h):Ot(h),a.manager.itemError(e)}},i,s)}parse(e){const t=this.textures;function i(a){return t[a]===void 0&&ht("MaterialLoader: Undefined texture",a),t[a]}const s=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(s.uuid=e.uuid),e.name!==void 0&&(s.name=e.name),e.color!==void 0&&s.color!==void 0&&s.color.setHex(e.color),e.roughness!==void 0&&(s.roughness=e.roughness),e.metalness!==void 0&&(s.metalness=e.metalness),e.sheen!==void 0&&(s.sheen=e.sheen),e.sheenColor!==void 0&&(s.sheenColor=new yt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(s.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(e.emissive),e.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(e.specular),e.specularIntensity!==void 0&&(s.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(s.shininess=e.shininess),e.clearcoat!==void 0&&(s.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(s.dispersion=e.dispersion),e.iridescence!==void 0&&(s.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(s.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(s.transmission=e.transmission),e.thickness!==void 0&&(s.thickness=e.thickness),e.attenuationDistance!==void 0&&(s.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(s.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(s.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(s.fog=e.fog),e.flatShading!==void 0&&(s.flatShading=e.flatShading),e.blending!==void 0&&(s.blending=e.blending),e.combine!==void 0&&(s.combine=e.combine),e.side!==void 0&&(s.side=e.side),e.shadowSide!==void 0&&(s.shadowSide=e.shadowSide),e.opacity!==void 0&&(s.opacity=e.opacity),e.transparent!==void 0&&(s.transparent=e.transparent),e.alphaTest!==void 0&&(s.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(s.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(s.depthFunc=e.depthFunc),e.depthTest!==void 0&&(s.depthTest=e.depthTest),e.depthWrite!==void 0&&(s.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(s.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(s.blendSrc=e.blendSrc),e.blendDst!==void 0&&(s.blendDst=e.blendDst),e.blendEquation!==void 0&&(s.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(s.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(s.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(s.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(s.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(s.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(s.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(s.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(s.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(s.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(s.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(s.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(s.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(s.rotation=e.rotation),e.linewidth!==void 0&&(s.linewidth=e.linewidth),e.dashSize!==void 0&&(s.dashSize=e.dashSize),e.gapSize!==void 0&&(s.gapSize=e.gapSize),e.scale!==void 0&&(s.scale=e.scale),e.polygonOffset!==void 0&&(s.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(s.dithering=e.dithering),e.alphaToCoverage!==void 0&&(s.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(s.forceSinglePass=e.forceSinglePass),e.allowOverride!==void 0&&(s.allowOverride=e.allowOverride),e.visible!==void 0&&(s.visible=e.visible),e.toneMapped!==void 0&&(s.toneMapped=e.toneMapped),e.userData!==void 0&&(s.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?s.vertexColors=e.vertexColors>0:s.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const l=e.uniforms[a];switch(s.uniforms[a]={},l.type){case"t":s.uniforms[a].value=i(l.value);break;case"c":s.uniforms[a].value=new yt().setHex(l.value);break;case"v2":s.uniforms[a].value=new ke().fromArray(l.value);break;case"v3":s.uniforms[a].value=new K().fromArray(l.value);break;case"v4":s.uniforms[a].value=new ii().fromArray(l.value);break;case"m3":s.uniforms[a].value=new an().fromArray(l.value);break;case"m4":s.uniforms[a].value=new $t().fromArray(l.value);break;default:s.uniforms[a].value=l.value}}if(e.defines!==void 0&&(s.defines=e.defines),e.vertexShader!==void 0&&(s.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(s.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(s.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)s.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(s.lights=e.lights),e.clipping!==void 0&&(s.clipping=e.clipping),e.size!==void 0&&(s.size=e.size),e.sizeAttenuation!==void 0&&(s.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(s.map=i(e.map)),e.matcap!==void 0&&(s.matcap=i(e.matcap)),e.alphaMap!==void 0&&(s.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(s.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(s.bumpScale=e.bumpScale),e.normalMap!==void 0&&(s.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(s.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),s.normalScale=new ke().fromArray(a)}return e.displacementMap!==void 0&&(s.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(s.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(s.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(s.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(s.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(s.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(s.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(s.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(s.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(s.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(s.envMap=i(e.envMap)),e.envMapRotation!==void 0&&s.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(s.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(s.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(s.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(s.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(s.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(s.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(s.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(s.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(s.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new ke().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(s.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(s.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(s.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(s.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(s.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=i(e.sheenRoughnessMap)),s}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return A_.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:sU,SpriteMaterial:EE,RawShaderMaterial:UE,ShaderMaterial:na,PointsMaterial:CE,MeshPhysicalMaterial:rU,MeshStandardMaterial:zE,MeshPhongMaterial:aU,MeshToonMaterial:oU,MeshNormalMaterial:lU,MeshLambertMaterial:cU,MeshDepthMaterial:FE,MeshDistanceMaterial:BE,MeshBasicMaterial:$u,MeshMatcapMaterial:uU,LineDashedMaterial:fU,LineBasicMaterial:Ar,Material:ir};return new t[e]}}class jM{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class MU extends Jt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class TU extends sa{constructor(e){super(e)}load(e,t,i,s){const a=this,l=new Dc(a.manager);l.setPath(a.path),l.setRequestHeader(a.requestHeader),l.setWithCredentials(a.withCredentials),l.load(e,function(u){try{t(a.parse(JSON.parse(u)))}catch(h){s?s(h):Ot(h),a.manager.itemError(e)}},i,s)}parse(e){const t={},i={};function s(b,w){if(t[w]!==void 0)return t[w];const T=b.interleavedBuffers[w],M=a(b,T.buffer),N=lp(T.type,M),D=new u_(N,T.stride);return D.uuid=T.uuid,t[w]=D,D}function a(b,w){if(i[w]!==void 0)return i[w];const T=b.arrayBuffers[w],M=new Uint32Array(T).buffer;return i[w]=M,M}const l=e.isInstancedBufferGeometry?new MU:new Jt,u=e.data.index;if(u!==void 0){const b=lp(u.type,u.array);l.setIndex(new Nn(b,1))}const h=e.data.attributes;for(const b in h){const w=h[b];let A;if(w.isInterleavedBufferAttribute){const T=s(e.data,w.data);A=new vd(T,w.itemSize,w.offset,w.normalized)}else{const T=lp(w.type,w.array),M=w.isInstancedBufferAttribute?Ap:Nn;A=new M(T,w.itemSize,w.normalized)}w.name!==void 0&&(A.name=w.name),w.usage!==void 0&&A.setUsage(w.usage),l.setAttribute(b,A)}const p=e.data.morphAttributes;if(p)for(const b in p){const w=p[b],A=[];for(let T=0,M=w.length;T<M;T++){const N=w[T];let D;if(N.isInterleavedBufferAttribute){const I=s(e.data,N.data);D=new vd(I,N.itemSize,N.offset,N.normalized)}else{const I=lp(N.type,N.array);D=new Nn(I,N.itemSize,N.normalized)}N.name!==void 0&&(D.name=N.name),A.push(D)}l.morphAttributes[b]=A}e.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const m=e.data.groups||e.data.drawcalls||e.data.offsets;if(m!==void 0)for(let b=0,w=m.length;b!==w;++b){const A=m[b];l.addGroup(A.start,A.count,A.materialIndex)}const x=e.data.boundingSphere;return x!==void 0&&(l.boundingSphere=new Bs().fromJSON(x)),e.name&&(l.name=e.name),e.userData&&(l.userData=e.userData),l}}class cq extends sa{constructor(e){super(e)}load(e,t,i,s){const a=this,l=this.path===""?jM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const u=new Dc(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(h){let p=null;try{p=JSON.parse(h)}catch(m){s!==void 0&&s(m),m("ObjectLoader: Can't parse "+e+".",m.message);return}const g=p.metadata;if(g===void 0||g.type===void 0||g.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+e)),Ot("ObjectLoader: Can't load "+e);return}a.parse(p,t)},i,s)}async loadAsync(e,t){const i=this,s=this.path===""?jM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new Dc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const l=await a.loadAsync(e,t),u=JSON.parse(l),h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(u)}parse(e,t){const i=this.parseAnimations(e.animations),s=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,s),l=this.parseImages(e.images,function(){t!==void 0&&t(p)}),u=this.parseTextures(e.textures,l),h=this.parseMaterials(e.materials,u),p=this.parseObject(e.object,a,h,u,i),g=this.parseSkeletons(e.skeletons,p);if(this.bindSkeletons(p,g),this.bindLightTargets(p),t!==void 0){let m=!1;for(const x in l)if(l[x].data instanceof HTMLImageElement){m=!0;break}m===!1&&t(p)}return p}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),l=this.parseTextures(e.textures,a),u=this.parseMaterials(e.materials,l),h=this.parseObject(e.object,s,u,l,t),p=this.parseSkeletons(e.skeletons,h);return this.bindSkeletons(h,p),this.bindLightTargets(h),h}parseShapes(e){const t={};if(e!==void 0)for(let i=0,s=e.length;i<s;i++){const a=new hd().fromJSON(e[i]);t[a.uuid]=a}return t}parseSkeletons(e,t){const i={},s={};if(t.traverse(function(a){a.isBone&&(s[a.uuid]=a)}),e!==void 0)for(let a=0,l=e.length;a<l;a++){const u=new f_().fromJSON(e[a],s);i[u.uuid]=u}return i}parseGeometries(e,t){const i={};if(e!==void 0){const s=new TU;for(let a=0,l=e.length;a<l;a++){let u;const h=e[a];switch(h.type){case"BufferGeometry":case"InstancedBufferGeometry":u=s.parse(h);break;default:h.type in eN?u=eN[h.type].fromJSON(h,t):ht(`ObjectLoader: Unsupported geometry type "${h.type}"`)}u.uuid=h.uuid,h.name!==void 0&&(u.name=h.name),h.userData!==void 0&&(u.userData=h.userData),i[h.uuid]=u}}return i}parseMaterials(e,t){const i={},s={};if(e!==void 0){const a=new A_;a.setTextures(t);for(let l=0,u=e.length;l<u;l++){const h=e[l];i[h.uuid]===void 0&&(i[h.uuid]=a.parse(h)),s[h.uuid]=i[h.uuid]}}return s}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const s=e[i],a=L0.parse(s);t[a.uuid]=a}return t}parseImages(e,t){const i=this,s={};let a;function l(h){return i.manager.itemStart(h),a.load(h,function(){i.manager.itemEnd(h)},void 0,function(){i.manager.itemError(h),i.manager.itemEnd(h)})}function u(h){if(typeof h=="string"){const p=h,g=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;return l(g)}else return h.data?{data:lp(h.type,h.data),width:h.width,height:h.height}:null}if(e!==void 0&&e.length>0){const h=new jE(t);a=new O0(h),a.setCrossOrigin(this.crossOrigin);for(let p=0,g=e.length;p<g;p++){const m=e[p],x=m.url;if(Array.isArray(x)){const b=[];for(let w=0,A=x.length;w<A;w++){const T=x[w],M=u(T);M!==null&&(M instanceof HTMLImageElement?b.push(M):b.push(new Po(M.data,M.width,M.height)))}s[m.uuid]=new Ou(b)}else{const b=u(m.url);s[m.uuid]=new Ou(b)}}}return s}async parseImagesAsync(e){const t=this,i={};let s;async function a(l){if(typeof l=="string"){const u=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:t.resourcePath+u;return await s.loadAsync(h)}else return l.data?{data:lp(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){s=new O0(this.manager),s.setCrossOrigin(this.crossOrigin);for(let l=0,u=e.length;l<u;l++){const h=e[l],p=h.url;if(Array.isArray(p)){const g=[];for(let m=0,x=p.length;m<x;m++){const b=p[m],w=await a(b);w!==null&&(w instanceof HTMLImageElement?g.push(w):g.push(new Po(w.data,w.width,w.height)))}i[h.uuid]=new Ou(g)}else{const g=await a(h.url);i[h.uuid]=new Ou(g)}}}return i}parseTextures(e,t){function i(a,l){return typeof a=="number"?a:(ht("ObjectLoader.parseTexture: Constant should be in numeric form.",a),l[a])}const s={};if(e!==void 0)for(let a=0,l=e.length;a<l;a++){const u=e[a];u.image===void 0&&ht('ObjectLoader: No "image" specified for',u.uuid),t[u.image]===void 0&&ht("ObjectLoader: Undefined image",u.image);const h=t[u.image],p=h.data;let g;Array.isArray(p)?(g=new Z0,p.length===6&&(g.needsUpdate=!0)):(p&&p.data?g=new Po:g=new ki,p&&(g.needsUpdate=!0)),g.source=h,g.uuid=u.uuid,u.name!==void 0&&(g.name=u.name),u.mapping!==void 0&&(g.mapping=i(u.mapping,uq)),u.channel!==void 0&&(g.channel=u.channel),u.offset!==void 0&&g.offset.fromArray(u.offset),u.repeat!==void 0&&g.repeat.fromArray(u.repeat),u.center!==void 0&&g.center.fromArray(u.center),u.rotation!==void 0&&(g.rotation=u.rotation),u.wrap!==void 0&&(g.wrapS=i(u.wrap[0],iN),g.wrapT=i(u.wrap[1],iN)),u.format!==void 0&&(g.format=u.format),u.internalFormat!==void 0&&(g.internalFormat=u.internalFormat),u.type!==void 0&&(g.type=u.type),u.colorSpace!==void 0&&(g.colorSpace=u.colorSpace),u.minFilter!==void 0&&(g.minFilter=i(u.minFilter,sN)),u.magFilter!==void 0&&(g.magFilter=i(u.magFilter,sN)),u.anisotropy!==void 0&&(g.anisotropy=u.anisotropy),u.flipY!==void 0&&(g.flipY=u.flipY),u.generateMipmaps!==void 0&&(g.generateMipmaps=u.generateMipmaps),u.premultiplyAlpha!==void 0&&(g.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(g.unpackAlignment=u.unpackAlignment),u.compareFunction!==void 0&&(g.compareFunction=u.compareFunction),u.userData!==void 0&&(g.userData=u.userData),s[u.uuid]=g}return s}parseObject(e,t,i,s,a){let l;function u(x){return t[x]===void 0&&ht("ObjectLoader: Undefined geometry",x),t[x]}function h(x){if(x!==void 0){if(Array.isArray(x)){const b=[];for(let w=0,A=x.length;w<A;w++){const T=x[w];i[T]===void 0&&ht("ObjectLoader: Undefined material",T),b.push(i[T])}return b}return i[x]===void 0&&ht("ObjectLoader: Undefined material",x),i[x]}}function p(x){return s[x]===void 0&&ht("ObjectLoader: Undefined texture",x),s[x]}let g,m;switch(e.type){case"Scene":l=new TE,e.background!==void 0&&(Number.isInteger(e.background)?l.background=new yt(e.background):l.background=p(e.background)),e.environment!==void 0&&(l.environment=p(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?l.fog=new c_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(l.fog=new l_(e.fog.color,e.fog.density)),e.fog.name!==""&&(l.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(l.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&l.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(l.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&l.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":l=new Es(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(l.focus=e.focus),e.zoom!==void 0&&(l.zoom=e.zoom),e.filmGauge!==void 0&&(l.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(l.filmOffset=e.filmOffset),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"OrthographicCamera":l=new Yp(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(l.zoom=e.zoom),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"AmbientLight":l=new _U(e.color,e.intensity);break;case"DirectionalLight":l=new bU(e.color,e.intensity),l.target=e.target||"";break;case"PointLight":l=new xU(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":l=new SU(e.color,e.intensity,e.width,e.height);break;case"SpotLight":l=new vU(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),l.target=e.target||"";break;case"HemisphereLight":l=new yU(e.color,e.groundColor,e.intensity);break;case"LightProbe":const x=new WE().fromArray(e.sh);l=new wU(x,e.intensity);break;case"SkinnedMesh":g=u(e.geometry),m=h(e.material),l=new kO(g,m),e.bindMode!==void 0&&(l.bindMode=e.bindMode),e.bindMatrix!==void 0&&l.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(l.skeleton=e.skeleton);break;case"Mesh":g=u(e.geometry),m=h(e.material),l=new os(g,m);break;case"InstancedMesh":g=u(e.geometry),m=h(e.material);const b=e.count,w=e.instanceMatrix,A=e.instanceColor;l=new VO(g,m,b),l.instanceMatrix=new Ap(new Float32Array(w.array),16),A!==void 0&&(l.instanceColor=new Ap(new Float32Array(A.array),A.itemSize));break;case"BatchedMesh":g=u(e.geometry),m=h(e.material),l=new HO(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,m),l.geometry=g,l.perObjectFrustumCulled=e.perObjectFrustumCulled,l.sortObjects=e.sortObjects,l._drawRanges=e.drawRanges,l._reservedRanges=e.reservedRanges,l._geometryInfo=e.geometryInfo.map(T=>{let M=null,N=null;return T.boundingBox!==void 0&&(M=new nr().fromJSON(T.boundingBox)),T.boundingSphere!==void 0&&(N=new Bs().fromJSON(T.boundingSphere)),{...T,boundingBox:M,boundingSphere:N}}),l._instanceInfo=e.instanceInfo,l._availableInstanceIds=e._availableInstanceIds,l._availableGeometryIds=e._availableGeometryIds,l._nextIndexStart=e.nextIndexStart,l._nextVertexStart=e.nextVertexStart,l._geometryCount=e.geometryCount,l._maxInstanceCount=e.maxInstanceCount,l._maxVertexCount=e.maxVertexCount,l._maxIndexCount=e.maxIndexCount,l._geometryInitialized=e.geometryInitialized,l._matricesTexture=p(e.matricesTexture.uuid),l._indirectTexture=p(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(l._colorsTexture=p(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(l.boundingSphere=new Bs().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(l.boundingBox=new nr().fromJSON(e.boundingBox));break;case"LOD":l=new BO;break;case"Line":l=new Wu(u(e.geometry),h(e.material));break;case"LineLoop":l=new jO(u(e.geometry),h(e.material));break;case"LineSegments":l=new Ul(u(e.geometry),h(e.material));break;case"PointCloud":case"Points":l=new GO(u(e.geometry),h(e.material));break;case"Sprite":l=new FO(h(e.material));break;case"Group":l=new cp;break;case"Bone":l=new AE;break;default:l=new Ln}if(l.uuid=e.uuid,e.name!==void 0&&(l.name=e.name),e.matrix!==void 0?(l.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=e.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(e.position!==void 0&&l.position.fromArray(e.position),e.rotation!==void 0&&l.rotation.fromArray(e.rotation),e.quaternion!==void 0&&l.quaternion.fromArray(e.quaternion),e.scale!==void 0&&l.scale.fromArray(e.scale)),e.up!==void 0&&l.up.fromArray(e.up),e.castShadow!==void 0&&(l.castShadow=e.castShadow),e.receiveShadow!==void 0&&(l.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(l.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(l.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(l.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(l.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(l.visible=e.visible),e.frustumCulled!==void 0&&(l.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(l.renderOrder=e.renderOrder),e.userData!==void 0&&(l.userData=e.userData),e.layers!==void 0&&(l.layers.mask=e.layers),e.children!==void 0){const x=e.children;for(let b=0;b<x.length;b++)l.add(this.parseObject(x[b],t,i,s,a))}if(e.animations!==void 0){const x=e.animations;for(let b=0;b<x.length;b++){const w=x[b];l.animations.push(a[w])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(l.autoUpdate=e.autoUpdate);const x=e.levels;for(let b=0;b<x.length;b++){const w=x[b],A=l.getObjectByProperty("uuid",w.object);A!==void 0&&l.addLevel(A,w.distance,w.hysteresis)}}return l}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const s=t[i.skeleton];s===void 0?ht("ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(s,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,s=e.getObjectByProperty("uuid",i);s!==void 0?t.target=s:t.target=new Ln}})}}const uq={UVMapping:$1,CubeReflectionMapping:Nl,CubeRefractionMapping:Hu,EquirectangularReflectionMapping:x0,EquirectangularRefractionMapping:b0,CubeUVReflectionMapping:Gp},iN={RepeatWrapping:_0,ClampToEdgeWrapping:Jr,MirroredRepeatWrapping:S0},sN={NearestFilter:Zi,NearestMipmapNearestFilter:dE,NearestMipmapLinearFilter:op,LinearFilter:gi,LinearMipmapNearestFilter:Qg,LinearMipmapLinearFilter:Sl},Sw=new WeakMap;class fq extends sa{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&ht("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&ht("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,l=wl.get(`image-bitmap:${e}`);if(l!==void 0){if(a.manager.itemStart(e),l.then){l.then(p=>{if(Sw.has(l)===!0)s&&s(Sw.get(l)),a.manager.itemError(e),a.manager.itemEnd(e);else return t&&t(p),a.manager.itemEnd(e),p});return}return setTimeout(function(){t&&t(l),a.manager.itemEnd(e)},0),l}const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader,u.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const h=fetch(e,u).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(p){return wl.add(`image-bitmap:${e}`,p),t&&t(p),a.manager.itemEnd(e),p}).catch(function(p){s&&s(p),Sw.set(h,p),wl.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});wl.add(`image-bitmap:${e}`,h),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Ux;class XE{static getContext(){return Ux===void 0&&(Ux=new(window.AudioContext||window.webkitAudioContext)),Ux}static setContext(e){Ux=e}}class dq extends sa{constructor(e){super(e)}load(e,t,i,s){const a=this,l=new Dc(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(h){try{const p=h.slice(0);XE.getContext().decodeAudioData(p,function(m){t(m)}).catch(u)}catch(p){u(p)}},i,s);function u(h){s?s(h):Ot(h),a.manager.itemError(e)}}}const rN=new $t,aN=new $t,Xf=new $t;class hq{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Es,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Es,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Xf.copy(e.projectionMatrix);const s=t.eyeSep/2,a=s*t.near/t.focus,l=t.near*Math.tan(dd*t.fov*.5)/t.zoom;let u,h;aN.elements[12]=-s,rN.elements[12]=s,u=-l*t.aspect+a,h=l*t.aspect+a,Xf.elements[0]=2*t.near/(h-u),Xf.elements[8]=(h+u)/(h-u),this.cameraL.projectionMatrix.copy(Xf),u=-l*t.aspect-a,h=l*t.aspect-a,Xf.elements[0]=2*t.near/(h-u),Xf.elements[8]=(h+u)/(h-u),this.cameraR.projectionMatrix.copy(Xf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(aN),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(rN)}}class EU extends Es{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class qE{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const qf=new K,ww=new ta,pq=new K,Yf=new K,$f=new K;class mq extends Ln{constructor(){super(),this.type="AudioListener",this.context=XE.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new qE}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(qf,ww,pq),Yf.set(0,0,-1).applyQuaternion(ww),$f.set(0,1,0).applyQuaternion(ww),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(qf.x,i),t.positionY.linearRampToValueAtTime(qf.y,i),t.positionZ.linearRampToValueAtTime(qf.z,i),t.forwardX.linearRampToValueAtTime(Yf.x,i),t.forwardY.linearRampToValueAtTime(Yf.y,i),t.forwardZ.linearRampToValueAtTime(Yf.z,i),t.upX.linearRampToValueAtTime($f.x,i),t.upY.linearRampToValueAtTime($f.y,i),t.upZ.linearRampToValueAtTime($f.z,i)}else t.setPosition(qf.x,qf.y,qf.z),t.setOrientation(Yf.x,Yf.y,Yf.z,$f.x,$f.y,$f.z)}}class AU extends Ln{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){ht("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){ht("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){ht("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){ht("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){ht("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(ht("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){ht("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(ht("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Zf=new K,oN=new ta,gq=new K,Kf=new K;class yq extends AU{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Zf,oN,gq),Kf.set(0,0,1).applyQuaternion(oN);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Zf.x,i),t.positionY.linearRampToValueAtTime(Zf.y,i),t.positionZ.linearRampToValueAtTime(Zf.z,i),t.orientationX.linearRampToValueAtTime(Kf.x,i),t.orientationY.linearRampToValueAtTime(Kf.y,i),t.orientationZ.linearRampToValueAtTime(Kf.z,i)}else t.setPosition(Zf.x,Zf.y,Zf.z),t.setOrientation(Kf.x,Kf.y,Kf.z)}}class vq{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class CU{constructor(e,t,i){this.binding=e,this.valueSize=i;let s,a,l;switch(t){case"quaternion":s=this._slerp,a=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":s=this._select,a=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:s=this._lerp,a=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=a,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,s=this.valueSize,a=e*s+s;let l=this.cumulativeWeight;if(l===0){for(let u=0;u!==s;++u)i[a+u]=i[u];l=t}else{l+=t;const u=t/l;this._mixBufferRegion(i,a,0,u,s)}this.cumulativeWeight=l}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,s=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,s,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,s=e*t+t,a=this.cumulativeWeight,l=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const h=t*this._origIndex;this._mixBufferRegion(i,s,h,1-a,t)}l>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*t,1,t);for(let h=t,p=t+t;h!==p;++h)if(i[h]!==i[h+t]){u.setValue(i,s);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,s=i*this._origIndex;e.getValue(t,s);for(let a=i,l=s;a!==l;++a)t[a]=t[s+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,s,a){if(s>=.5)for(let l=0;l!==a;++l)e[t+l]=e[i+l]}_slerp(e,t,i,s){ta.slerpFlat(e,t,e,t,e,i,s)}_slerpAdditive(e,t,i,s,a){const l=this._workIndex*a;ta.multiplyQuaternionsFlat(e,l,e,t,e,i),ta.slerpFlat(e,t,e,t,e,l,s)}_lerp(e,t,i,s,a){const l=1-s;for(let u=0;u!==a;++u){const h=t+u;e[h]=e[h]*l+e[i+u]*s}}_lerpAdditive(e,t,i,s,a){for(let l=0;l!==a;++l){const u=t+l;e[u]=e[u]+e[i+l]*s}}}const YE="\\[\\]\\.:\\/",xq=new RegExp("["+YE+"]","g"),$E="[^"+YE+"]",bq="[^"+YE.replace("\\.","")+"]",_q=/((?:WC+[\/:])*)/.source.replace("WC",$E),Sq=/(WCOD+)?/.source.replace("WCOD",bq),wq=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",$E),Mq=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",$E),Tq=new RegExp("^"+_q+Sq+wq+Mq+"$"),Eq=["material","materials","bones","map"];class Aq{constructor(e,t,i){const s=i||Un.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,s)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,s=this._bindings[i];s!==void 0&&s.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,a=i.length;s!==a;++s)i[s].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Un{constructor(e,t,i){this.path=t,this.parsedPath=i||Un.parseTrackName(t),this.node=Un.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Un.Composite(e,t,i):new Un(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(xq,"")}static parseTrackName(e){const t=Tq.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const a=i.nodeName.substring(s+1);Eq.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(a){for(let l=0;l<a.length;l++){const u=a[l];if(u.name===t||u.uuid===t)return u;const h=i(u.children);if(h)return h}return null},s=i(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let s=0,a=i.length;s!==a;++s)e[t++]=i[s]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let s=0,a=i.length;s!==a;++s)i[s]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let s=0,a=i.length;s!==a;++s)i[s]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let s=0,a=i.length;s!==a;++s)i[s]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,s=t.propertyName;let a=t.propertyIndex;if(e||(e=Un.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){ht("PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let p=t.objectIndex;switch(i){case"materials":if(!e.material){Ot("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Ot("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Ot("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let g=0;g<e.length;g++)if(e[g].name===p){p=g;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Ot("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Ot("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){Ot("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(p!==void 0){if(e[p]===void 0){Ot("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[p]}}const l=e[s];if(l===void 0){const p=t.nodeName;Ot("PropertyBinding: Trying to update property for track: "+p+"."+s+" but it wasn't found.",e);return}let u=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?u=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(a!==void 0){if(s==="morphTargetInfluences"){if(!e.geometry){Ot("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Ot("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}h=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=a}else l.fromArray!==void 0&&l.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(h=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=s;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Un.Composite=Aq;Un.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Un.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Un.prototype.GetterByBindingType=[Un.prototype._getValue_direct,Un.prototype._getValue_array,Un.prototype._getValue_arrayElement,Un.prototype._getValue_toArray];Un.prototype.SetterByBindingTypeAndVersioning=[[Un.prototype._setValue_direct,Un.prototype._setValue_direct_setNeedsUpdate,Un.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Un.prototype._setValue_array,Un.prototype._setValue_array_setNeedsUpdate,Un.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Un.prototype._setValue_arrayElement,Un.prototype._setValue_arrayElement_setNeedsUpdate,Un.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Un.prototype._setValue_fromArray,Un.prototype._setValue_fromArray_setNeedsUpdate,Un.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Cq{constructor(){this.isAnimationObjectGroup=!0,this.uuid=xa(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,s=arguments.length;i!==s;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,s=this._parsedPaths,a=this._bindings,l=a.length;let u,h=e.length,p=this.nCachedObjects_;for(let g=0,m=arguments.length;g!==m;++g){const x=arguments[g],b=x.uuid;let w=t[b];if(w===void 0){w=h++,t[b]=w,e.push(x);for(let A=0,T=l;A!==T;++A)a[A].push(new Un(x,i[A],s[A]))}else if(w<p){u=e[w];const A=--p,T=e[A];t[T.uuid]=w,e[w]=T,t[b]=A,e[A]=x;for(let M=0,N=l;M!==N;++M){const D=a[M],I=D[A];let O=D[w];D[w]=I,O===void 0&&(O=new Un(x,i[M],s[M])),D[A]=O}}else e[w]!==u&&Ot("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,s=i.length;let a=this.nCachedObjects_;for(let l=0,u=arguments.length;l!==u;++l){const h=arguments[l],p=h.uuid,g=t[p];if(g!==void 0&&g>=a){const m=a++,x=e[m];t[x.uuid]=g,e[g]=x,t[p]=m,e[m]=h;for(let b=0,w=s;b!==w;++b){const A=i[b],T=A[m],M=A[g];A[g]=T,A[m]=M}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,s=i.length;let a=this.nCachedObjects_,l=e.length;for(let u=0,h=arguments.length;u!==h;++u){const p=arguments[u],g=p.uuid,m=t[g];if(m!==void 0)if(delete t[g],m<a){const x=--a,b=e[x],w=--l,A=e[w];t[b.uuid]=m,e[m]=b,t[A.uuid]=x,e[x]=A,e.pop();for(let T=0,M=s;T!==M;++T){const N=i[T],D=N[x],I=N[w];N[m]=D,N[x]=I,N.pop()}}else{const x=--l,b=e[x];x>0&&(t[b.uuid]=m),e[m]=b,e.pop();for(let w=0,A=s;w!==A;++w){const T=i[w];T[m]=T[x],T.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const i=this._bindingsIndicesByPath;let s=i[e];const a=this._bindings;if(s!==void 0)return a[s];const l=this._paths,u=this._parsedPaths,h=this._objects,p=h.length,g=this.nCachedObjects_,m=new Array(p);s=a.length,i[e]=s,l.push(e),u.push(t),a.push(m);for(let x=g,b=h.length;x!==b;++x){const w=h[x];m[x]=new Un(w,e,t)}return m}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const s=this._paths,a=this._parsedPaths,l=this._bindings,u=l.length-1,h=l[u],p=e[u];t[p]=i,l[i]=h,l.pop(),a[i]=a[u],a.pop(),s[i]=s[u],s.pop()}}}class RU{constructor(e,t,i=null,s=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=s;const a=t.tracks,l=a.length,u=new Array(l),h={endingStart:ad,endingEnd:ad};for(let p=0;p!==l;++p){const g=a[p].createInterpolant(null);u[p]=g,g.settings=h}this._interpolantSettings=h,this._interpolants=u,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=xO,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const s=this._clip.duration,a=e._clip.duration,l=a/s,u=s/a;e.warp(1,l,t),this.warp(u,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const s=this._mixer,a=s.time,l=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=s._lendControlInterpolant(),this._timeScaleInterpolant=u);const h=u.parameterPositions,p=u.sampleValues;return h[0]=a,h[1]=a+i,p[0]=e/l,p[1]=t/l,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,s){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const h=(e-a)*i;h<0||i===0?t=0:(this._startTime=null,t=i*h)}t*=this._updateTimeScale(e);const l=this._updateTime(t),u=this._updateWeight(e);if(u>0){const h=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case xE:for(let g=0,m=h.length;g!==m;++g)h[g].evaluate(l),p[g].accumulateAdditive(u);break;case n_:default:for(let g=0,m=h.length;g!==m;++g)h[g].evaluate(l),p[g].accumulate(s,u)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const s=i.evaluate(e)[0];t*=s,e>i.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const s=i.evaluate(e)[0];t*=s,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let s=this.time+e,a=this._loopCount;const l=i===bO;if(e===0)return a===-1?s:l&&(a&1)===1?t-s:s;if(i===vO){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=t)s=t;else if(s<0)s=0;else{this.time=s;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),s>=t||s<0){const u=Math.floor(s/t);s-=t*u,a+=Math.abs(u);const h=this.repetitions-a;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=e>0?t:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(h===1){const p=e<0;this._setEndings(p,!p,l)}else this._setEndings(!1,!1,l);this._loopCount=a,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=s;if(l&&(a&1)===1)return t-s}return s}_setEndings(e,t,i){const s=this._interpolantSettings;i?(s.endingStart=od,s.endingEnd=od):(e?s.endingStart=this.zeroSlopeAtStart?od:ad:s.endingStart=M0,t?s.endingEnd=this.zeroSlopeAtEnd?od:ad:s.endingEnd=M0)}_scheduleFading(e,t,i){const s=this._mixer,a=s.time;let l=this._weightInterpolant;l===null&&(l=s._lendControlInterpolant(),this._weightInterpolant=l);const u=l.parameterPositions,h=l.sampleValues;return u[0]=a,h[0]=t,u[1]=a+e,h[1]=i,this}}const Rq=new Float32Array(1);class Nq extends Ol{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,s=e._clip.tracks,a=s.length,l=e._propertyBindings,u=e._interpolants,h=i.uuid,p=this._bindingsByRootAndName;let g=p[h];g===void 0&&(g={},p[h]=g);for(let m=0;m!==a;++m){const x=s[m],b=x.name;let w=g[b];if(w!==void 0)++w.referenceCount,l[m]=w;else{if(w=l[m],w!==void 0){w._cacheIndex===null&&(++w.referenceCount,this._addInactiveBinding(w,h,b));continue}const A=t&&t._propertyBindings[m].binding.parsedPath;w=new CU(Un.create(i,b,A),x.ValueTypeName,x.getValueSize()),++w.referenceCount,this._addInactiveBinding(w,h,b),l[m]=w}u[m].resultBuffer=w.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,s=e._clip.uuid,a=this._actionsByClip[s];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,s,i)}const t=e._propertyBindings;for(let i=0,s=t.length;i!==s;++i){const a=t[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,s=t.length;i!==s;++i){const a=t[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const s=this._actions,a=this._actionsByClip;let l=a[t];if(l===void 0)l={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=l;else{const u=l.knownActions;e._byClipCacheIndex=u.length,u.push(e)}e._cacheIndex=s.length,s.push(e),l.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],s=e._cacheIndex;i._cacheIndex=s,t[s]=i,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,l=this._actionsByClip,u=l[a],h=u.knownActions,p=h[h.length-1],g=e._byClipCacheIndex;p._byClipCacheIndex=g,h[g]=p,h.pop(),e._byClipCacheIndex=null;const m=u.actionByRoot,x=(e._localRoot||this._root).uuid;delete m[x],h.length===0&&delete l[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,s=t.length;i!==s;++i){const a=t[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,s=this._nActiveActions++,a=t[s];e._cacheIndex=s,t[s]=e,a._cacheIndex=i,t[i]=a}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,s=--this._nActiveActions,a=t[s];e._cacheIndex=s,t[s]=e,a._cacheIndex=i,t[i]=a}_addInactiveBinding(e,t,i){const s=this._bindingsByRootAndName,a=this._bindings;let l=s[t];l===void 0&&(l={},s[t]=l),l[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,s=i.rootNode.uuid,a=i.path,l=this._bindingsByRootAndName,u=l[s],h=t[t.length-1],p=e._cacheIndex;h._cacheIndex=p,t[p]=h,t.pop(),delete u[a],Object.keys(u).length===0&&delete l[s]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,s=this._nActiveBindings++,a=t[s];e._cacheIndex=s,t[s]=e,a._cacheIndex=i,t[i]=a}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,s=--this._nActiveBindings,a=t[s];e._cacheIndex=s,t[s]=e,a._cacheIndex=i,t[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new VE(new Float32Array(2),new Float32Array(2),1,Rq),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,s=--this._nActiveControlInterpolants,a=t[s];e.__cacheIndex=s,t[s]=e,a.__cacheIndex=i,t[i]=a}clipAction(e,t,i){const s=t||this._root,a=s.uuid;let l=typeof e=="string"?L0.findByName(s,e):e;const u=l!==null?l.uuid:e,h=this._actionsByClip[u];let p=null;if(i===void 0&&(l!==null?i=l.blendMode:i=n_),h!==void 0){const m=h.actionByRoot[a];if(m!==void 0&&m.blendMode===i)return m;p=h.knownActions[0],l===null&&(l=p._clip)}if(l===null)return null;const g=new RU(this,l,t,i);return this._bindAction(g,p),this._addInactiveAction(g,u,a),g}existingAction(e,t){const i=t||this._root,s=i.uuid,a=typeof e=="string"?L0.findByName(i,e):e,l=a?a.uuid:e,u=this._actionsByClip[l];return u!==void 0&&u.actionByRoot[s]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,s=this.time+=e,a=Math.sign(e),l=this._accuIndex^=1;for(let p=0;p!==i;++p)t[p]._update(s,e,a,l);const u=this._bindings,h=this._nActiveBindings;for(let p=0;p!==h;++p)u[p].apply(l);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,s=this._actionsByClip,a=s[i];if(a!==void 0){const l=a.knownActions;for(let u=0,h=l.length;u!==h;++u){const p=l[u];this._deactivateAction(p);const g=p._cacheIndex,m=t[t.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,m._cacheIndex=g,t[g]=m,t.pop(),this._removeInactiveBindingsForAction(p)}delete s[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const l in i){const u=i[l].actionByRoot,h=u[t];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const s=this._bindingsByRootAndName,a=s[t];if(a!==void 0)for(const l in a){const u=a[l];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class Dq extends _E{constructor(e=1,t=1,i=1,s={}){super(e,t,s),this.isRenderTarget3D=!0,this.depth=i,this.texture=new a_(null,e,t,i),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}}class ZE{constructor(e){this.value=e}clone(){return new ZE(this.value.clone===void 0?this.value:this.value.clone())}}let Pq=0;class Iq extends Ol{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Pq++}),this.name="",this.usage=E0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,s=t.length;i<s;i++){const a=Array.isArray(t[i])?t[i]:[t[i]];for(let l=0;l<a.length;l++)this.uniforms.push(a[l].clone())}return this}clone(){return new this.constructor().copy(this)}}class Lq extends u_{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Oq{constructor(e,t,i,s,a,l=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=s,this.count=a,this.normalized=l,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const lN=new $t;class KE{constructor(e,t,i=0,s=1/0){this.ray=new Wp(e,t),this.near=i,this.far=s,this.camera=null,this.layers=new Tp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):Ot("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return lN.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(lN),this}intersectObject(e,t=!0,i=[]){return GM(e,this,i,t),i.sort(cN),i}intersectObjects(e,t=!0,i=[]){for(let s=0,a=e.length;s<a;s++)GM(e[s],this,i,t);return i.sort(cN),i}}function cN(n,e){return n.distance-e.distance}function GM(n,e,t,i){let s=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(s=!1),s===!0&&i===!0){const a=n.children;for(let l=0,u=a.length;l<u;l++)GM(a[l],e,t,!0)}}class Uq{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=zq.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function zq(){this._document.hidden===!1&&this.reset()}class NU{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Yt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Yt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Fq{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class QE{constructor(e,t,i,s){QE.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,s)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,s){const a=this.elements;return a[0]=e,a[2]=t,a[1]=i,a[3]=s,this}}const uN=new ke;class Bq{constructor(e=new ke(1/0,1/0),t=new ke(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=uN.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,uN).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const fN=new K,zx=new K,$h=new K,Zh=new K,Mw=new K,kq=new K,Vq=new K;class Hq{constructor(e=new K,t=new K){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){fN.subVectors(e,this.start),zx.subVectors(this.end,this.start);const i=zx.dot(zx);let a=zx.dot(fN)/i;return t&&(a=Yt(a,0,1)),a}closestPointToPoint(e,t,i){const s=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(s).add(this.start)}distanceSqToLine3(e,t=kq,i=Vq){const s=10000000000000001e-32;let a,l;const u=this.start,h=e.start,p=this.end,g=e.end;$h.subVectors(p,u),Zh.subVectors(g,h),Mw.subVectors(u,h);const m=$h.dot($h),x=Zh.dot(Zh),b=Zh.dot(Mw);if(m<=s&&x<=s)return t.copy(u),i.copy(h),t.sub(i),t.dot(t);if(m<=s)a=0,l=b/x,l=Yt(l,0,1);else{const w=$h.dot(Mw);if(x<=s)l=0,a=Yt(-w/m,0,1);else{const A=$h.dot(Zh),T=m*x-A*A;T!==0?a=Yt((A*b-w*x)/T,0,1):a=0,l=(A*a+b)/x,l<0?(l=0,a=Yt(-w/m,0,1)):l>1&&(l=1,a=Yt((A-w)/m,0,1))}}return t.copy(u).add($h.multiplyScalar(a)),i.copy(h).add(Zh.multiplyScalar(l)),t.sub(i),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const dN=new K;class jq extends Ln{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Jt,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,u=1,h=32;l<h;l++,u++){const p=l/h*Math.PI*2,g=u/h*Math.PI*2;s.push(Math.cos(p),Math.sin(p),1,Math.cos(g),Math.sin(g),1)}i.setAttribute("position",new Tt(s,3));const a=new Ar({fog:!1,toneMapped:!1});this.cone=new Ul(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),dN.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(dN),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ru=new K,Fx=new $t,Tw=new $t;class Gq extends Ul{constructor(e){const t=DU(e),i=new Jt,s=[],a=[];for(let p=0;p<t.length;p++){const g=t[p];g.parent&&g.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}i.setAttribute("position",new Tt(s,3)),i.setAttribute("color",new Tt(a,3));const l=new Ar({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const u=new yt(255),h=new yt(65280);this.setColors(u,h)}updateMatrixWorld(e){const t=this.bones,i=this.geometry,s=i.getAttribute("position");Tw.copy(this.root.matrixWorld).invert();for(let a=0,l=0;a<t.length;a++){const u=t[a];u.parent&&u.parent.isBone&&(Fx.multiplyMatrices(Tw,u.matrixWorld),Ru.setFromMatrixPosition(Fx),s.setXYZ(l,Ru.x,Ru.y,Ru.z),Fx.multiplyMatrices(Tw,u.parent.matrixWorld),Ru.setFromMatrixPosition(Fx),s.setXYZ(l+1,Ru.x,Ru.y,Ru.z),l+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const s=this.geometry.getAttribute("color");for(let a=0;a<s.count;a+=2)s.setXYZ(a,e.r,e.g,e.b),s.setXYZ(a+1,t.r,t.g,t.b);return s.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function DU(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...DU(n.children[t]));return e}class Wq extends os{constructor(e,t,i){const s=new ey(t,4,2),a=new $u({wireframe:!0,fog:!1,toneMapped:!1});super(s,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Xq=new K,hN=new yt,pN=new yt;class qq extends Ln{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const s=new J0(t);s.rotateY(Math.PI*.5),this.material=new $u({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=s.getAttribute("position"),l=new Float32Array(a.count*3);s.setAttribute("color",new Nn(l,3)),this.add(new os(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");hN.copy(this.light.color),pN.copy(this.light.groundColor);for(let i=0,s=t.count;i<s;i++){const a=i<s/2?hN:pN;t.setXYZ(i,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Xq.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Yq extends Ul{constructor(e=10,t=10,i=4473924,s=8947848){i=new yt(i),s=new yt(s);const a=t/2,l=e/t,u=e/2,h=[],p=[];for(let x=0,b=0,w=-u;x<=t;x++,w+=l){h.push(-u,0,w,u,0,w),h.push(w,0,-u,w,0,u);const A=x===a?i:s;A.toArray(p,b),b+=3,A.toArray(p,b),b+=3,A.toArray(p,b),b+=3,A.toArray(p,b),b+=3}const g=new Jt;g.setAttribute("position",new Tt(h,3)),g.setAttribute("color",new Tt(p,3));const m=new Ar({vertexColors:!0,toneMapped:!1});super(g,m),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class $q extends Ul{constructor(e=10,t=16,i=8,s=64,a=4473924,l=8947848){a=new yt(a),l=new yt(l);const u=[],h=[];if(t>1)for(let m=0;m<t;m++){const x=m/t*(Math.PI*2),b=Math.sin(x)*e,w=Math.cos(x)*e;u.push(0,0,0),u.push(b,0,w);const A=m&1?a:l;h.push(A.r,A.g,A.b),h.push(A.r,A.g,A.b)}for(let m=0;m<i;m++){const x=m&1?a:l,b=e-e/i*m;for(let w=0;w<s;w++){let A=w/s*(Math.PI*2),T=Math.sin(A)*b,M=Math.cos(A)*b;u.push(T,0,M),h.push(x.r,x.g,x.b),A=(w+1)/s*(Math.PI*2),T=Math.sin(A)*b,M=Math.cos(A)*b,u.push(T,0,M),h.push(x.r,x.g,x.b)}}const p=new Jt;p.setAttribute("position",new Tt(u,3)),p.setAttribute("color",new Tt(h,3));const g=new Ar({vertexColors:!0,toneMapped:!1});super(p,g),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const mN=new K,Bx=new K,gN=new K;class Zq extends Ln{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let s=new Jt;s.setAttribute("position",new Tt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new Ar({fog:!1,toneMapped:!1});this.lightPlane=new Wu(s,a),this.add(this.lightPlane),s=new Jt,s.setAttribute("position",new Tt([0,0,0,0,0,1],3)),this.targetLine=new Wu(s,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),mN.setFromMatrixPosition(this.light.matrixWorld),Bx.setFromMatrixPosition(this.light.target.matrixWorld),gN.subVectors(Bx,mN),this.lightPlane.lookAt(Bx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Bx),this.targetLine.scale.z=gN.length()}}const kx=new K,Fi=new o_;class Kq extends Ul{constructor(e){const t=new Jt,i=new Ar({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],a=[],l={};u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4");function u(w,A){h(w),h(A)}function h(w){s.push(0,0,0),a.push(0,0,0),l[w]===void 0&&(l[w]=[]),l[w].push(s.length/3-1)}t.setAttribute("position",new Tt(s,3)),t.setAttribute("color",new Tt(a,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const p=new yt(16755200),g=new yt(16711680),m=new yt(43775),x=new yt(16777215),b=new yt(3355443);this.setColors(p,g,m,x,b)}setColors(e,t,i,s,a){const u=this.geometry.getAttribute("color");return u.setXYZ(0,e.r,e.g,e.b),u.setXYZ(1,e.r,e.g,e.b),u.setXYZ(2,e.r,e.g,e.b),u.setXYZ(3,e.r,e.g,e.b),u.setXYZ(4,e.r,e.g,e.b),u.setXYZ(5,e.r,e.g,e.b),u.setXYZ(6,e.r,e.g,e.b),u.setXYZ(7,e.r,e.g,e.b),u.setXYZ(8,e.r,e.g,e.b),u.setXYZ(9,e.r,e.g,e.b),u.setXYZ(10,e.r,e.g,e.b),u.setXYZ(11,e.r,e.g,e.b),u.setXYZ(12,e.r,e.g,e.b),u.setXYZ(13,e.r,e.g,e.b),u.setXYZ(14,e.r,e.g,e.b),u.setXYZ(15,e.r,e.g,e.b),u.setXYZ(16,e.r,e.g,e.b),u.setXYZ(17,e.r,e.g,e.b),u.setXYZ(18,e.r,e.g,e.b),u.setXYZ(19,e.r,e.g,e.b),u.setXYZ(20,e.r,e.g,e.b),u.setXYZ(21,e.r,e.g,e.b),u.setXYZ(22,e.r,e.g,e.b),u.setXYZ(23,e.r,e.g,e.b),u.setXYZ(24,t.r,t.g,t.b),u.setXYZ(25,t.r,t.g,t.b),u.setXYZ(26,t.r,t.g,t.b),u.setXYZ(27,t.r,t.g,t.b),u.setXYZ(28,t.r,t.g,t.b),u.setXYZ(29,t.r,t.g,t.b),u.setXYZ(30,t.r,t.g,t.b),u.setXYZ(31,t.r,t.g,t.b),u.setXYZ(32,i.r,i.g,i.b),u.setXYZ(33,i.r,i.g,i.b),u.setXYZ(34,i.r,i.g,i.b),u.setXYZ(35,i.r,i.g,i.b),u.setXYZ(36,i.r,i.g,i.b),u.setXYZ(37,i.r,i.g,i.b),u.setXYZ(38,s.r,s.g,s.b),u.setXYZ(39,s.r,s.g,s.b),u.setXYZ(40,a.r,a.g,a.b),u.setXYZ(41,a.r,a.g,a.b),u.setXYZ(42,a.r,a.g,a.b),u.setXYZ(43,a.r,a.g,a.b),u.setXYZ(44,a.r,a.g,a.b),u.setXYZ(45,a.r,a.g,a.b),u.setXYZ(46,a.r,a.g,a.b),u.setXYZ(47,a.r,a.g,a.b),u.setXYZ(48,a.r,a.g,a.b),u.setXYZ(49,a.r,a.g,a.b),u.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,i=1,s=1;let a,l;if(Fi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,l=0;else if(this.camera.coordinateSystem===ya)a=-1,l=1;else if(this.camera.coordinateSystem===Sp)a=0,l=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);$i("c",t,e,Fi,0,0,a),$i("t",t,e,Fi,0,0,l),$i("n1",t,e,Fi,-i,-s,a),$i("n2",t,e,Fi,i,-s,a),$i("n3",t,e,Fi,-i,s,a),$i("n4",t,e,Fi,i,s,a),$i("f1",t,e,Fi,-i,-s,l),$i("f2",t,e,Fi,i,-s,l),$i("f3",t,e,Fi,-i,s,l),$i("f4",t,e,Fi,i,s,l),$i("u1",t,e,Fi,i*.7,s*1.1,a),$i("u2",t,e,Fi,-i*.7,s*1.1,a),$i("u3",t,e,Fi,0,s*2,a),$i("cf1",t,e,Fi,-i,0,l),$i("cf2",t,e,Fi,i,0,l),$i("cf3",t,e,Fi,0,-s,l),$i("cf4",t,e,Fi,0,s,l),$i("cn1",t,e,Fi,-i,0,a),$i("cn2",t,e,Fi,i,0,a),$i("cn3",t,e,Fi,0,-s,a),$i("cn4",t,e,Fi,0,s,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function $i(n,e,t,i,s,a,l){kx.set(s,a,l).unproject(i);const u=e[n];if(u!==void 0){const h=t.getAttribute("position");for(let p=0,g=u.length;p<g;p++)h.setXYZ(u[p],kx.x,kx.y,kx.z)}}const Vx=new nr;class Qq extends Ul{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(24),a=new Jt;a.setIndex(new Nn(i,1)),a.setAttribute("position",new Nn(s,3)),super(a,new Ar({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Vx.setFromObject(this.object),Vx.isEmpty())return;const e=Vx.min,t=Vx.max,i=this.geometry.attributes.position,s=i.array;s[0]=t.x,s[1]=t.y,s[2]=t.z,s[3]=e.x,s[4]=t.y,s[5]=t.z,s[6]=e.x,s[7]=e.y,s[8]=t.z,s[9]=t.x,s[10]=e.y,s[11]=t.z,s[12]=t.x,s[13]=t.y,s[14]=e.z,s[15]=e.x,s[16]=t.y,s[17]=e.z,s[18]=e.x,s[19]=e.y,s[20]=e.z,s[21]=t.x,s[22]=e.y,s[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Jq extends Ul{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Jt;a.setIndex(new Nn(i,1)),a.setAttribute("position",new Tt(s,3)),super(a,new Ar({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class eY extends Wu{constructor(e,t=1,i=16776960){const s=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new Jt;l.setAttribute("position",new Tt(a,3)),l.computeBoundingSphere(),super(l,new Ar({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],h=new Jt;h.setAttribute("position",new Tt(u,3)),h.computeBoundingSphere(),this.add(new os(h,new $u({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const yN=new K;let Hx,Ew;class tY extends Ln{constructor(e=new K(0,0,1),t=new K(0,0,0),i=1,s=16776960,a=i*.2,l=a*.2){super(),this.type="ArrowHelper",Hx===void 0&&(Hx=new Jt,Hx.setAttribute("position",new Tt([0,0,0,0,1,0],3)),Ew=new Q0(.5,1,5,1),Ew.translate(0,-.5,0)),this.position.copy(t),this.line=new Wu(Hx,new Ar({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new os(Ew,new $u({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,l)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{yN.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(yN,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class nY extends Ul{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new Jt;s.setAttribute("position",new Tt(t,3)),s.setAttribute("color",new Tt(i,3));const a=new Ar({vertexColors:!0,toneMapped:!1});super(s,a),this.type="AxesHelper"}setColors(e,t,i){const s=new yt,a=this.geometry.attributes.color.array;return s.set(e),s.toArray(a,0),s.toArray(a,3),s.set(t),s.toArray(a,6),s.toArray(a,9),s.set(i),s.toArray(a,12),s.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class iY{constructor(){this.type="ShapePath",this.color=new yt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new v1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,s){return this.currentPath.quadraticCurveTo(e,t,i,s),this}bezierCurveTo(e,t,i,s,a,l){return this.currentPath.bezierCurveTo(e,t,i,s,a,l),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(M){const N=[];for(let D=0,I=M.length;D<I;D++){const O=M[D],F=new hd;F.curves=O.curves,N.push(F)}return N}function i(M,N){const D=N.length;let I=!1;for(let O=D-1,F=0;F<D;O=F++){let B=N[O],H=N[F],z=H.x-B.x,k=H.y-B.y;if(Math.abs(k)>Number.EPSILON){if(k<0&&(B=N[F],z=-z,H=N[O],k=-k),M.y<B.y||M.y>H.y)continue;if(M.y===B.y){if(M.x===B.x)return!0}else{const $=k*(M.x-B.x)-z*(M.y-B.y);if($===0)return!0;if($<0)continue;I=!I}}else{if(M.y!==B.y)continue;if(H.x<=M.x&&M.x<=B.x||B.x<=M.x&&M.x<=H.x)return!0}}return I}const s=Do.isClockWise,a=this.subPaths;if(a.length===0)return[];let l,u,h;const p=[];if(a.length===1)return u=a[0],h=new hd,h.curves=u.curves,p.push(h),p;let g=!s(a[0].getPoints());g=e?!g:g;const m=[],x=[];let b=[],w=0,A;x[w]=void 0,b[w]=[];for(let M=0,N=a.length;M<N;M++)u=a[M],A=u.getPoints(),l=s(A),l=e?!l:l,l?(!g&&x[w]&&w++,x[w]={s:new hd,p:A},x[w].s.curves=u.curves,g&&w++,b[w]=[]):b[w].push({h:u,p:A[0]});if(!x[0])return t(a);if(x.length>1){let M=!1,N=0;for(let D=0,I=x.length;D<I;D++)m[D]=[];for(let D=0,I=x.length;D<I;D++){const O=b[D];for(let F=0;F<O.length;F++){const B=O[F];let H=!0;for(let z=0;z<x.length;z++)i(B.p,x[z].p)&&(D!==z&&N++,H?(H=!1,m[z].push(B)):M=!0);H&&m[D].push(B)}}N>0&&M===!1&&(b=m)}let T;for(let M=0,N=x.length;M<N;M++){h=x[M].s,p.push(h),T=b[M];for(let D=0,I=T.length;D<I;D++)h.holes.push(T[D].h)}return p}}class sY extends Ol{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){ht("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function rY(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function aY(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function oY(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function WM(n,e,t,i){const s=lY(i);switch(t){case yE:return n*e;case J1:return n*e/s.components*s.byteLength;case $0:return n*e/s.components*s.byteLength;case yd:return n*e*2/s.components*s.byteLength;case e_:return n*e*2/s.components*s.byteLength;case vE:return n*e*3/s.components*s.byteLength;case tr:return n*e*4/s.components*s.byteLength;case t_:return n*e*4/s.components*s.byteLength;case Jg:case e0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case t0:case n0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case zb:case Bb:return Math.max(n,16)*Math.max(e,8)/4;case Ub:case Fb:return Math.max(n,8)*Math.max(e,8)/2;case kb:case Vb:case jb:case Gb:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Hb:case Wb:case Xb:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case qb:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Yb:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case $b:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case Zb:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case Kb:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case Qb:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case Jb:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case e1:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case t1:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case n1:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case i1:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case s1:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case r1:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case a1:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case o1:case l1:case c1:return Math.ceil(n/4)*Math.ceil(e/4)*16;case u1:case f1:return Math.ceil(n/4)*Math.ceil(e/4)*8;case d1:case h1:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function lY(n){switch(n){case Sr:case hE:return{byteLength:1,components:1};case bp:case pE:case Dl:return{byteLength:2,components:1};case K1:case Q1:return{byteLength:2,components:4};case Ka:case Z1:case Tr:return{byteLength:4,components:1};case mE:case gE:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class cY{static contain(e,t){return rY(e,t)}static cover(e,t){return aY(e,t)}static fill(e){return oY(e)}static getByteLength(e,t,i,s){return WM(e,t,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:jp}}));typeof window<"u"&&(window.__THREE__?ht("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=jp);function PU(){let n=null,e=!1,t=null,i=null;function s(a,l){t(a,l),i=n.requestAnimationFrame(s)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(s),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function uY(n){const e=new WeakMap;function t(u,h){const p=u.array,g=u.usage,m=p.byteLength,x=n.createBuffer();n.bindBuffer(h,x),n.bufferData(h,p,g),u.onUploadCallback();let b;if(p instanceof Float32Array)b=n.FLOAT;else if(typeof Float16Array<"u"&&p instanceof Float16Array)b=n.HALF_FLOAT;else if(p instanceof Uint16Array)u.isFloat16BufferAttribute?b=n.HALF_FLOAT:b=n.UNSIGNED_SHORT;else if(p instanceof Int16Array)b=n.SHORT;else if(p instanceof Uint32Array)b=n.UNSIGNED_INT;else if(p instanceof Int32Array)b=n.INT;else if(p instanceof Int8Array)b=n.BYTE;else if(p instanceof Uint8Array)b=n.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)b=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:x,type:b,bytesPerElement:p.BYTES_PER_ELEMENT,version:u.version,size:m}}function i(u,h,p){const g=h.array,m=h.updateRanges;if(n.bindBuffer(p,u),m.length===0)n.bufferSubData(p,0,g);else{m.sort((b,w)=>b.start-w.start);let x=0;for(let b=1;b<m.length;b++){const w=m[x],A=m[b];A.start<=w.start+w.count+1?w.count=Math.max(w.count,A.start+A.count-w.start):(++x,m[x]=A)}m.length=x+1;for(let b=0,w=m.length;b<w;b++){const A=m[b];n.bufferSubData(p,A.start*g.BYTES_PER_ELEMENT,g,A.start,A.count)}h.clearUpdateRanges()}h.onUploadCallback()}function s(u){return u.isInterleavedBufferAttribute&&(u=u.data),e.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const h=e.get(u);h&&(n.deleteBuffer(h.buffer),e.delete(u))}function l(u,h){if(u.isInterleavedBufferAttribute&&(u=u.data),u.isGLBufferAttribute){const g=e.get(u);(!g||g.version<u.version)&&e.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}const p=e.get(u);if(p===void 0)e.set(u,t(u,h));else if(p.version<u.version){if(p.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(p.buffer,u,h),p.version=u.version}}return{get:s,remove:a,update:l}}var fY=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,dY=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,hY=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,pY=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,mY=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,gY=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,yY=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,vY=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,xY=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,bY=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,_Y=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,SY=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,wY=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,MY=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,TY=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,EY=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,AY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,CY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,RY=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,NY=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,DY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,PY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,IY=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,LY=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,OY=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,UY=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,zY=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,FY=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,BY=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,kY=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,VY="gl_FragColor = linearToOutputTexel( gl_FragColor );",HY=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,jY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,GY=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,WY=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,XY=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,qY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,YY=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,$Y=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,ZY=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,KY=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,QY=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,JY=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,e$=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,t$=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,n$=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,i$=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,s$=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,r$=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,a$=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,o$=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,l$=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,c$=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,u$=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,f$=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,d$=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,h$=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,p$=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,m$=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,g$=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,y$=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,v$=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,x$=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,b$=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,_$=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,S$=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,w$=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,M$=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,T$=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,E$=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,A$=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,C$=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,R$=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,N$=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,D$=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,P$=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,I$=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,L$=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,O$=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,U$=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,z$=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,F$=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,B$=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,k$=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,V$=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,H$=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,j$=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,G$=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,W$=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,X$=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,q$=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Y$=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,$$=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Z$=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,K$=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Q$=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,J$=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,eZ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,tZ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,nZ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,iZ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,sZ=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,rZ=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,aZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,oZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,lZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,cZ=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const uZ=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fZ=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,dZ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,hZ=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,pZ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,mZ=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,gZ=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,yZ=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,vZ=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,xZ=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,bZ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,_Z=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,SZ=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,wZ=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,MZ=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,TZ=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EZ=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,AZ=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,CZ=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,RZ=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,NZ=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,DZ=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,PZ=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,IZ=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LZ=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,OZ=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,UZ=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,zZ=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,FZ=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,BZ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,kZ=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,VZ=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,HZ=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,jZ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,hn={alphahash_fragment:fY,alphahash_pars_fragment:dY,alphamap_fragment:hY,alphamap_pars_fragment:pY,alphatest_fragment:mY,alphatest_pars_fragment:gY,aomap_fragment:yY,aomap_pars_fragment:vY,batching_pars_vertex:xY,batching_vertex:bY,begin_vertex:_Y,beginnormal_vertex:SY,bsdfs:wY,iridescence_fragment:MY,bumpmap_pars_fragment:TY,clipping_planes_fragment:EY,clipping_planes_pars_fragment:AY,clipping_planes_pars_vertex:CY,clipping_planes_vertex:RY,color_fragment:NY,color_pars_fragment:DY,color_pars_vertex:PY,color_vertex:IY,common:LY,cube_uv_reflection_fragment:OY,defaultnormal_vertex:UY,displacementmap_pars_vertex:zY,displacementmap_vertex:FY,emissivemap_fragment:BY,emissivemap_pars_fragment:kY,colorspace_fragment:VY,colorspace_pars_fragment:HY,envmap_fragment:jY,envmap_common_pars_fragment:GY,envmap_pars_fragment:WY,envmap_pars_vertex:XY,envmap_physical_pars_fragment:i$,envmap_vertex:qY,fog_vertex:YY,fog_pars_vertex:$Y,fog_fragment:ZY,fog_pars_fragment:KY,gradientmap_pars_fragment:QY,lightmap_pars_fragment:JY,lights_lambert_fragment:e$,lights_lambert_pars_fragment:t$,lights_pars_begin:n$,lights_toon_fragment:s$,lights_toon_pars_fragment:r$,lights_phong_fragment:a$,lights_phong_pars_fragment:o$,lights_physical_fragment:l$,lights_physical_pars_fragment:c$,lights_fragment_begin:u$,lights_fragment_maps:f$,lights_fragment_end:d$,logdepthbuf_fragment:h$,logdepthbuf_pars_fragment:p$,logdepthbuf_pars_vertex:m$,logdepthbuf_vertex:g$,map_fragment:y$,map_pars_fragment:v$,map_particle_fragment:x$,map_particle_pars_fragment:b$,metalnessmap_fragment:_$,metalnessmap_pars_fragment:S$,morphinstance_vertex:w$,morphcolor_vertex:M$,morphnormal_vertex:T$,morphtarget_pars_vertex:E$,morphtarget_vertex:A$,normal_fragment_begin:C$,normal_fragment_maps:R$,normal_pars_fragment:N$,normal_pars_vertex:D$,normal_vertex:P$,normalmap_pars_fragment:I$,clearcoat_normal_fragment_begin:L$,clearcoat_normal_fragment_maps:O$,clearcoat_pars_fragment:U$,iridescence_pars_fragment:z$,opaque_fragment:F$,packing:B$,premultiplied_alpha_fragment:k$,project_vertex:V$,dithering_fragment:H$,dithering_pars_fragment:j$,roughnessmap_fragment:G$,roughnessmap_pars_fragment:W$,shadowmap_pars_fragment:X$,shadowmap_pars_vertex:q$,shadowmap_vertex:Y$,shadowmask_pars_fragment:$$,skinbase_vertex:Z$,skinning_pars_vertex:K$,skinning_vertex:Q$,skinnormal_vertex:J$,specularmap_fragment:eZ,specularmap_pars_fragment:tZ,tonemapping_fragment:nZ,tonemapping_pars_fragment:iZ,transmission_fragment:sZ,transmission_pars_fragment:rZ,uv_pars_fragment:aZ,uv_pars_vertex:oZ,uv_vertex:lZ,worldpos_vertex:cZ,background_vert:uZ,background_frag:fZ,backgroundCube_vert:dZ,backgroundCube_frag:hZ,cube_vert:pZ,cube_frag:mZ,depth_vert:gZ,depth_frag:yZ,distance_vert:vZ,distance_frag:xZ,equirect_vert:bZ,equirect_frag:_Z,linedashed_vert:SZ,linedashed_frag:wZ,meshbasic_vert:MZ,meshbasic_frag:TZ,meshlambert_vert:EZ,meshlambert_frag:AZ,meshmatcap_vert:CZ,meshmatcap_frag:RZ,meshnormal_vert:NZ,meshnormal_frag:DZ,meshphong_vert:PZ,meshphong_frag:IZ,meshphysical_vert:LZ,meshphysical_frag:OZ,meshtoon_vert:UZ,meshtoon_frag:zZ,points_vert:FZ,points_frag:BZ,shadow_vert:kZ,shadow_frag:VZ,sprite_vert:HZ,sprite_frag:jZ},mt={common:{diffuse:{value:new yt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new an},alphaMap:{value:null},alphaMapTransform:{value:new an},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new an}},envmap:{envMap:{value:null},envMapRotation:{value:new an},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new an}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new an}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new an},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new an},normalScale:{value:new ke(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new an},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new an}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new an}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new an}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new yt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new yt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new an},alphaTest:{value:0},uvTransform:{value:new an}},sprite:{diffuse:{value:new yt(16777215)},opacity:{value:1},center:{value:new ke(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new an},alphaMap:{value:null},alphaMapTransform:{value:new an},alphaTest:{value:0}}},Co={basic:{uniforms:br([mt.common,mt.specularmap,mt.envmap,mt.aomap,mt.lightmap,mt.fog]),vertexShader:hn.meshbasic_vert,fragmentShader:hn.meshbasic_frag},lambert:{uniforms:br([mt.common,mt.specularmap,mt.envmap,mt.aomap,mt.lightmap,mt.emissivemap,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.fog,mt.lights,{emissive:{value:new yt(0)}}]),vertexShader:hn.meshlambert_vert,fragmentShader:hn.meshlambert_frag},phong:{uniforms:br([mt.common,mt.specularmap,mt.envmap,mt.aomap,mt.lightmap,mt.emissivemap,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.fog,mt.lights,{emissive:{value:new yt(0)},specular:{value:new yt(1118481)},shininess:{value:30}}]),vertexShader:hn.meshphong_vert,fragmentShader:hn.meshphong_frag},standard:{uniforms:br([mt.common,mt.envmap,mt.aomap,mt.lightmap,mt.emissivemap,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.roughnessmap,mt.metalnessmap,mt.fog,mt.lights,{emissive:{value:new yt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:hn.meshphysical_vert,fragmentShader:hn.meshphysical_frag},toon:{uniforms:br([mt.common,mt.aomap,mt.lightmap,mt.emissivemap,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.gradientmap,mt.fog,mt.lights,{emissive:{value:new yt(0)}}]),vertexShader:hn.meshtoon_vert,fragmentShader:hn.meshtoon_frag},matcap:{uniforms:br([mt.common,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.fog,{matcap:{value:null}}]),vertexShader:hn.meshmatcap_vert,fragmentShader:hn.meshmatcap_frag},points:{uniforms:br([mt.points,mt.fog]),vertexShader:hn.points_vert,fragmentShader:hn.points_frag},dashed:{uniforms:br([mt.common,mt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:hn.linedashed_vert,fragmentShader:hn.linedashed_frag},depth:{uniforms:br([mt.common,mt.displacementmap]),vertexShader:hn.depth_vert,fragmentShader:hn.depth_frag},normal:{uniforms:br([mt.common,mt.bumpmap,mt.normalmap,mt.displacementmap,{opacity:{value:1}}]),vertexShader:hn.meshnormal_vert,fragmentShader:hn.meshnormal_frag},sprite:{uniforms:br([mt.sprite,mt.fog]),vertexShader:hn.sprite_vert,fragmentShader:hn.sprite_frag},background:{uniforms:{uvTransform:{value:new an},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:hn.background_vert,fragmentShader:hn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new an}},vertexShader:hn.backgroundCube_vert,fragmentShader:hn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:hn.cube_vert,fragmentShader:hn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:hn.equirect_vert,fragmentShader:hn.equirect_frag},distance:{uniforms:br([mt.common,mt.displacementmap,{referencePosition:{value:new K},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:hn.distance_vert,fragmentShader:hn.distance_frag},shadow:{uniforms:br([mt.lights,mt.fog,{color:{value:new yt(0)},opacity:{value:1}}]),vertexShader:hn.shadow_vert,fragmentShader:hn.shadow_frag}};Co.physical={uniforms:br([Co.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new an},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new an},clearcoatNormalScale:{value:new ke(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new an},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new an},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new an},sheen:{value:0},sheenColor:{value:new yt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new an},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new an},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new an},transmissionSamplerSize:{value:new ke},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new an},attenuationDistance:{value:0},attenuationColor:{value:new yt(0)},specularColor:{value:new yt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new an},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new an},anisotropyVector:{value:new ke},anisotropyMap:{value:null},anisotropyMapTransform:{value:new an}}]),vertexShader:hn.meshphysical_vert,fragmentShader:hn.meshphysical_frag};const jx={r:0,b:0,g:0},Qf=new _a,GZ=new $t;function WZ(n,e,t,i,s,a,l){const u=new yt(0);let h=a===!0?0:1,p,g,m=null,x=0,b=null;function w(D){let I=D.isScene===!0?D.background:null;return I&&I.isTexture&&(I=(D.backgroundBlurriness>0?t:e).get(I)),I}function A(D){let I=!1;const O=w(D);O===null?M(u,h):O&&O.isColor&&(M(O,1),I=!0);const F=n.xr.getEnvironmentBlendMode();F==="additive"?i.buffers.color.setClear(0,0,0,1,l):F==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,l),(n.autoClear||I)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function T(D,I){const O=w(I);O&&(O.isCubeTexture||O.mapping===Gp)?(g===void 0&&(g=new os(new _d(1,1,1),new na({name:"BackgroundCubeMaterial",uniforms:Ep(Co.backgroundCube.uniforms),vertexShader:Co.backgroundCube.vertexShader,fragmentShader:Co.backgroundCube.fragmentShader,side:Er,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),g.geometry.deleteAttribute("normal"),g.geometry.deleteAttribute("uv"),g.onBeforeRender=function(F,B,H){this.matrixWorld.copyPosition(H.matrixWorld)},Object.defineProperty(g.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(g)),Qf.copy(I.backgroundRotation),Qf.x*=-1,Qf.y*=-1,Qf.z*=-1,O.isCubeTexture&&O.isRenderTargetTexture===!1&&(Qf.y*=-1,Qf.z*=-1),g.material.uniforms.envMap.value=O,g.material.uniforms.flipEnvMap.value=O.isCubeTexture&&O.isRenderTargetTexture===!1?-1:1,g.material.uniforms.backgroundBlurriness.value=I.backgroundBlurriness,g.material.uniforms.backgroundIntensity.value=I.backgroundIntensity,g.material.uniforms.backgroundRotation.value.setFromMatrix4(GZ.makeRotationFromEuler(Qf)),g.material.toneMapped=Rn.getTransfer(O.colorSpace)!==Xn,(m!==O||x!==O.version||b!==n.toneMapping)&&(g.material.needsUpdate=!0,m=O,x=O.version,b=n.toneMapping),g.layers.enableAll(),D.unshift(g,g.geometry,g.material,0,0,null)):O&&O.isTexture&&(p===void 0&&(p=new os(new qp(2,2),new na({name:"BackgroundMaterial",uniforms:Ep(Co.background.uniforms),vertexShader:Co.background.vertexShader,fragmentShader:Co.background.fragmentShader,side:Nc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(p)),p.material.uniforms.t2D.value=O,p.material.uniforms.backgroundIntensity.value=I.backgroundIntensity,p.material.toneMapped=Rn.getTransfer(O.colorSpace)!==Xn,O.matrixAutoUpdate===!0&&O.updateMatrix(),p.material.uniforms.uvTransform.value.copy(O.matrix),(m!==O||x!==O.version||b!==n.toneMapping)&&(p.material.needsUpdate=!0,m=O,x=O.version,b=n.toneMapping),p.layers.enableAll(),D.unshift(p,p.geometry,p.material,0,0,null))}function M(D,I){D.getRGB(jx,LO(n)),i.buffers.color.setClear(jx.r,jx.g,jx.b,I,l)}function N(){g!==void 0&&(g.geometry.dispose(),g.material.dispose(),g=void 0),p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0)}return{getClearColor:function(){return u},setClearColor:function(D,I=1){u.set(D),h=I,M(u,h)},getClearAlpha:function(){return h},setClearAlpha:function(D){h=D,M(u,h)},render:A,addToRenderList:T,dispose:N}}function XZ(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},s=x(null);let a=s,l=!1;function u(k,$,se,ee,ne){let ae=!1;const X=m(ee,se,$);a!==X&&(a=X,p(a.object)),ae=b(k,ee,se,ne),ae&&w(k,ee,se,ne),ne!==null&&e.update(ne,n.ELEMENT_ARRAY_BUFFER),(ae||l)&&(l=!1,I(k,$,se,ee),ne!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(ne).buffer))}function h(){return n.createVertexArray()}function p(k){return n.bindVertexArray(k)}function g(k){return n.deleteVertexArray(k)}function m(k,$,se){const ee=se.wireframe===!0;let ne=i[k.id];ne===void 0&&(ne={},i[k.id]=ne);let ae=ne[$.id];ae===void 0&&(ae={},ne[$.id]=ae);let X=ae[ee];return X===void 0&&(X=x(h()),ae[ee]=X),X}function x(k){const $=[],se=[],ee=[];for(let ne=0;ne<t;ne++)$[ne]=0,se[ne]=0,ee[ne]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:$,enabledAttributes:se,attributeDivisors:ee,object:k,attributes:{},index:null}}function b(k,$,se,ee){const ne=a.attributes,ae=$.attributes;let X=0;const Z=se.getAttributes();for(const Q in Z)if(Z[Q].location>=0){const Se=ne[Q];let q=ae[Q];if(q===void 0&&(Q==="instanceMatrix"&&k.instanceMatrix&&(q=k.instanceMatrix),Q==="instanceColor"&&k.instanceColor&&(q=k.instanceColor)),Se===void 0||Se.attribute!==q||q&&Se.data!==q.data)return!0;X++}return a.attributesNum!==X||a.index!==ee}function w(k,$,se,ee){const ne={},ae=$.attributes;let X=0;const Z=se.getAttributes();for(const Q in Z)if(Z[Q].location>=0){let Se=ae[Q];Se===void 0&&(Q==="instanceMatrix"&&k.instanceMatrix&&(Se=k.instanceMatrix),Q==="instanceColor"&&k.instanceColor&&(Se=k.instanceColor));const q={};q.attribute=Se,Se&&Se.data&&(q.data=Se.data),ne[Q]=q,X++}a.attributes=ne,a.attributesNum=X,a.index=ee}function A(){const k=a.newAttributes;for(let $=0,se=k.length;$<se;$++)k[$]=0}function T(k){M(k,0)}function M(k,$){const se=a.newAttributes,ee=a.enabledAttributes,ne=a.attributeDivisors;se[k]=1,ee[k]===0&&(n.enableVertexAttribArray(k),ee[k]=1),ne[k]!==$&&(n.vertexAttribDivisor(k,$),ne[k]=$)}function N(){const k=a.newAttributes,$=a.enabledAttributes;for(let se=0,ee=$.length;se<ee;se++)$[se]!==k[se]&&(n.disableVertexAttribArray(se),$[se]=0)}function D(k,$,se,ee,ne,ae,X){X===!0?n.vertexAttribIPointer(k,$,se,ne,ae):n.vertexAttribPointer(k,$,se,ee,ne,ae)}function I(k,$,se,ee){A();const ne=ee.attributes,ae=se.getAttributes(),X=$.defaultAttributeValues;for(const Z in ae){const Q=ae[Z];if(Q.location>=0){let ye=ne[Z];if(ye===void 0&&(Z==="instanceMatrix"&&k.instanceMatrix&&(ye=k.instanceMatrix),Z==="instanceColor"&&k.instanceColor&&(ye=k.instanceColor)),ye!==void 0){const Se=ye.normalized,q=ye.itemSize,ue=e.get(ye);if(ue===void 0)continue;const fe=ue.buffer,Te=ue.type,Ve=ue.bytesPerElement,he=Te===n.INT||Te===n.UNSIGNED_INT||ye.gpuType===Z1;if(ye.isInterleavedBufferAttribute){const ve=ye.data,Fe=ve.stride,Ze=ye.offset;if(ve.isInstancedInterleavedBuffer){for(let rt=0;rt<Q.locationSize;rt++)M(Q.location+rt,ve.meshPerAttribute);k.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=ve.meshPerAttribute*ve.count)}else for(let rt=0;rt<Q.locationSize;rt++)T(Q.location+rt);n.bindBuffer(n.ARRAY_BUFFER,fe);for(let rt=0;rt<Q.locationSize;rt++)D(Q.location+rt,q/Q.locationSize,Te,Se,Fe*Ve,(Ze+q/Q.locationSize*rt)*Ve,he)}else{if(ye.isInstancedBufferAttribute){for(let ve=0;ve<Q.locationSize;ve++)M(Q.location+ve,ye.meshPerAttribute);k.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=ye.meshPerAttribute*ye.count)}else for(let ve=0;ve<Q.locationSize;ve++)T(Q.location+ve);n.bindBuffer(n.ARRAY_BUFFER,fe);for(let ve=0;ve<Q.locationSize;ve++)D(Q.location+ve,q/Q.locationSize,Te,Se,q*Ve,q/Q.locationSize*ve*Ve,he)}}else if(X!==void 0){const Se=X[Z];if(Se!==void 0)switch(Se.length){case 2:n.vertexAttrib2fv(Q.location,Se);break;case 3:n.vertexAttrib3fv(Q.location,Se);break;case 4:n.vertexAttrib4fv(Q.location,Se);break;default:n.vertexAttrib1fv(Q.location,Se)}}}}N()}function O(){H();for(const k in i){const $=i[k];for(const se in $){const ee=$[se];for(const ne in ee)g(ee[ne].object),delete ee[ne];delete $[se]}delete i[k]}}function F(k){if(i[k.id]===void 0)return;const $=i[k.id];for(const se in $){const ee=$[se];for(const ne in ee)g(ee[ne].object),delete ee[ne];delete $[se]}delete i[k.id]}function B(k){for(const $ in i){const se=i[$];if(se[k.id]===void 0)continue;const ee=se[k.id];for(const ne in ee)g(ee[ne].object),delete ee[ne];delete se[k.id]}}function H(){z(),l=!0,a!==s&&(a=s,p(a.object))}function z(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:u,reset:H,resetDefaultState:z,dispose:O,releaseStatesOfGeometry:F,releaseStatesOfProgram:B,initAttributes:A,enableAttribute:T,disableUnusedAttributes:N}}function qZ(n,e,t){let i;function s(p){i=p}function a(p,g){n.drawArrays(i,p,g),t.update(g,i,1)}function l(p,g,m){m!==0&&(n.drawArraysInstanced(i,p,g,m),t.update(g,i,m))}function u(p,g,m){if(m===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,p,0,g,0,m);let b=0;for(let w=0;w<m;w++)b+=g[w];t.update(b,i,1)}function h(p,g,m,x){if(m===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let w=0;w<p.length;w++)l(p[w],g[w],x[w]);else{b.multiDrawArraysInstancedWEBGL(i,p,0,g,0,x,0,m);let w=0;for(let A=0;A<m;A++)w+=g[A]*x[A];t.update(w,i,1)}}this.setMode=s,this.render=a,this.renderInstances=l,this.renderMultiDraw=u,this.renderMultiDrawInstances=h}function YZ(n,e,t,i){let s;function a(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");s=n.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function l(B){return!(B!==tr&&i.convert(B)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function u(B){const H=B===Dl&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(B!==Sr&&i.convert(B)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&B!==Tr&&!H)}function h(B){if(B==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";B="mediump"}return B==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let p=t.precision!==void 0?t.precision:"highp";const g=h(p);g!==p&&(ht("WebGLRenderer:",p,"not supported, using",g,"instead."),p=g);const m=t.logarithmicDepthBuffer===!0,x=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),b=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),w=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),A=n.getParameter(n.MAX_TEXTURE_SIZE),T=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),M=n.getParameter(n.MAX_VERTEX_ATTRIBS),N=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),D=n.getParameter(n.MAX_VARYING_VECTORS),I=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),O=n.getParameter(n.MAX_SAMPLES),F=n.getParameter(n.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:h,textureFormatReadable:l,textureTypeReadable:u,precision:p,logarithmicDepthBuffer:m,reversedDepthBuffer:x,maxTextures:b,maxVertexTextures:w,maxTextureSize:A,maxCubemapSize:T,maxAttributes:M,maxVertexUniforms:N,maxVaryings:D,maxFragmentUniforms:I,maxSamples:O,samples:F}}function $Z(n){const e=this;let t=null,i=0,s=!1,a=!1;const l=new Du,u=new an,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(m,x){const b=m.length!==0||x||i!==0||s;return s=x,i=m.length,b},this.beginShadows=function(){a=!0,g(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(m,x){t=g(m,x,0)},this.setState=function(m,x,b){const w=m.clippingPlanes,A=m.clipIntersection,T=m.clipShadows,M=n.get(m);if(!s||w===null||w.length===0||a&&!T)a?g(null):p();else{const N=a?0:i,D=N*4;let I=M.clippingState||null;h.value=I,I=g(w,x,D,b);for(let O=0;O!==D;++O)I[O]=t[O];M.clippingState=I,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=N}};function p(){h.value!==t&&(h.value=t,h.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function g(m,x,b,w){const A=m!==null?m.length:0;let T=null;if(A!==0){if(T=h.value,w!==!0||T===null){const M=b+A*4,N=x.matrixWorldInverse;u.getNormalMatrix(N),(T===null||T.length<M)&&(T=new Float32Array(M));for(let D=0,I=b;D!==A;++D,I+=4)l.copy(m[D]).applyMatrix4(N,u),l.normal.toArray(T,I),T[I+3]=l.constant}h.value=T,h.needsUpdate=!0}return e.numPlanes=A,e.numIntersection=0,T}}function ZZ(n){let e=new WeakMap;function t(l,u){return u===x0?l.mapping=Nl:u===b0&&(l.mapping=Hu),l}function i(l){if(l&&l.isTexture){const u=l.mapping;if(u===x0||u===b0)if(e.has(l)){const h=e.get(l).texture;return t(h,l.mapping)}else{const h=l.image;if(h&&h.height>0){const p=new ME(h.height);return p.fromEquirectangularTexture(n,l),e.set(l,p),l.addEventListener("dispose",s),t(p.texture,l.mapping)}else return null}}return l}function s(l){const u=l.target;u.removeEventListener("dispose",s);const h=e.get(u);h!==void 0&&(e.delete(u),h.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}const Uu=4,vN=[.125,.215,.35,.446,.526,.582],nd=20,KZ=256,Fg=new Yp,xN=new yt;let Aw=null,Cw=0,Rw=0,Nw=!1;const QZ=new K;class XM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,i=.1,s=100,a={}){const{size:l=256,position:u=QZ}=a;Aw=this._renderer.getRenderTarget(),Cw=this._renderer.getActiveCubeFace(),Rw=this._renderer.getActiveMipmapLevel(),Nw=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(l);const h=this._allocateTargets();return h.depthBuffer=!0,this._sceneToCubeUV(e,i,s,h,u),t>0&&this._blur(h,0,0,t),this._applyPMREM(h),this._cleanup(h),h}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=SN(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_N(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(Aw,Cw,Rw),this._renderer.xr.enabled=Nw,e.scissorTest=!1,Kh(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Nl||e.mapping===Hu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Aw=this._renderer.getRenderTarget(),Cw=this._renderer.getActiveCubeFace(),Rw=this._renderer.getActiveMipmapLevel(),Nw=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:gi,minFilter:gi,generateMipmaps:!1,type:Dl,format:tr,colorSpace:ju,depthBuffer:!1},s=bN(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=bN(e,t,i);const{_lodMax:a}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=JZ(a)),this._blurMaterial=tK(a,e,t),this._ggxMaterial=eK(a,e,t)}return s}_compileMaterial(e){const t=new os(new Jt,e);this._renderer.compile(t,Fg)}_sceneToCubeUV(e,t,i,s,a){const h=new Es(90,1,t,i),p=[1,-1,1,1,1,1],g=[1,1,1,-1,-1,-1],m=this._renderer,x=m.autoClear,b=m.toneMapping;m.getClearColor(xN),m.toneMapping=Za,m.autoClear=!1,m.state.buffers.depth.getReversed()&&(m.setRenderTarget(s),m.clearDepth(),m.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new os(new _d,new $u({name:"PMREM.Background",side:Er,depthWrite:!1,depthTest:!1})));const A=this._backgroundBox,T=A.material;let M=!1;const N=e.background;N?N.isColor&&(T.color.copy(N),e.background=null,M=!0):(T.color.copy(xN),M=!0);for(let D=0;D<6;D++){const I=D%3;I===0?(h.up.set(0,p[D],0),h.position.set(a.x,a.y,a.z),h.lookAt(a.x+g[D],a.y,a.z)):I===1?(h.up.set(0,0,p[D]),h.position.set(a.x,a.y,a.z),h.lookAt(a.x,a.y+g[D],a.z)):(h.up.set(0,p[D],0),h.position.set(a.x,a.y,a.z),h.lookAt(a.x,a.y,a.z+g[D]));const O=this._cubeSize;Kh(s,I*O,D>2?O:0,O,O),m.setRenderTarget(s),M&&m.render(A,h),m.render(e,h)}m.toneMapping=b,m.autoClear=x,e.background=N}_textureToCubeUV(e,t){const i=this._renderer,s=e.mapping===Nl||e.mapping===Hu;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=SN()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_N());const a=s?this._cubemapMaterial:this._equirectMaterial,l=this._lodMeshes[0];l.material=a;const u=a.uniforms;u.envMap.value=e;const h=this._cubeSize;Kh(t,0,0,3*h,2*h),i.setRenderTarget(t),i.render(l,Fg)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const s=this._lodMeshes.length;for(let a=1;a<s;a++)this._applyGGXFilter(e,a-1,a);t.autoClear=i}_applyGGXFilter(e,t,i){const s=this._renderer,a=this._pingPongRenderTarget,l=this._ggxMaterial,u=this._lodMeshes[i];u.material=l;const h=l.uniforms,p=i/(this._lodMeshes.length-1),g=t/(this._lodMeshes.length-1),m=Math.sqrt(p*p-g*g),x=0+p*1.25,b=m*x,{_lodMax:w}=this,A=this._sizeLods[i],T=3*A*(i>w-Uu?i-w+Uu:0),M=4*(this._cubeSize-A);h.envMap.value=e.texture,h.roughness.value=b,h.mipInt.value=w-t,Kh(a,T,M,3*A,2*A),s.setRenderTarget(a),s.render(u,Fg),h.envMap.value=a.texture,h.roughness.value=0,h.mipInt.value=w-i,Kh(e,T,M,3*A,2*A),s.setRenderTarget(e),s.render(u,Fg)}_blur(e,t,i,s,a){const l=this._pingPongRenderTarget;this._halfBlur(e,l,t,i,s,"latitudinal",a),this._halfBlur(l,e,i,i,s,"longitudinal",a)}_halfBlur(e,t,i,s,a,l,u){const h=this._renderer,p=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&Ot("blur direction must be either latitudinal or longitudinal!");const g=3,m=this._lodMeshes[s];m.material=p;const x=p.uniforms,b=this._sizeLods[i]-1,w=isFinite(a)?Math.PI/(2*b):2*Math.PI/(2*nd-1),A=a/w,T=isFinite(a)?1+Math.floor(g*A):nd;T>nd&&ht(`sigmaRadians, ${a}, is too large and will clip, as it requested ${T} samples when the maximum is set to ${nd}`);const M=[];let N=0;for(let B=0;B<nd;++B){const H=B/A,z=Math.exp(-H*H/2);M.push(z),B===0?N+=z:B<T&&(N+=2*z)}for(let B=0;B<M.length;B++)M[B]=M[B]/N;x.envMap.value=e.texture,x.samples.value=T,x.weights.value=M,x.latitudinal.value=l==="latitudinal",u&&(x.poleAxis.value=u);const{_lodMax:D}=this;x.dTheta.value=w,x.mipInt.value=D-i;const I=this._sizeLods[s],O=3*I*(s>D-Uu?s-D+Uu:0),F=4*(this._cubeSize-I);Kh(t,O,F,3*I,2*I),h.setRenderTarget(t),h.render(m,Fg)}}function JZ(n){const e=[],t=[],i=[];let s=n;const a=n-Uu+1+vN.length;for(let l=0;l<a;l++){const u=Math.pow(2,s);e.push(u);let h=1/u;l>n-Uu?h=vN[l-n+Uu-1]:l===0&&(h=0),t.push(h);const p=1/(u-2),g=-p,m=1+p,x=[g,g,m,g,m,m,g,g,m,m,g,m],b=6,w=6,A=3,T=2,M=1,N=new Float32Array(A*w*b),D=new Float32Array(T*w*b),I=new Float32Array(M*w*b);for(let F=0;F<b;F++){const B=F%3*2/3-1,H=F>2?0:-1,z=[B,H,0,B+2/3,H,0,B+2/3,H+1,0,B,H,0,B+2/3,H+1,0,B,H+1,0];N.set(z,A*w*F),D.set(x,T*w*F);const k=[F,F,F,F,F,F];I.set(k,M*w*F)}const O=new Jt;O.setAttribute("position",new Nn(N,A)),O.setAttribute("uv",new Nn(D,T)),O.setAttribute("faceIndex",new Nn(I,M)),i.push(new os(O,null)),s>Uu&&s--}return{lodMeshes:i,sizeLods:e,sigmas:t}}function bN(n,e,t){const i=new ba(n,e,t);return i.texture.mapping=Gp,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Kh(n,e,t,i,s){n.viewport.set(e,t,i,s),n.scissor.set(e,t,i,s)}function eK(n,e,t){return new na({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:KZ,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:C_(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:Al,depthTest:!1,depthWrite:!1})}function tK(n,e,t){const i=new Float32Array(nd),s=new K(0,1,0);return new na({name:"SphericalGaussianBlur",defines:{n:nd,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:C_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Al,depthTest:!1,depthWrite:!1})}function _N(){return new na({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:C_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Al,depthTest:!1,depthWrite:!1})}function SN(){return new na({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:C_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Al,depthTest:!1,depthWrite:!1})}function C_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function nK(n){let e=new WeakMap,t=null;function i(u){if(u&&u.isTexture){const h=u.mapping,p=h===x0||h===b0,g=h===Nl||h===Hu;if(p||g){let m=e.get(u);const x=m!==void 0?m.texture.pmremVersion:0;if(u.isRenderTargetTexture&&u.pmremVersion!==x)return t===null&&(t=new XM(n)),m=p?t.fromEquirectangular(u,m):t.fromCubemap(u,m),m.texture.pmremVersion=u.pmremVersion,e.set(u,m),m.texture;if(m!==void 0)return m.texture;{const b=u.image;return p&&b&&b.height>0||g&&b&&s(b)?(t===null&&(t=new XM(n)),m=p?t.fromEquirectangular(u):t.fromCubemap(u),m.texture.pmremVersion=u.pmremVersion,e.set(u,m),u.addEventListener("dispose",a),m.texture):null}}}return u}function s(u){let h=0;const p=6;for(let g=0;g<p;g++)u[g]!==void 0&&h++;return h===p}function a(u){const h=u.target;h.removeEventListener("dispose",a);const p=e.get(h);p!==void 0&&(e.delete(h),p.dispose())}function l(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:l}}function iK(n){const e={};function t(i){if(e[i]!==void 0)return e[i];const s=n.getExtension(i);return e[i]=s,s}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const s=t(i);return s===null&&wp("WebGLRenderer: "+i+" extension not supported."),s}}}function sK(n,e,t,i){const s={},a=new WeakMap;function l(m){const x=m.target;x.index!==null&&e.remove(x.index);for(const w in x.attributes)e.remove(x.attributes[w]);x.removeEventListener("dispose",l),delete s[x.id];const b=a.get(x);b&&(e.remove(b),a.delete(x)),i.releaseStatesOfGeometry(x),x.isInstancedBufferGeometry===!0&&delete x._maxInstanceCount,t.memory.geometries--}function u(m,x){return s[x.id]===!0||(x.addEventListener("dispose",l),s[x.id]=!0,t.memory.geometries++),x}function h(m){const x=m.attributes;for(const b in x)e.update(x[b],n.ARRAY_BUFFER)}function p(m){const x=[],b=m.index,w=m.attributes.position;let A=0;if(b!==null){const N=b.array;A=b.version;for(let D=0,I=N.length;D<I;D+=3){const O=N[D+0],F=N[D+1],B=N[D+2];x.push(O,F,F,B,B,O)}}else if(w!==void 0){const N=w.array;A=w.version;for(let D=0,I=N.length/3-1;D<I;D+=3){const O=D+0,F=D+1,B=D+2;x.push(O,F,F,B,B,O)}}else return;const T=new(RO(x)?wE:SE)(x,1);T.version=A;const M=a.get(m);M&&e.remove(M),a.set(m,T)}function g(m){const x=a.get(m);if(x){const b=m.index;b!==null&&x.version<b.version&&p(m)}else p(m);return a.get(m)}return{get:u,update:h,getWireframeAttribute:g}}function rK(n,e,t){let i;function s(x){i=x}let a,l;function u(x){a=x.type,l=x.bytesPerElement}function h(x,b){n.drawElements(i,b,a,x*l),t.update(b,i,1)}function p(x,b,w){w!==0&&(n.drawElementsInstanced(i,b,a,x*l,w),t.update(b,i,w))}function g(x,b,w){if(w===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,b,0,a,x,0,w);let T=0;for(let M=0;M<w;M++)T+=b[M];t.update(T,i,1)}function m(x,b,w,A){if(w===0)return;const T=e.get("WEBGL_multi_draw");if(T===null)for(let M=0;M<x.length;M++)p(x[M]/l,b[M],A[M]);else{T.multiDrawElementsInstancedWEBGL(i,b,0,a,x,0,A,0,w);let M=0;for(let N=0;N<w;N++)M+=b[N]*A[N];t.update(M,i,1)}}this.setMode=s,this.setIndex=u,this.render=h,this.renderInstances=p,this.renderMultiDraw=g,this.renderMultiDrawInstances=m}function aK(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,l,u){switch(t.calls++,l){case n.TRIANGLES:t.triangles+=u*(a/3);break;case n.LINES:t.lines+=u*(a/2);break;case n.LINE_STRIP:t.lines+=u*(a-1);break;case n.LINE_LOOP:t.lines+=u*a;break;case n.POINTS:t.points+=u*a;break;default:Ot("WebGLInfo: Unknown draw mode:",l);break}}function s(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:s,update:i}}function oK(n,e,t){const i=new WeakMap,s=new ii;function a(l,u,h){const p=l.morphTargetInfluences,g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,m=g!==void 0?g.length:0;let x=i.get(u);if(x===void 0||x.count!==m){let k=function(){H.dispose(),i.delete(u),u.removeEventListener("dispose",k)};var b=k;x!==void 0&&x.texture.dispose();const w=u.morphAttributes.position!==void 0,A=u.morphAttributes.normal!==void 0,T=u.morphAttributes.color!==void 0,M=u.morphAttributes.position||[],N=u.morphAttributes.normal||[],D=u.morphAttributes.color||[];let I=0;w===!0&&(I=1),A===!0&&(I=2),T===!0&&(I=3);let O=u.attributes.position.count*I,F=1;O>e.maxTextureSize&&(F=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const B=new Float32Array(O*F*4*m),H=new r_(B,O,F,m);H.type=Tr,H.needsUpdate=!0;const z=I*4;for(let $=0;$<m;$++){const se=M[$],ee=N[$],ne=D[$],ae=O*F*4*$;for(let X=0;X<se.count;X++){const Z=X*z;w===!0&&(s.fromBufferAttribute(se,X),B[ae+Z+0]=s.x,B[ae+Z+1]=s.y,B[ae+Z+2]=s.z,B[ae+Z+3]=0),A===!0&&(s.fromBufferAttribute(ee,X),B[ae+Z+4]=s.x,B[ae+Z+5]=s.y,B[ae+Z+6]=s.z,B[ae+Z+7]=0),T===!0&&(s.fromBufferAttribute(ne,X),B[ae+Z+8]=s.x,B[ae+Z+9]=s.y,B[ae+Z+10]=s.z,B[ae+Z+11]=ne.itemSize===4?s.w:1)}}x={count:m,texture:H,size:new ke(O,F)},i.set(u,x),u.addEventListener("dispose",k)}if(l.isInstancedMesh===!0&&l.morphTexture!==null)h.getUniforms().setValue(n,"morphTexture",l.morphTexture,t);else{let w=0;for(let T=0;T<p.length;T++)w+=p[T];const A=u.morphTargetsRelative?1:1-w;h.getUniforms().setValue(n,"morphTargetBaseInfluence",A),h.getUniforms().setValue(n,"morphTargetInfluences",p)}h.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),h.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}return{update:a}}function lK(n,e,t,i){let s=new WeakMap;function a(h){const p=i.render.frame,g=h.geometry,m=e.get(h,g);if(s.get(m)!==p&&(e.update(m),s.set(m,p)),h.isInstancedMesh&&(h.hasEventListener("dispose",u)===!1&&h.addEventListener("dispose",u),s.get(h)!==p&&(t.update(h.instanceMatrix,n.ARRAY_BUFFER),h.instanceColor!==null&&t.update(h.instanceColor,n.ARRAY_BUFFER),s.set(h,p))),h.isSkinnedMesh){const x=h.skeleton;s.get(x)!==p&&(x.update(),s.set(x,p))}return m}function l(){s=new WeakMap}function u(h){const p=h.target;p.removeEventListener("dispose",u),t.remove(p.instanceMatrix),p.instanceColor!==null&&t.remove(p.instanceColor)}return{update:a,dispose:l}}const cK={[aE]:"LINEAR_TONE_MAPPING",[oE]:"REINHARD_TONE_MAPPING",[lE]:"CINEON_TONE_MAPPING",[Y1]:"ACES_FILMIC_TONE_MAPPING",[uE]:"AGX_TONE_MAPPING",[fE]:"NEUTRAL_TONE_MAPPING",[cE]:"CUSTOM_TONE_MAPPING"};function uK(n,e,t,i,s){const a=new ba(e,t,{type:n,depthBuffer:i,stencilBuffer:s}),l=new ba(e,t,{type:Dl,depthBuffer:!1,stencilBuffer:!1}),u=new Jt;u.setAttribute("position",new Tt([-1,3,0,-1,-1,0,3,-1,0],3)),u.setAttribute("uv",new Tt([0,2,0,0,2,0],2));const h=new UE({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),p=new os(u,h),g=new Yp(-1,1,1,-1,0,1);let m=null,x=null,b=!1,w,A=null,T=[],M=!1;this.setSize=function(N,D){a.setSize(N,D),l.setSize(N,D);for(let I=0;I<T.length;I++){const O=T[I];O.setSize&&O.setSize(N,D)}},this.setEffects=function(N){T=N,M=T.length>0&&T[0].isRenderPass===!0;const D=a.width,I=a.height;for(let O=0;O<T.length;O++){const F=T[O];F.setSize&&F.setSize(D,I)}},this.begin=function(N,D){if(b||N.toneMapping===Za&&T.length===0)return!1;if(A=D,D!==null){const I=D.width,O=D.height;(a.width!==I||a.height!==O)&&this.setSize(I,O)}return M===!1&&N.setRenderTarget(a),w=N.toneMapping,N.toneMapping=Za,!0},this.hasRenderPass=function(){return M},this.end=function(N,D){N.toneMapping=w,b=!0;let I=a,O=l;for(let F=0;F<T.length;F++){const B=T[F];if(B.enabled!==!1&&(B.render(N,O,I,D),B.needsSwap!==!1)){const H=I;I=O,O=H}}if(m!==N.outputColorSpace||x!==N.toneMapping){m=N.outputColorSpace,x=N.toneMapping,h.defines={},Rn.getTransfer(m)===Xn&&(h.defines.SRGB_TRANSFER="");const F=cK[x];F&&(h.defines[F]=""),h.needsUpdate=!0}h.uniforms.tDiffuse.value=I.texture,N.setRenderTarget(A),N.render(p,g),A=null,b=!1},this.isCompositing=function(){return b},this.dispose=function(){a.dispose(),l.dispose(),u.dispose(),h.dispose()}}const IU=new ki,qM=new Cp(1,1),LU=new r_,OU=new a_,UU=new Z0,wN=[],MN=[],TN=new Float32Array(16),EN=new Float32Array(9),AN=new Float32Array(4);function $p(n,e,t){const i=n[0];if(i<=0||i>0)return n;const s=e*t;let a=wN[s];if(a===void 0&&(a=new Float32Array(s),wN[s]=a),e!==0){i.toArray(a,0);for(let l=1,u=0;l!==e;++l)u+=t,n[l].toArray(a,u)}return a}function ys(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function vs(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function R_(n,e){let t=MN[e];t===void 0&&(t=new Int32Array(e),MN[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function fK(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function dK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ys(t,e))return;n.uniform2fv(this.addr,e),vs(t,e)}}function hK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ys(t,e))return;n.uniform3fv(this.addr,e),vs(t,e)}}function pK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ys(t,e))return;n.uniform4fv(this.addr,e),vs(t,e)}}function mK(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(ys(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),vs(t,e)}else{if(ys(t,i))return;AN.set(i),n.uniformMatrix2fv(this.addr,!1,AN),vs(t,i)}}function gK(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(ys(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),vs(t,e)}else{if(ys(t,i))return;EN.set(i),n.uniformMatrix3fv(this.addr,!1,EN),vs(t,i)}}function yK(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(ys(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),vs(t,e)}else{if(ys(t,i))return;TN.set(i),n.uniformMatrix4fv(this.addr,!1,TN),vs(t,i)}}function vK(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function xK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ys(t,e))return;n.uniform2iv(this.addr,e),vs(t,e)}}function bK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ys(t,e))return;n.uniform3iv(this.addr,e),vs(t,e)}}function _K(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ys(t,e))return;n.uniform4iv(this.addr,e),vs(t,e)}}function SK(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function wK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ys(t,e))return;n.uniform2uiv(this.addr,e),vs(t,e)}}function MK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ys(t,e))return;n.uniform3uiv(this.addr,e),vs(t,e)}}function TK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ys(t,e))return;n.uniform4uiv(this.addr,e),vs(t,e)}}function EK(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s);let a;this.type===n.SAMPLER_2D_SHADOW?(qM.compareFunction=t.isReversedDepthBuffer()?s_:i_,a=qM):a=IU,t.setTexture2D(e||a,s)}function AK(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),t.setTexture3D(e||OU,s)}function CK(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),t.setTextureCube(e||UU,s)}function RK(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),t.setTexture2DArray(e||LU,s)}function NK(n){switch(n){case 5126:return fK;case 35664:return dK;case 35665:return hK;case 35666:return pK;case 35674:return mK;case 35675:return gK;case 35676:return yK;case 5124:case 35670:return vK;case 35667:case 35671:return xK;case 35668:case 35672:return bK;case 35669:case 35673:return _K;case 5125:return SK;case 36294:return wK;case 36295:return MK;case 36296:return TK;case 35678:case 36198:case 36298:case 36306:case 35682:return EK;case 35679:case 36299:case 36307:return AK;case 35680:case 36300:case 36308:case 36293:return CK;case 36289:case 36303:case 36311:case 36292:return RK}}function DK(n,e){n.uniform1fv(this.addr,e)}function PK(n,e){const t=$p(e,this.size,2);n.uniform2fv(this.addr,t)}function IK(n,e){const t=$p(e,this.size,3);n.uniform3fv(this.addr,t)}function LK(n,e){const t=$p(e,this.size,4);n.uniform4fv(this.addr,t)}function OK(n,e){const t=$p(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function UK(n,e){const t=$p(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function zK(n,e){const t=$p(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function FK(n,e){n.uniform1iv(this.addr,e)}function BK(n,e){n.uniform2iv(this.addr,e)}function kK(n,e){n.uniform3iv(this.addr,e)}function VK(n,e){n.uniform4iv(this.addr,e)}function HK(n,e){n.uniform1uiv(this.addr,e)}function jK(n,e){n.uniform2uiv(this.addr,e)}function GK(n,e){n.uniform3uiv(this.addr,e)}function WK(n,e){n.uniform4uiv(this.addr,e)}function XK(n,e,t){const i=this.cache,s=e.length,a=R_(t,s);ys(i,a)||(n.uniform1iv(this.addr,a),vs(i,a));let l;this.type===n.SAMPLER_2D_SHADOW?l=qM:l=IU;for(let u=0;u!==s;++u)t.setTexture2D(e[u]||l,a[u])}function qK(n,e,t){const i=this.cache,s=e.length,a=R_(t,s);ys(i,a)||(n.uniform1iv(this.addr,a),vs(i,a));for(let l=0;l!==s;++l)t.setTexture3D(e[l]||OU,a[l])}function YK(n,e,t){const i=this.cache,s=e.length,a=R_(t,s);ys(i,a)||(n.uniform1iv(this.addr,a),vs(i,a));for(let l=0;l!==s;++l)t.setTextureCube(e[l]||UU,a[l])}function $K(n,e,t){const i=this.cache,s=e.length,a=R_(t,s);ys(i,a)||(n.uniform1iv(this.addr,a),vs(i,a));for(let l=0;l!==s;++l)t.setTexture2DArray(e[l]||LU,a[l])}function ZK(n){switch(n){case 5126:return DK;case 35664:return PK;case 35665:return IK;case 35666:return LK;case 35674:return OK;case 35675:return UK;case 35676:return zK;case 5124:case 35670:return FK;case 35667:case 35671:return BK;case 35668:case 35672:return kK;case 35669:case 35673:return VK;case 5125:return HK;case 36294:return jK;case 36295:return GK;case 36296:return WK;case 35678:case 36198:case 36298:case 36306:case 35682:return XK;case 35679:case 36299:case 36307:return qK;case 35680:case 36300:case 36308:case 36293:return YK;case 36289:case 36303:case 36311:case 36292:return $K}}class KK{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=NK(t.type)}}class QK{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=ZK(t.type)}}class JK{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const s=this.seq;for(let a=0,l=s.length;a!==l;++a){const u=s[a];u.setValue(e,t[u.id],i)}}}const Dw=/(\w+)(\])?(\[|\.)?/g;function CN(n,e){n.seq.push(e),n.map[e.id]=e}function eQ(n,e,t){const i=n.name,s=i.length;for(Dw.lastIndex=0;;){const a=Dw.exec(i),l=Dw.lastIndex;let u=a[1];const h=a[2]==="]",p=a[3];if(h&&(u=u|0),p===void 0||p==="["&&l+2===s){CN(t,p===void 0?new KK(u,n,e):new QK(u,n,e));break}else{let m=t.map[u];m===void 0&&(m=new JK(u),CN(t,m)),t=m}}}class ob{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let l=0;l<i;++l){const u=e.getActiveUniform(t,l),h=e.getUniformLocation(t,u.name);eQ(u,h,this)}const s=[],a=[];for(const l of this.seq)l.type===e.SAMPLER_2D_SHADOW||l.type===e.SAMPLER_CUBE_SHADOW||l.type===e.SAMPLER_2D_ARRAY_SHADOW?s.push(l):a.push(l);s.length>0&&(this.seq=s.concat(a))}setValue(e,t,i,s){const a=this.map[t];a!==void 0&&a.setValue(e,i,s)}setOptional(e,t,i){const s=t[i];s!==void 0&&this.setValue(e,i,s)}static upload(e,t,i,s){for(let a=0,l=t.length;a!==l;++a){const u=t[a],h=i[u.id];h.needsUpdate!==!1&&u.setValue(e,h.value,s)}}static seqWithValue(e,t){const i=[];for(let s=0,a=e.length;s!==a;++s){const l=e[s];l.id in t&&i.push(l)}return i}}function RN(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const tQ=37297;let nQ=0;function iQ(n,e){const t=n.split(`
`),i=[],s=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let l=s;l<a;l++){const u=l+1;i.push(`${u===e?">":" "} ${u}: ${t[l]}`)}return i.join(`
`)}const NN=new an;function sQ(n){Rn._getMatrix(NN,Rn.workingColorSpace,n);const e=`mat3( ${NN.elements.map(t=>t.toFixed(4))} )`;switch(Rn.getTransfer(n)){case T0:return[e,"LinearTransferOETF"];case Xn:return[e,"sRGBTransferOETF"];default:return ht("WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function DN(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),a=(n.getShaderInfoLog(e)||"").trim();if(i&&a==="")return"";const l=/ERROR: 0:(\d+)/.exec(a);if(l){const u=parseInt(l[1]);return t.toUpperCase()+`

`+a+`

`+iQ(n.getShaderSource(e),u)}else return a}function rQ(n,e){const t=sQ(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}const aQ={[aE]:"Linear",[oE]:"Reinhard",[lE]:"Cineon",[Y1]:"ACESFilmic",[uE]:"AgX",[fE]:"Neutral",[cE]:"Custom"};function oQ(n,e){const t=aQ[e];return t===void 0?(ht("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+n+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Gx=new K;function lQ(){Rn.getLuminanceCoefficients(Gx);const n=Gx.x.toFixed(4),e=Gx.y.toFixed(4),t=Gx.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function cQ(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(jg).join(`
`)}function uQ(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function fQ(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let s=0;s<i;s++){const a=n.getActiveAttrib(e,s),l=a.name;let u=1;a.type===n.FLOAT_MAT2&&(u=2),a.type===n.FLOAT_MAT3&&(u=3),a.type===n.FLOAT_MAT4&&(u=4),t[l]={type:a.type,location:n.getAttribLocation(e,l),locationSize:u}}return t}function jg(n){return n!==""}function PN(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function IN(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const dQ=/^[ \t]*#include +<([\w\d./]+)>/gm;function YM(n){return n.replace(dQ,pQ)}const hQ=new Map;function pQ(n,e){let t=hn[e];if(t===void 0){const i=hQ.get(e);if(i!==void 0)t=hn[i],ht('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return YM(t)}const mQ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function LN(n){return n.replace(mQ,gQ)}function gQ(n,e,t,i){let s="";for(let a=parseInt(e);a<parseInt(t);a++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return s}function ON(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const yQ={[dp]:"SHADOWMAP_TYPE_PCF",[rd]:"SHADOWMAP_TYPE_VSM"};function vQ(n){return yQ[n.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const xQ={[Nl]:"ENVMAP_TYPE_CUBE",[Hu]:"ENVMAP_TYPE_CUBE",[Gp]:"ENVMAP_TYPE_CUBE_UV"};function bQ(n){return n.envMap===!1?"ENVMAP_TYPE_CUBE":xQ[n.envMapMode]||"ENVMAP_TYPE_CUBE"}const _Q={[Hu]:"ENVMAP_MODE_REFRACTION"};function SQ(n){return n.envMap===!1?"ENVMAP_MODE_REFLECTION":_Q[n.envMapMode]||"ENVMAP_MODE_REFLECTION"}const wQ={[Y0]:"ENVMAP_BLENDING_MULTIPLY",[mO]:"ENVMAP_BLENDING_MIX",[gO]:"ENVMAP_BLENDING_ADD"};function MQ(n){return n.envMap===!1?"ENVMAP_BLENDING_NONE":wQ[n.combine]||"ENVMAP_BLENDING_NONE"}function TQ(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function EQ(n,e,t,i){const s=n.getContext(),a=t.defines;let l=t.vertexShader,u=t.fragmentShader;const h=vQ(t),p=bQ(t),g=SQ(t),m=MQ(t),x=TQ(t),b=cQ(t),w=uQ(a),A=s.createProgram();let T,M,N=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(T=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,w].filter(jg).join(`
`),T.length>0&&(T+=`
`),M=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,w].filter(jg).join(`
`),M.length>0&&(M+=`
`)):(T=[ON(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,w,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+g:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(jg).join(`
`),M=[ON(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,w,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.envMap?"#define "+g:"",t.envMap?"#define "+m:"",x?"#define CUBEUV_TEXEL_WIDTH "+x.texelWidth:"",x?"#define CUBEUV_TEXEL_HEIGHT "+x.texelHeight:"",x?"#define CUBEUV_MAX_MIP "+x.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Za?"#define TONE_MAPPING":"",t.toneMapping!==Za?hn.tonemapping_pars_fragment:"",t.toneMapping!==Za?oQ("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",hn.colorspace_pars_fragment,rQ("linearToOutputTexel",t.outputColorSpace),lQ(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(jg).join(`
`)),l=YM(l),l=PN(l,t),l=IN(l,t),u=YM(u),u=PN(u,t),u=IN(u,t),l=LN(l),u=LN(u),t.isRawShaderMaterial!==!0&&(N=`#version 300 es
`,T=[b,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+T,M=["#define varying in",t.glslVersion===FM?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===FM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+M);const D=N+T+l,I=N+M+u,O=RN(s,s.VERTEX_SHADER,D),F=RN(s,s.FRAGMENT_SHADER,I);s.attachShader(A,O),s.attachShader(A,F),t.index0AttributeName!==void 0?s.bindAttribLocation(A,0,t.index0AttributeName):t.morphTargets===!0&&s.bindAttribLocation(A,0,"position"),s.linkProgram(A);function B($){if(n.debug.checkShaderErrors){const se=s.getProgramInfoLog(A)||"",ee=s.getShaderInfoLog(O)||"",ne=s.getShaderInfoLog(F)||"",ae=se.trim(),X=ee.trim(),Z=ne.trim();let Q=!0,ye=!0;if(s.getProgramParameter(A,s.LINK_STATUS)===!1)if(Q=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(s,A,O,F);else{const Se=DN(s,O,"vertex"),q=DN(s,F,"fragment");Ot("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(A,s.VALIDATE_STATUS)+`

Material Name: `+$.name+`
Material Type: `+$.type+`

Program Info Log: `+ae+`
`+Se+`
`+q)}else ae!==""?ht("WebGLProgram: Program Info Log:",ae):(X===""||Z==="")&&(ye=!1);ye&&($.diagnostics={runnable:Q,programLog:ae,vertexShader:{log:X,prefix:T},fragmentShader:{log:Z,prefix:M}})}s.deleteShader(O),s.deleteShader(F),H=new ob(s,A),z=fQ(s,A)}let H;this.getUniforms=function(){return H===void 0&&B(this),H};let z;this.getAttributes=function(){return z===void 0&&B(this),z};let k=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return k===!1&&(k=s.getProgramParameter(A,tQ)),k},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(A),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=nQ++,this.cacheKey=e,this.usedTimes=1,this.program=A,this.vertexShader=O,this.fragmentShader=F,this}let AQ=0;class CQ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,s=this._getShaderStage(t),a=this._getShaderStage(i),l=this._getShaderCacheForMaterial(e);return l.has(s)===!1&&(l.add(s),s.usedTimes++),l.has(a)===!1&&(l.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new RQ(e),t.set(e,i)),i}}class RQ{constructor(e){this.id=AQ++,this.code=e,this.usedTimes=0}}function NQ(n,e,t,i,s,a,l){const u=new Tp,h=new CQ,p=new Set,g=[],m=new Map,x=s.logarithmicDepthBuffer;let b=s.precision;const w={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function A(z){return p.add(z),z===0?"uv":`uv${z}`}function T(z,k,$,se,ee){const ne=se.fog,ae=ee.geometry,X=z.isMeshStandardMaterial?se.environment:null,Z=(z.isMeshStandardMaterial?t:e).get(z.envMap||X),Q=Z&&Z.mapping===Gp?Z.image.height:null,ye=w[z.type];z.precision!==null&&(b=s.getMaxPrecision(z.precision),b!==z.precision&&ht("WebGLProgram.getParameters:",z.precision,"not supported, using",b,"instead."));const Se=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,q=Se!==void 0?Se.length:0;let ue=0;ae.morphAttributes.position!==void 0&&(ue=1),ae.morphAttributes.normal!==void 0&&(ue=2),ae.morphAttributes.color!==void 0&&(ue=3);let fe,Te,Ve,he;if(ye){const fn=Co[ye];fe=fn.vertexShader,Te=fn.fragmentShader}else fe=z.vertexShader,Te=z.fragmentShader,h.update(z),Ve=h.getVertexShaderID(z),he=h.getFragmentShaderID(z);const ve=n.getRenderTarget(),Fe=n.state.buffers.depth.getReversed(),Ze=ee.isInstancedMesh===!0,rt=ee.isBatchedMesh===!0,kt=!!z.map,Vt=!!z.matcap,Pt=!!Z,Le=!!z.aoMap,qe=!!z.lightMap,Oe=!!z.bumpMap,et=!!z.normalMap,J=!!z.displacementMap,xt=!!z.emissiveMap,ot=!!z.metalnessMap,Nt=!!z.roughnessMap,He=z.anisotropy>0,Y=z.clearcoat>0,V=z.dispersion>0,ce=z.iridescence>0,Ce=z.sheen>0,Ue=z.transmission>0,Ne=He&&!!z.anisotropyMap,ft=Y&&!!z.clearcoatMap,Ke=Y&&!!z.clearcoatNormalMap,bt=Y&&!!z.clearcoatRoughnessMap,Dt=ce&&!!z.iridescenceMap,Xe=ce&&!!z.iridescenceThicknessMap,Je=Ce&&!!z.sheenColorMap,pt=Ce&&!!z.sheenRoughnessMap,dt=!!z.specularMap,at=!!z.specularColorMap,Kt=!!z.specularIntensityMap,oe=Ue&&!!z.transmissionMap,lt=Ue&&!!z.thicknessMap,Qe=!!z.gradientMap,ct=!!z.alphaMap,je=z.alphaTest>0,xe=!!z.alphaHash,Ge=!!z.extensions;let wt=Za;z.toneMapped&&(ve===null||ve.isXRRenderTarget===!0)&&(wt=n.toneMapping);const Gt={shaderID:ye,shaderType:z.type,shaderName:z.name,vertexShader:fe,fragmentShader:Te,defines:z.defines,customVertexShaderID:Ve,customFragmentShaderID:he,isRawShaderMaterial:z.isRawShaderMaterial===!0,glslVersion:z.glslVersion,precision:b,batching:rt,batchingColor:rt&&ee._colorsTexture!==null,instancing:Ze,instancingColor:Ze&&ee.instanceColor!==null,instancingMorph:Ze&&ee.morphTexture!==null,outputColorSpace:ve===null?n.outputColorSpace:ve.isXRRenderTarget===!0?ve.texture.colorSpace:ju,alphaToCoverage:!!z.alphaToCoverage,map:kt,matcap:Vt,envMap:Pt,envMapMode:Pt&&Z.mapping,envMapCubeUVHeight:Q,aoMap:Le,lightMap:qe,bumpMap:Oe,normalMap:et,displacementMap:J,emissiveMap:xt,normalMapObjectSpace:et&&z.normalMapType===SO,normalMapTangentSpace:et&&z.normalMapType===Yu,metalnessMap:ot,roughnessMap:Nt,anisotropy:He,anisotropyMap:Ne,clearcoat:Y,clearcoatMap:ft,clearcoatNormalMap:Ke,clearcoatRoughnessMap:bt,dispersion:V,iridescence:ce,iridescenceMap:Dt,iridescenceThicknessMap:Xe,sheen:Ce,sheenColorMap:Je,sheenRoughnessMap:pt,specularMap:dt,specularColorMap:at,specularIntensityMap:Kt,transmission:Ue,transmissionMap:oe,thicknessMap:lt,gradientMap:Qe,opaque:z.transparent===!1&&z.blending===fd&&z.alphaToCoverage===!1,alphaMap:ct,alphaTest:je,alphaHash:xe,combine:z.combine,mapUv:kt&&A(z.map.channel),aoMapUv:Le&&A(z.aoMap.channel),lightMapUv:qe&&A(z.lightMap.channel),bumpMapUv:Oe&&A(z.bumpMap.channel),normalMapUv:et&&A(z.normalMap.channel),displacementMapUv:J&&A(z.displacementMap.channel),emissiveMapUv:xt&&A(z.emissiveMap.channel),metalnessMapUv:ot&&A(z.metalnessMap.channel),roughnessMapUv:Nt&&A(z.roughnessMap.channel),anisotropyMapUv:Ne&&A(z.anisotropyMap.channel),clearcoatMapUv:ft&&A(z.clearcoatMap.channel),clearcoatNormalMapUv:Ke&&A(z.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:bt&&A(z.clearcoatRoughnessMap.channel),iridescenceMapUv:Dt&&A(z.iridescenceMap.channel),iridescenceThicknessMapUv:Xe&&A(z.iridescenceThicknessMap.channel),sheenColorMapUv:Je&&A(z.sheenColorMap.channel),sheenRoughnessMapUv:pt&&A(z.sheenRoughnessMap.channel),specularMapUv:dt&&A(z.specularMap.channel),specularColorMapUv:at&&A(z.specularColorMap.channel),specularIntensityMapUv:Kt&&A(z.specularIntensityMap.channel),transmissionMapUv:oe&&A(z.transmissionMap.channel),thicknessMapUv:lt&&A(z.thicknessMap.channel),alphaMapUv:ct&&A(z.alphaMap.channel),vertexTangents:!!ae.attributes.tangent&&(et||He),vertexColors:z.vertexColors,vertexAlphas:z.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,pointsUvs:ee.isPoints===!0&&!!ae.attributes.uv&&(kt||ct),fog:!!ne,useFog:z.fog===!0,fogExp2:!!ne&&ne.isFogExp2,flatShading:z.flatShading===!0&&z.wireframe===!1,sizeAttenuation:z.sizeAttenuation===!0,logarithmicDepthBuffer:x,reversedDepthBuffer:Fe,skinning:ee.isSkinnedMesh===!0,morphTargets:ae.morphAttributes.position!==void 0,morphNormals:ae.morphAttributes.normal!==void 0,morphColors:ae.morphAttributes.color!==void 0,morphTargetsCount:q,morphTextureStride:ue,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numLightProbes:k.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:z.dithering,shadowMapEnabled:n.shadowMap.enabled&&$.length>0,shadowMapType:n.shadowMap.type,toneMapping:wt,decodeVideoTexture:kt&&z.map.isVideoTexture===!0&&Rn.getTransfer(z.map.colorSpace)===Xn,decodeVideoTextureEmissive:xt&&z.emissiveMap.isVideoTexture===!0&&Rn.getTransfer(z.emissiveMap.colorSpace)===Xn,premultipliedAlpha:z.premultipliedAlpha,doubleSided:z.side===Ro,flipSided:z.side===Er,useDepthPacking:z.depthPacking>=0,depthPacking:z.depthPacking||0,index0AttributeName:z.index0AttributeName,extensionClipCullDistance:Ge&&z.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ge&&z.extensions.multiDraw===!0||rt)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:z.customProgramCacheKey()};return Gt.vertexUv1s=p.has(1),Gt.vertexUv2s=p.has(2),Gt.vertexUv3s=p.has(3),p.clear(),Gt}function M(z){const k=[];if(z.shaderID?k.push(z.shaderID):(k.push(z.customVertexShaderID),k.push(z.customFragmentShaderID)),z.defines!==void 0)for(const $ in z.defines)k.push($),k.push(z.defines[$]);return z.isRawShaderMaterial===!1&&(N(k,z),D(k,z),k.push(n.outputColorSpace)),k.push(z.customProgramCacheKey),k.join()}function N(z,k){z.push(k.precision),z.push(k.outputColorSpace),z.push(k.envMapMode),z.push(k.envMapCubeUVHeight),z.push(k.mapUv),z.push(k.alphaMapUv),z.push(k.lightMapUv),z.push(k.aoMapUv),z.push(k.bumpMapUv),z.push(k.normalMapUv),z.push(k.displacementMapUv),z.push(k.emissiveMapUv),z.push(k.metalnessMapUv),z.push(k.roughnessMapUv),z.push(k.anisotropyMapUv),z.push(k.clearcoatMapUv),z.push(k.clearcoatNormalMapUv),z.push(k.clearcoatRoughnessMapUv),z.push(k.iridescenceMapUv),z.push(k.iridescenceThicknessMapUv),z.push(k.sheenColorMapUv),z.push(k.sheenRoughnessMapUv),z.push(k.specularMapUv),z.push(k.specularColorMapUv),z.push(k.specularIntensityMapUv),z.push(k.transmissionMapUv),z.push(k.thicknessMapUv),z.push(k.combine),z.push(k.fogExp2),z.push(k.sizeAttenuation),z.push(k.morphTargetsCount),z.push(k.morphAttributeCount),z.push(k.numDirLights),z.push(k.numPointLights),z.push(k.numSpotLights),z.push(k.numSpotLightMaps),z.push(k.numHemiLights),z.push(k.numRectAreaLights),z.push(k.numDirLightShadows),z.push(k.numPointLightShadows),z.push(k.numSpotLightShadows),z.push(k.numSpotLightShadowsWithMaps),z.push(k.numLightProbes),z.push(k.shadowMapType),z.push(k.toneMapping),z.push(k.numClippingPlanes),z.push(k.numClipIntersection),z.push(k.depthPacking)}function D(z,k){u.disableAll(),k.instancing&&u.enable(0),k.instancingColor&&u.enable(1),k.instancingMorph&&u.enable(2),k.matcap&&u.enable(3),k.envMap&&u.enable(4),k.normalMapObjectSpace&&u.enable(5),k.normalMapTangentSpace&&u.enable(6),k.clearcoat&&u.enable(7),k.iridescence&&u.enable(8),k.alphaTest&&u.enable(9),k.vertexColors&&u.enable(10),k.vertexAlphas&&u.enable(11),k.vertexUv1s&&u.enable(12),k.vertexUv2s&&u.enable(13),k.vertexUv3s&&u.enable(14),k.vertexTangents&&u.enable(15),k.anisotropy&&u.enable(16),k.alphaHash&&u.enable(17),k.batching&&u.enable(18),k.dispersion&&u.enable(19),k.batchingColor&&u.enable(20),k.gradientMap&&u.enable(21),z.push(u.mask),u.disableAll(),k.fog&&u.enable(0),k.useFog&&u.enable(1),k.flatShading&&u.enable(2),k.logarithmicDepthBuffer&&u.enable(3),k.reversedDepthBuffer&&u.enable(4),k.skinning&&u.enable(5),k.morphTargets&&u.enable(6),k.morphNormals&&u.enable(7),k.morphColors&&u.enable(8),k.premultipliedAlpha&&u.enable(9),k.shadowMapEnabled&&u.enable(10),k.doubleSided&&u.enable(11),k.flipSided&&u.enable(12),k.useDepthPacking&&u.enable(13),k.dithering&&u.enable(14),k.transmission&&u.enable(15),k.sheen&&u.enable(16),k.opaque&&u.enable(17),k.pointsUvs&&u.enable(18),k.decodeVideoTexture&&u.enable(19),k.decodeVideoTextureEmissive&&u.enable(20),k.alphaToCoverage&&u.enable(21),z.push(u.mask)}function I(z){const k=w[z.type];let $;if(k){const se=Co[k];$=OO.clone(se.uniforms)}else $=z.uniforms;return $}function O(z,k){let $=m.get(k);return $!==void 0?++$.usedTimes:($=new EQ(n,k,z,a),g.push($),m.set(k,$)),$}function F(z){if(--z.usedTimes===0){const k=g.indexOf(z);g[k]=g[g.length-1],g.pop(),m.delete(z.cacheKey),z.destroy()}}function B(z){h.remove(z)}function H(){h.dispose()}return{getParameters:T,getProgramCacheKey:M,getUniforms:I,acquireProgram:O,releaseProgram:F,releaseShaderCache:B,programs:g,dispose:H}}function DQ(){let n=new WeakMap;function e(l){return n.has(l)}function t(l){let u=n.get(l);return u===void 0&&(u={},n.set(l,u)),u}function i(l){n.delete(l)}function s(l,u,h){n.get(l)[u]=h}function a(){n=new WeakMap}return{has:e,get:t,remove:i,update:s,dispose:a}}function PQ(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function UN(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function zN(){const n=[];let e=0;const t=[],i=[],s=[];function a(){e=0,t.length=0,i.length=0,s.length=0}function l(m,x,b,w,A,T){let M=n[e];return M===void 0?(M={id:m.id,object:m,geometry:x,material:b,groupOrder:w,renderOrder:m.renderOrder,z:A,group:T},n[e]=M):(M.id=m.id,M.object=m,M.geometry=x,M.material=b,M.groupOrder=w,M.renderOrder=m.renderOrder,M.z=A,M.group=T),e++,M}function u(m,x,b,w,A,T){const M=l(m,x,b,w,A,T);b.transmission>0?i.push(M):b.transparent===!0?s.push(M):t.push(M)}function h(m,x,b,w,A,T){const M=l(m,x,b,w,A,T);b.transmission>0?i.unshift(M):b.transparent===!0?s.unshift(M):t.unshift(M)}function p(m,x){t.length>1&&t.sort(m||PQ),i.length>1&&i.sort(x||UN),s.length>1&&s.sort(x||UN)}function g(){for(let m=e,x=n.length;m<x;m++){const b=n[m];if(b.id===null)break;b.id=null,b.object=null,b.geometry=null,b.material=null,b.group=null}}return{opaque:t,transmissive:i,transparent:s,init:a,push:u,unshift:h,finish:g,sort:p}}function IQ(){let n=new WeakMap;function e(i,s){const a=n.get(i);let l;return a===void 0?(l=new zN,n.set(i,[l])):s>=a.length?(l=new zN,a.push(l)):l=a[s],l}function t(){n=new WeakMap}return{get:e,dispose:t}}function LQ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new K,color:new yt};break;case"SpotLight":t={position:new K,direction:new K,color:new yt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new K,color:new yt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new K,skyColor:new yt,groundColor:new yt};break;case"RectAreaLight":t={color:new yt,position:new K,halfWidth:new K,halfHeight:new K};break}return n[e.id]=t,t}}}function OQ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ke};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ke};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ke,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let UQ=0;function zQ(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function FQ(n){const e=new LQ,t=OQ(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)i.probe.push(new K);const s=new K,a=new $t,l=new $t;function u(p){let g=0,m=0,x=0;for(let z=0;z<9;z++)i.probe[z].set(0,0,0);let b=0,w=0,A=0,T=0,M=0,N=0,D=0,I=0,O=0,F=0,B=0;p.sort(zQ);for(let z=0,k=p.length;z<k;z++){const $=p[z],se=$.color,ee=$.intensity,ne=$.distance;let ae=null;if($.shadow&&$.shadow.map&&($.shadow.map.texture.format===yd?ae=$.shadow.map.texture:ae=$.shadow.map.depthTexture||$.shadow.map.texture),$.isAmbientLight)g+=se.r*ee,m+=se.g*ee,x+=se.b*ee;else if($.isLightProbe){for(let X=0;X<9;X++)i.probe[X].addScaledVector($.sh.coefficients[X],ee);B++}else if($.isDirectionalLight){const X=e.get($);if(X.color.copy($.color).multiplyScalar($.intensity),$.castShadow){const Z=$.shadow,Q=t.get($);Q.shadowIntensity=Z.intensity,Q.shadowBias=Z.bias,Q.shadowNormalBias=Z.normalBias,Q.shadowRadius=Z.radius,Q.shadowMapSize=Z.mapSize,i.directionalShadow[b]=Q,i.directionalShadowMap[b]=ae,i.directionalShadowMatrix[b]=$.shadow.matrix,N++}i.directional[b]=X,b++}else if($.isSpotLight){const X=e.get($);X.position.setFromMatrixPosition($.matrixWorld),X.color.copy(se).multiplyScalar(ee),X.distance=ne,X.coneCos=Math.cos($.angle),X.penumbraCos=Math.cos($.angle*(1-$.penumbra)),X.decay=$.decay,i.spot[A]=X;const Z=$.shadow;if($.map&&(i.spotLightMap[O]=$.map,O++,Z.updateMatrices($),$.castShadow&&F++),i.spotLightMatrix[A]=Z.matrix,$.castShadow){const Q=t.get($);Q.shadowIntensity=Z.intensity,Q.shadowBias=Z.bias,Q.shadowNormalBias=Z.normalBias,Q.shadowRadius=Z.radius,Q.shadowMapSize=Z.mapSize,i.spotShadow[A]=Q,i.spotShadowMap[A]=ae,I++}A++}else if($.isRectAreaLight){const X=e.get($);X.color.copy(se).multiplyScalar(ee),X.halfWidth.set($.width*.5,0,0),X.halfHeight.set(0,$.height*.5,0),i.rectArea[T]=X,T++}else if($.isPointLight){const X=e.get($);if(X.color.copy($.color).multiplyScalar($.intensity),X.distance=$.distance,X.decay=$.decay,$.castShadow){const Z=$.shadow,Q=t.get($);Q.shadowIntensity=Z.intensity,Q.shadowBias=Z.bias,Q.shadowNormalBias=Z.normalBias,Q.shadowRadius=Z.radius,Q.shadowMapSize=Z.mapSize,Q.shadowCameraNear=Z.camera.near,Q.shadowCameraFar=Z.camera.far,i.pointShadow[w]=Q,i.pointShadowMap[w]=ae,i.pointShadowMatrix[w]=$.shadow.matrix,D++}i.point[w]=X,w++}else if($.isHemisphereLight){const X=e.get($);X.skyColor.copy($.color).multiplyScalar(ee),X.groundColor.copy($.groundColor).multiplyScalar(ee),i.hemi[M]=X,M++}}T>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=mt.LTC_FLOAT_1,i.rectAreaLTC2=mt.LTC_FLOAT_2):(i.rectAreaLTC1=mt.LTC_HALF_1,i.rectAreaLTC2=mt.LTC_HALF_2)),i.ambient[0]=g,i.ambient[1]=m,i.ambient[2]=x;const H=i.hash;(H.directionalLength!==b||H.pointLength!==w||H.spotLength!==A||H.rectAreaLength!==T||H.hemiLength!==M||H.numDirectionalShadows!==N||H.numPointShadows!==D||H.numSpotShadows!==I||H.numSpotMaps!==O||H.numLightProbes!==B)&&(i.directional.length=b,i.spot.length=A,i.rectArea.length=T,i.point.length=w,i.hemi.length=M,i.directionalShadow.length=N,i.directionalShadowMap.length=N,i.pointShadow.length=D,i.pointShadowMap.length=D,i.spotShadow.length=I,i.spotShadowMap.length=I,i.directionalShadowMatrix.length=N,i.pointShadowMatrix.length=D,i.spotLightMatrix.length=I+O-F,i.spotLightMap.length=O,i.numSpotLightShadowsWithMaps=F,i.numLightProbes=B,H.directionalLength=b,H.pointLength=w,H.spotLength=A,H.rectAreaLength=T,H.hemiLength=M,H.numDirectionalShadows=N,H.numPointShadows=D,H.numSpotShadows=I,H.numSpotMaps=O,H.numLightProbes=B,i.version=UQ++)}function h(p,g){let m=0,x=0,b=0,w=0,A=0;const T=g.matrixWorldInverse;for(let M=0,N=p.length;M<N;M++){const D=p[M];if(D.isDirectionalLight){const I=i.directional[m];I.direction.setFromMatrixPosition(D.matrixWorld),s.setFromMatrixPosition(D.target.matrixWorld),I.direction.sub(s),I.direction.transformDirection(T),m++}else if(D.isSpotLight){const I=i.spot[b];I.position.setFromMatrixPosition(D.matrixWorld),I.position.applyMatrix4(T),I.direction.setFromMatrixPosition(D.matrixWorld),s.setFromMatrixPosition(D.target.matrixWorld),I.direction.sub(s),I.direction.transformDirection(T),b++}else if(D.isRectAreaLight){const I=i.rectArea[w];I.position.setFromMatrixPosition(D.matrixWorld),I.position.applyMatrix4(T),l.identity(),a.copy(D.matrixWorld),a.premultiply(T),l.extractRotation(a),I.halfWidth.set(D.width*.5,0,0),I.halfHeight.set(0,D.height*.5,0),I.halfWidth.applyMatrix4(l),I.halfHeight.applyMatrix4(l),w++}else if(D.isPointLight){const I=i.point[x];I.position.setFromMatrixPosition(D.matrixWorld),I.position.applyMatrix4(T),x++}else if(D.isHemisphereLight){const I=i.hemi[A];I.direction.setFromMatrixPosition(D.matrixWorld),I.direction.transformDirection(T),A++}}}return{setup:u,setupView:h,state:i}}function FN(n){const e=new FQ(n),t=[],i=[];function s(g){p.camera=g,t.length=0,i.length=0}function a(g){t.push(g)}function l(g){i.push(g)}function u(){e.setup(t)}function h(g){e.setupView(t,g)}const p={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:s,state:p,setupLights:u,setupLightsView:h,pushLight:a,pushShadow:l}}function BQ(n){let e=new WeakMap;function t(s,a=0){const l=e.get(s);let u;return l===void 0?(u=new FN(n),e.set(s,[u])):a>=l.length?(u=new FN(n),l.push(u)):u=l[a],u}function i(){e=new WeakMap}return{get:t,dispose:i}}const kQ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,VQ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,HQ=[new K(1,0,0),new K(-1,0,0),new K(0,1,0),new K(0,-1,0),new K(0,0,1),new K(0,0,-1)],jQ=[new K(0,-1,0),new K(0,-1,0),new K(0,0,1),new K(0,0,-1),new K(0,-1,0),new K(0,-1,0)],BN=new $t,Bg=new K,Pw=new K;function GQ(n,e,t){let i=new Xp;const s=new ke,a=new ke,l=new ii,u=new FE,h=new BE,p={},g=t.maxTextureSize,m={[Nc]:Er,[Er]:Nc,[Ro]:Ro},x=new na({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ke},radius:{value:4}},vertexShader:kQ,fragmentShader:VQ}),b=x.clone();b.defines.HORIZONTAL_PASS=1;const w=new Jt;w.setAttribute("position",new Nn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new os(w,x),T=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=dp;let M=this.type;this.render=function(F,B,H){if(T.enabled===!1||T.autoUpdate===!1&&T.needsUpdate===!1||F.length===0)return;F.type===Kg&&(ht("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),F.type=dp);const z=n.getRenderTarget(),k=n.getActiveCubeFace(),$=n.getActiveMipmapLevel(),se=n.state;se.setBlending(Al),se.buffers.depth.getReversed()===!0?se.buffers.color.setClear(0,0,0,0):se.buffers.color.setClear(1,1,1,1),se.buffers.depth.setTest(!0),se.setScissorTest(!1);const ee=M!==this.type;ee&&B.traverse(function(ne){ne.material&&(Array.isArray(ne.material)?ne.material.forEach(ae=>ae.needsUpdate=!0):ne.material.needsUpdate=!0)});for(let ne=0,ae=F.length;ne<ae;ne++){const X=F[ne],Z=X.shadow;if(Z===void 0){ht("WebGLShadowMap:",X,"has no shadow.");continue}if(Z.autoUpdate===!1&&Z.needsUpdate===!1)continue;s.copy(Z.mapSize);const Q=Z.getFrameExtents();if(s.multiply(Q),a.copy(Z.mapSize),(s.x>g||s.y>g)&&(s.x>g&&(a.x=Math.floor(g/Q.x),s.x=a.x*Q.x,Z.mapSize.x=a.x),s.y>g&&(a.y=Math.floor(g/Q.y),s.y=a.y*Q.y,Z.mapSize.y=a.y)),Z.map===null||ee===!0){if(Z.map!==null&&(Z.map.depthTexture!==null&&(Z.map.depthTexture.dispose(),Z.map.depthTexture=null),Z.map.dispose()),this.type===rd){if(X.isPointLight){ht("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}Z.map=new ba(s.x,s.y,{format:yd,type:Dl,minFilter:gi,magFilter:gi,generateMipmaps:!1}),Z.map.texture.name=X.name+".shadowMap",Z.map.depthTexture=new Cp(s.x,s.y,Tr),Z.map.depthTexture.name=X.name+".shadowMapDepth",Z.map.depthTexture.format=Pl,Z.map.depthTexture.compareFunction=null,Z.map.depthTexture.minFilter=Zi,Z.map.depthTexture.magFilter=Zi}else{X.isPointLight?(Z.map=new ME(s.x),Z.map.depthTexture=new XO(s.x,Ka)):(Z.map=new ba(s.x,s.y),Z.map.depthTexture=new Cp(s.x,s.y,Ka)),Z.map.depthTexture.name=X.name+".shadowMap",Z.map.depthTexture.format=Pl;const Se=n.state.buffers.depth.getReversed();this.type===dp?(Z.map.depthTexture.compareFunction=Se?s_:i_,Z.map.depthTexture.minFilter=gi,Z.map.depthTexture.magFilter=gi):(Z.map.depthTexture.compareFunction=null,Z.map.depthTexture.minFilter=Zi,Z.map.depthTexture.magFilter=Zi)}Z.camera.updateProjectionMatrix()}const ye=Z.map.isWebGLCubeRenderTarget?6:1;for(let Se=0;Se<ye;Se++){if(Z.map.isWebGLCubeRenderTarget)n.setRenderTarget(Z.map,Se),n.clear();else{Se===0&&(n.setRenderTarget(Z.map),n.clear());const q=Z.getViewport(Se);l.set(a.x*q.x,a.y*q.y,a.x*q.z,a.y*q.w),se.viewport(l)}if(X.isPointLight){const q=Z.camera,ue=Z.matrix,fe=X.distance||q.far;fe!==q.far&&(q.far=fe,q.updateProjectionMatrix()),Bg.setFromMatrixPosition(X.matrixWorld),q.position.copy(Bg),Pw.copy(q.position),Pw.add(HQ[Se]),q.up.copy(jQ[Se]),q.lookAt(Pw),q.updateMatrixWorld(),ue.makeTranslation(-Bg.x,-Bg.y,-Bg.z),BN.multiplyMatrices(q.projectionMatrix,q.matrixWorldInverse),Z._frustum.setFromProjectionMatrix(BN,q.coordinateSystem,q.reversedDepth)}else Z.updateMatrices(X);i=Z.getFrustum(),I(B,H,Z.camera,X,this.type)}Z.isPointLightShadow!==!0&&this.type===rd&&N(Z,H),Z.needsUpdate=!1}M=this.type,T.needsUpdate=!1,n.setRenderTarget(z,k,$)};function N(F,B){const H=e.update(A);x.defines.VSM_SAMPLES!==F.blurSamples&&(x.defines.VSM_SAMPLES=F.blurSamples,b.defines.VSM_SAMPLES=F.blurSamples,x.needsUpdate=!0,b.needsUpdate=!0),F.mapPass===null&&(F.mapPass=new ba(s.x,s.y,{format:yd,type:Dl})),x.uniforms.shadow_pass.value=F.map.depthTexture,x.uniforms.resolution.value=F.mapSize,x.uniforms.radius.value=F.radius,n.setRenderTarget(F.mapPass),n.clear(),n.renderBufferDirect(B,null,H,x,A,null),b.uniforms.shadow_pass.value=F.mapPass.texture,b.uniforms.resolution.value=F.mapSize,b.uniforms.radius.value=F.radius,n.setRenderTarget(F.map),n.clear(),n.renderBufferDirect(B,null,H,b,A,null)}function D(F,B,H,z){let k=null;const $=H.isPointLight===!0?F.customDistanceMaterial:F.customDepthMaterial;if($!==void 0)k=$;else if(k=H.isPointLight===!0?h:u,n.localClippingEnabled&&B.clipShadows===!0&&Array.isArray(B.clippingPlanes)&&B.clippingPlanes.length!==0||B.displacementMap&&B.displacementScale!==0||B.alphaMap&&B.alphaTest>0||B.map&&B.alphaTest>0||B.alphaToCoverage===!0){const se=k.uuid,ee=B.uuid;let ne=p[se];ne===void 0&&(ne={},p[se]=ne);let ae=ne[ee];ae===void 0&&(ae=k.clone(),ne[ee]=ae,B.addEventListener("dispose",O)),k=ae}if(k.visible=B.visible,k.wireframe=B.wireframe,z===rd?k.side=B.shadowSide!==null?B.shadowSide:B.side:k.side=B.shadowSide!==null?B.shadowSide:m[B.side],k.alphaMap=B.alphaMap,k.alphaTest=B.alphaToCoverage===!0?.5:B.alphaTest,k.map=B.map,k.clipShadows=B.clipShadows,k.clippingPlanes=B.clippingPlanes,k.clipIntersection=B.clipIntersection,k.displacementMap=B.displacementMap,k.displacementScale=B.displacementScale,k.displacementBias=B.displacementBias,k.wireframeLinewidth=B.wireframeLinewidth,k.linewidth=B.linewidth,H.isPointLight===!0&&k.isMeshDistanceMaterial===!0){const se=n.properties.get(k);se.light=H}return k}function I(F,B,H,z,k){if(F.visible===!1)return;if(F.layers.test(B.layers)&&(F.isMesh||F.isLine||F.isPoints)&&(F.castShadow||F.receiveShadow&&k===rd)&&(!F.frustumCulled||i.intersectsObject(F))){F.modelViewMatrix.multiplyMatrices(H.matrixWorldInverse,F.matrixWorld);const ee=e.update(F),ne=F.material;if(Array.isArray(ne)){const ae=ee.groups;for(let X=0,Z=ae.length;X<Z;X++){const Q=ae[X],ye=ne[Q.materialIndex];if(ye&&ye.visible){const Se=D(F,ye,z,k);F.onBeforeShadow(n,F,B,H,ee,Se,Q),n.renderBufferDirect(H,null,ee,Se,F,Q),F.onAfterShadow(n,F,B,H,ee,Se,Q)}}}else if(ne.visible){const ae=D(F,ne,z,k);F.onBeforeShadow(n,F,B,H,ee,ae,null),n.renderBufferDirect(H,null,ee,ae,F,null),F.onAfterShadow(n,F,B,H,ee,ae,null)}}const se=F.children;for(let ee=0,ne=se.length;ee<ne;ee++)I(se[ee],B,H,z,k)}function O(F){F.target.removeEventListener("dispose",O);for(const H in p){const z=p[H],k=F.target.uuid;k in z&&(z[k].dispose(),delete z[k])}}}const WQ={[Rb]:Nb,[Db]:Lb,[Pb]:Ob,[gd]:Ib,[Nb]:Rb,[Lb]:Db,[Ob]:Pb,[Ib]:gd};function XQ(n,e){function t(){let oe=!1;const lt=new ii;let Qe=null;const ct=new ii(0,0,0,0);return{setMask:function(je){Qe!==je&&!oe&&(n.colorMask(je,je,je,je),Qe=je)},setLocked:function(je){oe=je},setClear:function(je,xe,Ge,wt,Gt){Gt===!0&&(je*=wt,xe*=wt,Ge*=wt),lt.set(je,xe,Ge,wt),ct.equals(lt)===!1&&(n.clearColor(je,xe,Ge,wt),ct.copy(lt))},reset:function(){oe=!1,Qe=null,ct.set(-1,0,0,0)}}}function i(){let oe=!1,lt=!1,Qe=null,ct=null,je=null;return{setReversed:function(xe){if(lt!==xe){const Ge=e.get("EXT_clip_control");xe?Ge.clipControlEXT(Ge.LOWER_LEFT_EXT,Ge.ZERO_TO_ONE_EXT):Ge.clipControlEXT(Ge.LOWER_LEFT_EXT,Ge.NEGATIVE_ONE_TO_ONE_EXT),lt=xe;const wt=je;je=null,this.setClear(wt)}},getReversed:function(){return lt},setTest:function(xe){xe?ve(n.DEPTH_TEST):Fe(n.DEPTH_TEST)},setMask:function(xe){Qe!==xe&&!oe&&(n.depthMask(xe),Qe=xe)},setFunc:function(xe){if(lt&&(xe=WQ[xe]),ct!==xe){switch(xe){case Rb:n.depthFunc(n.NEVER);break;case Nb:n.depthFunc(n.ALWAYS);break;case Db:n.depthFunc(n.LESS);break;case gd:n.depthFunc(n.LEQUAL);break;case Pb:n.depthFunc(n.EQUAL);break;case Ib:n.depthFunc(n.GEQUAL);break;case Lb:n.depthFunc(n.GREATER);break;case Ob:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}ct=xe}},setLocked:function(xe){oe=xe},setClear:function(xe){je!==xe&&(lt&&(xe=1-xe),n.clearDepth(xe),je=xe)},reset:function(){oe=!1,Qe=null,ct=null,je=null,lt=!1}}}function s(){let oe=!1,lt=null,Qe=null,ct=null,je=null,xe=null,Ge=null,wt=null,Gt=null;return{setTest:function(fn){oe||(fn?ve(n.STENCIL_TEST):Fe(n.STENCIL_TEST))},setMask:function(fn){lt!==fn&&!oe&&(n.stencilMask(fn),lt=fn)},setFunc:function(fn,wn,Yn){(Qe!==fn||ct!==wn||je!==Yn)&&(n.stencilFunc(fn,wn,Yn),Qe=fn,ct=wn,je=Yn)},setOp:function(fn,wn,Yn){(xe!==fn||Ge!==wn||wt!==Yn)&&(n.stencilOp(fn,wn,Yn),xe=fn,Ge=wn,wt=Yn)},setLocked:function(fn){oe=fn},setClear:function(fn){Gt!==fn&&(n.clearStencil(fn),Gt=fn)},reset:function(){oe=!1,lt=null,Qe=null,ct=null,je=null,xe=null,Ge=null,wt=null,Gt=null}}}const a=new t,l=new i,u=new s,h=new WeakMap,p=new WeakMap;let g={},m={},x=new WeakMap,b=[],w=null,A=!1,T=null,M=null,N=null,D=null,I=null,O=null,F=null,B=new yt(0,0,0),H=0,z=!1,k=null,$=null,se=null,ee=null,ne=null;const ae=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let X=!1,Z=0;const Q=n.getParameter(n.VERSION);Q.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL (\d)/.exec(Q)[1]),X=Z>=1):Q.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),X=Z>=2);let ye=null,Se={};const q=n.getParameter(n.SCISSOR_BOX),ue=n.getParameter(n.VIEWPORT),fe=new ii().fromArray(q),Te=new ii().fromArray(ue);function Ve(oe,lt,Qe,ct){const je=new Uint8Array(4),xe=n.createTexture();n.bindTexture(oe,xe),n.texParameteri(oe,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(oe,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ge=0;Ge<Qe;Ge++)oe===n.TEXTURE_3D||oe===n.TEXTURE_2D_ARRAY?n.texImage3D(lt,0,n.RGBA,1,1,ct,0,n.RGBA,n.UNSIGNED_BYTE,je):n.texImage2D(lt+Ge,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,je);return xe}const he={};he[n.TEXTURE_2D]=Ve(n.TEXTURE_2D,n.TEXTURE_2D,1),he[n.TEXTURE_CUBE_MAP]=Ve(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),he[n.TEXTURE_2D_ARRAY]=Ve(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),he[n.TEXTURE_3D]=Ve(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),ve(n.DEPTH_TEST),l.setFunc(gd),Oe(!1),et(IM),ve(n.CULL_FACE),Le(Al);function ve(oe){g[oe]!==!0&&(n.enable(oe),g[oe]=!0)}function Fe(oe){g[oe]!==!1&&(n.disable(oe),g[oe]=!1)}function Ze(oe,lt){return m[oe]!==lt?(n.bindFramebuffer(oe,lt),m[oe]=lt,oe===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=lt),oe===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=lt),!0):!1}function rt(oe,lt){let Qe=b,ct=!1;if(oe){Qe=x.get(lt),Qe===void 0&&(Qe=[],x.set(lt,Qe));const je=oe.textures;if(Qe.length!==je.length||Qe[0]!==n.COLOR_ATTACHMENT0){for(let xe=0,Ge=je.length;xe<Ge;xe++)Qe[xe]=n.COLOR_ATTACHMENT0+xe;Qe.length=je.length,ct=!0}}else Qe[0]!==n.BACK&&(Qe[0]=n.BACK,ct=!0);ct&&n.drawBuffers(Qe)}function kt(oe){return w!==oe?(n.useProgram(oe),w=oe,!0):!1}const Vt={[Pu]:n.FUNC_ADD,[QL]:n.FUNC_SUBTRACT,[JL]:n.FUNC_REVERSE_SUBTRACT};Vt[eO]=n.MIN,Vt[tO]=n.MAX;const Pt={[nO]:n.ZERO,[iO]:n.ONE,[sO]:n.SRC_COLOR,[Ab]:n.SRC_ALPHA,[uO]:n.SRC_ALPHA_SATURATE,[lO]:n.DST_COLOR,[aO]:n.DST_ALPHA,[rO]:n.ONE_MINUS_SRC_COLOR,[Cb]:n.ONE_MINUS_SRC_ALPHA,[cO]:n.ONE_MINUS_DST_COLOR,[oO]:n.ONE_MINUS_DST_ALPHA,[fO]:n.CONSTANT_COLOR,[dO]:n.ONE_MINUS_CONSTANT_COLOR,[hO]:n.CONSTANT_ALPHA,[pO]:n.ONE_MINUS_CONSTANT_ALPHA};function Le(oe,lt,Qe,ct,je,xe,Ge,wt,Gt,fn){if(oe===Al){A===!0&&(Fe(n.BLEND),A=!1);return}if(A===!1&&(ve(n.BLEND),A=!0),oe!==KL){if(oe!==T||fn!==z){if((M!==Pu||I!==Pu)&&(n.blendEquation(n.FUNC_ADD),M=Pu,I=Pu),fn)switch(oe){case fd:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Eb:n.blendFunc(n.ONE,n.ONE);break;case LM:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case OM:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:Ot("WebGLState: Invalid blending: ",oe);break}else switch(oe){case fd:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Eb:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case LM:Ot("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case OM:Ot("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Ot("WebGLState: Invalid blending: ",oe);break}N=null,D=null,O=null,F=null,B.set(0,0,0),H=0,T=oe,z=fn}return}je=je||lt,xe=xe||Qe,Ge=Ge||ct,(lt!==M||je!==I)&&(n.blendEquationSeparate(Vt[lt],Vt[je]),M=lt,I=je),(Qe!==N||ct!==D||xe!==O||Ge!==F)&&(n.blendFuncSeparate(Pt[Qe],Pt[ct],Pt[xe],Pt[Ge]),N=Qe,D=ct,O=xe,F=Ge),(wt.equals(B)===!1||Gt!==H)&&(n.blendColor(wt.r,wt.g,wt.b,Gt),B.copy(wt),H=Gt),T=oe,z=!1}function qe(oe,lt){oe.side===Ro?Fe(n.CULL_FACE):ve(n.CULL_FACE);let Qe=oe.side===Er;lt&&(Qe=!Qe),Oe(Qe),oe.blending===fd&&oe.transparent===!1?Le(Al):Le(oe.blending,oe.blendEquation,oe.blendSrc,oe.blendDst,oe.blendEquationAlpha,oe.blendSrcAlpha,oe.blendDstAlpha,oe.blendColor,oe.blendAlpha,oe.premultipliedAlpha),l.setFunc(oe.depthFunc),l.setTest(oe.depthTest),l.setMask(oe.depthWrite),a.setMask(oe.colorWrite);const ct=oe.stencilWrite;u.setTest(ct),ct&&(u.setMask(oe.stencilWriteMask),u.setFunc(oe.stencilFunc,oe.stencilRef,oe.stencilFuncMask),u.setOp(oe.stencilFail,oe.stencilZFail,oe.stencilZPass)),xt(oe.polygonOffset,oe.polygonOffsetFactor,oe.polygonOffsetUnits),oe.alphaToCoverage===!0?ve(n.SAMPLE_ALPHA_TO_COVERAGE):Fe(n.SAMPLE_ALPHA_TO_COVERAGE)}function Oe(oe){k!==oe&&(oe?n.frontFace(n.CW):n.frontFace(n.CCW),k=oe)}function et(oe){oe!==YL?(ve(n.CULL_FACE),oe!==$&&(oe===IM?n.cullFace(n.BACK):oe===$L?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Fe(n.CULL_FACE),$=oe}function J(oe){oe!==se&&(X&&n.lineWidth(oe),se=oe)}function xt(oe,lt,Qe){oe?(ve(n.POLYGON_OFFSET_FILL),(ee!==lt||ne!==Qe)&&(n.polygonOffset(lt,Qe),ee=lt,ne=Qe)):Fe(n.POLYGON_OFFSET_FILL)}function ot(oe){oe?ve(n.SCISSOR_TEST):Fe(n.SCISSOR_TEST)}function Nt(oe){oe===void 0&&(oe=n.TEXTURE0+ae-1),ye!==oe&&(n.activeTexture(oe),ye=oe)}function He(oe,lt,Qe){Qe===void 0&&(ye===null?Qe=n.TEXTURE0+ae-1:Qe=ye);let ct=Se[Qe];ct===void 0&&(ct={type:void 0,texture:void 0},Se[Qe]=ct),(ct.type!==oe||ct.texture!==lt)&&(ye!==Qe&&(n.activeTexture(Qe),ye=Qe),n.bindTexture(oe,lt||he[oe]),ct.type=oe,ct.texture=lt)}function Y(){const oe=Se[ye];oe!==void 0&&oe.type!==void 0&&(n.bindTexture(oe.type,null),oe.type=void 0,oe.texture=void 0)}function V(){try{n.compressedTexImage2D(...arguments)}catch(oe){Ot("WebGLState:",oe)}}function ce(){try{n.compressedTexImage3D(...arguments)}catch(oe){Ot("WebGLState:",oe)}}function Ce(){try{n.texSubImage2D(...arguments)}catch(oe){Ot("WebGLState:",oe)}}function Ue(){try{n.texSubImage3D(...arguments)}catch(oe){Ot("WebGLState:",oe)}}function Ne(){try{n.compressedTexSubImage2D(...arguments)}catch(oe){Ot("WebGLState:",oe)}}function ft(){try{n.compressedTexSubImage3D(...arguments)}catch(oe){Ot("WebGLState:",oe)}}function Ke(){try{n.texStorage2D(...arguments)}catch(oe){Ot("WebGLState:",oe)}}function bt(){try{n.texStorage3D(...arguments)}catch(oe){Ot("WebGLState:",oe)}}function Dt(){try{n.texImage2D(...arguments)}catch(oe){Ot("WebGLState:",oe)}}function Xe(){try{n.texImage3D(...arguments)}catch(oe){Ot("WebGLState:",oe)}}function Je(oe){fe.equals(oe)===!1&&(n.scissor(oe.x,oe.y,oe.z,oe.w),fe.copy(oe))}function pt(oe){Te.equals(oe)===!1&&(n.viewport(oe.x,oe.y,oe.z,oe.w),Te.copy(oe))}function dt(oe,lt){let Qe=p.get(lt);Qe===void 0&&(Qe=new WeakMap,p.set(lt,Qe));let ct=Qe.get(oe);ct===void 0&&(ct=n.getUniformBlockIndex(lt,oe.name),Qe.set(oe,ct))}function at(oe,lt){const ct=p.get(lt).get(oe);h.get(lt)!==ct&&(n.uniformBlockBinding(lt,ct,oe.__bindingPointIndex),h.set(lt,ct))}function Kt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),l.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),g={},ye=null,Se={},m={},x=new WeakMap,b=[],w=null,A=!1,T=null,M=null,N=null,D=null,I=null,O=null,F=null,B=new yt(0,0,0),H=0,z=!1,k=null,$=null,se=null,ee=null,ne=null,fe.set(0,0,n.canvas.width,n.canvas.height),Te.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:ve,disable:Fe,bindFramebuffer:Ze,drawBuffers:rt,useProgram:kt,setBlending:Le,setMaterial:qe,setFlipSided:Oe,setCullFace:et,setLineWidth:J,setPolygonOffset:xt,setScissorTest:ot,activeTexture:Nt,bindTexture:He,unbindTexture:Y,compressedTexImage2D:V,compressedTexImage3D:ce,texImage2D:Dt,texImage3D:Xe,updateUBOMapping:dt,uniformBlockBinding:at,texStorage2D:Ke,texStorage3D:bt,texSubImage2D:Ce,texSubImage3D:Ue,compressedTexSubImage2D:Ne,compressedTexSubImage3D:ft,scissor:Je,viewport:pt,reset:Kt}}function qQ(n,e,t,i,s,a,l){const u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new ke,g=new WeakMap;let m;const x=new WeakMap;let b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w(Y,V){return b?new OffscreenCanvas(Y,V):A0("canvas")}function A(Y,V,ce){let Ce=1;const Ue=He(Y);if((Ue.width>ce||Ue.height>ce)&&(Ce=ce/Math.max(Ue.width,Ue.height)),Ce<1)if(typeof HTMLImageElement<"u"&&Y instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Y instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Y instanceof ImageBitmap||typeof VideoFrame<"u"&&Y instanceof VideoFrame){const Ne=Math.floor(Ce*Ue.width),ft=Math.floor(Ce*Ue.height);m===void 0&&(m=w(Ne,ft));const Ke=V?w(Ne,ft):m;return Ke.width=Ne,Ke.height=ft,Ke.getContext("2d").drawImage(Y,0,0,Ne,ft),ht("WebGLRenderer: Texture has been resized from ("+Ue.width+"x"+Ue.height+") to ("+Ne+"x"+ft+")."),Ke}else return"data"in Y&&ht("WebGLRenderer: Image in DataTexture is too big ("+Ue.width+"x"+Ue.height+")."),Y;return Y}function T(Y){return Y.generateMipmaps}function M(Y){n.generateMipmap(Y)}function N(Y){return Y.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:Y.isWebGL3DRenderTarget?n.TEXTURE_3D:Y.isWebGLArrayRenderTarget||Y.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function D(Y,V,ce,Ce,Ue=!1){if(Y!==null){if(n[Y]!==void 0)return n[Y];ht("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Y+"'")}let Ne=V;if(V===n.RED&&(ce===n.FLOAT&&(Ne=n.R32F),ce===n.HALF_FLOAT&&(Ne=n.R16F),ce===n.UNSIGNED_BYTE&&(Ne=n.R8)),V===n.RED_INTEGER&&(ce===n.UNSIGNED_BYTE&&(Ne=n.R8UI),ce===n.UNSIGNED_SHORT&&(Ne=n.R16UI),ce===n.UNSIGNED_INT&&(Ne=n.R32UI),ce===n.BYTE&&(Ne=n.R8I),ce===n.SHORT&&(Ne=n.R16I),ce===n.INT&&(Ne=n.R32I)),V===n.RG&&(ce===n.FLOAT&&(Ne=n.RG32F),ce===n.HALF_FLOAT&&(Ne=n.RG16F),ce===n.UNSIGNED_BYTE&&(Ne=n.RG8)),V===n.RG_INTEGER&&(ce===n.UNSIGNED_BYTE&&(Ne=n.RG8UI),ce===n.UNSIGNED_SHORT&&(Ne=n.RG16UI),ce===n.UNSIGNED_INT&&(Ne=n.RG32UI),ce===n.BYTE&&(Ne=n.RG8I),ce===n.SHORT&&(Ne=n.RG16I),ce===n.INT&&(Ne=n.RG32I)),V===n.RGB_INTEGER&&(ce===n.UNSIGNED_BYTE&&(Ne=n.RGB8UI),ce===n.UNSIGNED_SHORT&&(Ne=n.RGB16UI),ce===n.UNSIGNED_INT&&(Ne=n.RGB32UI),ce===n.BYTE&&(Ne=n.RGB8I),ce===n.SHORT&&(Ne=n.RGB16I),ce===n.INT&&(Ne=n.RGB32I)),V===n.RGBA_INTEGER&&(ce===n.UNSIGNED_BYTE&&(Ne=n.RGBA8UI),ce===n.UNSIGNED_SHORT&&(Ne=n.RGBA16UI),ce===n.UNSIGNED_INT&&(Ne=n.RGBA32UI),ce===n.BYTE&&(Ne=n.RGBA8I),ce===n.SHORT&&(Ne=n.RGBA16I),ce===n.INT&&(Ne=n.RGBA32I)),V===n.RGB&&(ce===n.UNSIGNED_INT_5_9_9_9_REV&&(Ne=n.RGB9_E5),ce===n.UNSIGNED_INT_10F_11F_11F_REV&&(Ne=n.R11F_G11F_B10F)),V===n.RGBA){const ft=Ue?T0:Rn.getTransfer(Ce);ce===n.FLOAT&&(Ne=n.RGBA32F),ce===n.HALF_FLOAT&&(Ne=n.RGBA16F),ce===n.UNSIGNED_BYTE&&(Ne=ft===Xn?n.SRGB8_ALPHA8:n.RGBA8),ce===n.UNSIGNED_SHORT_4_4_4_4&&(Ne=n.RGBA4),ce===n.UNSIGNED_SHORT_5_5_5_1&&(Ne=n.RGB5_A1)}return(Ne===n.R16F||Ne===n.R32F||Ne===n.RG16F||Ne===n.RG32F||Ne===n.RGBA16F||Ne===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ne}function I(Y,V){let ce;return Y?V===null||V===Ka||V===_p?ce=n.DEPTH24_STENCIL8:V===Tr?ce=n.DEPTH32F_STENCIL8:V===bp&&(ce=n.DEPTH24_STENCIL8,ht("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):V===null||V===Ka||V===_p?ce=n.DEPTH_COMPONENT24:V===Tr?ce=n.DEPTH_COMPONENT32F:V===bp&&(ce=n.DEPTH_COMPONENT16),ce}function O(Y,V){return T(Y)===!0||Y.isFramebufferTexture&&Y.minFilter!==Zi&&Y.minFilter!==gi?Math.log2(Math.max(V.width,V.height))+1:Y.mipmaps!==void 0&&Y.mipmaps.length>0?Y.mipmaps.length:Y.isCompressedTexture&&Array.isArray(Y.image)?V.mipmaps.length:1}function F(Y){const V=Y.target;V.removeEventListener("dispose",F),H(V),V.isVideoTexture&&g.delete(V)}function B(Y){const V=Y.target;V.removeEventListener("dispose",B),k(V)}function H(Y){const V=i.get(Y);if(V.__webglInit===void 0)return;const ce=Y.source,Ce=x.get(ce);if(Ce){const Ue=Ce[V.__cacheKey];Ue.usedTimes--,Ue.usedTimes===0&&z(Y),Object.keys(Ce).length===0&&x.delete(ce)}i.remove(Y)}function z(Y){const V=i.get(Y);n.deleteTexture(V.__webglTexture);const ce=Y.source,Ce=x.get(ce);delete Ce[V.__cacheKey],l.memory.textures--}function k(Y){const V=i.get(Y);if(Y.depthTexture&&(Y.depthTexture.dispose(),i.remove(Y.depthTexture)),Y.isWebGLCubeRenderTarget)for(let Ce=0;Ce<6;Ce++){if(Array.isArray(V.__webglFramebuffer[Ce]))for(let Ue=0;Ue<V.__webglFramebuffer[Ce].length;Ue++)n.deleteFramebuffer(V.__webglFramebuffer[Ce][Ue]);else n.deleteFramebuffer(V.__webglFramebuffer[Ce]);V.__webglDepthbuffer&&n.deleteRenderbuffer(V.__webglDepthbuffer[Ce])}else{if(Array.isArray(V.__webglFramebuffer))for(let Ce=0;Ce<V.__webglFramebuffer.length;Ce++)n.deleteFramebuffer(V.__webglFramebuffer[Ce]);else n.deleteFramebuffer(V.__webglFramebuffer);if(V.__webglDepthbuffer&&n.deleteRenderbuffer(V.__webglDepthbuffer),V.__webglMultisampledFramebuffer&&n.deleteFramebuffer(V.__webglMultisampledFramebuffer),V.__webglColorRenderbuffer)for(let Ce=0;Ce<V.__webglColorRenderbuffer.length;Ce++)V.__webglColorRenderbuffer[Ce]&&n.deleteRenderbuffer(V.__webglColorRenderbuffer[Ce]);V.__webglDepthRenderbuffer&&n.deleteRenderbuffer(V.__webglDepthRenderbuffer)}const ce=Y.textures;for(let Ce=0,Ue=ce.length;Ce<Ue;Ce++){const Ne=i.get(ce[Ce]);Ne.__webglTexture&&(n.deleteTexture(Ne.__webglTexture),l.memory.textures--),i.remove(ce[Ce])}i.remove(Y)}let $=0;function se(){$=0}function ee(){const Y=$;return Y>=s.maxTextures&&ht("WebGLTextures: Trying to use "+Y+" texture units while this GPU supports only "+s.maxTextures),$+=1,Y}function ne(Y){const V=[];return V.push(Y.wrapS),V.push(Y.wrapT),V.push(Y.wrapR||0),V.push(Y.magFilter),V.push(Y.minFilter),V.push(Y.anisotropy),V.push(Y.internalFormat),V.push(Y.format),V.push(Y.type),V.push(Y.generateMipmaps),V.push(Y.premultiplyAlpha),V.push(Y.flipY),V.push(Y.unpackAlignment),V.push(Y.colorSpace),V.join()}function ae(Y,V){const ce=i.get(Y);if(Y.isVideoTexture&&ot(Y),Y.isRenderTargetTexture===!1&&Y.isExternalTexture!==!0&&Y.version>0&&ce.__version!==Y.version){const Ce=Y.image;if(Ce===null)ht("WebGLRenderer: Texture marked for update but no image data found.");else if(Ce.complete===!1)ht("WebGLRenderer: Texture marked for update but image is incomplete");else{he(ce,Y,V);return}}else Y.isExternalTexture&&(ce.__webglTexture=Y.sourceTexture?Y.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,ce.__webglTexture,n.TEXTURE0+V)}function X(Y,V){const ce=i.get(Y);if(Y.isRenderTargetTexture===!1&&Y.version>0&&ce.__version!==Y.version){he(ce,Y,V);return}else Y.isExternalTexture&&(ce.__webglTexture=Y.sourceTexture?Y.sourceTexture:null);t.bindTexture(n.TEXTURE_2D_ARRAY,ce.__webglTexture,n.TEXTURE0+V)}function Z(Y,V){const ce=i.get(Y);if(Y.isRenderTargetTexture===!1&&Y.version>0&&ce.__version!==Y.version){he(ce,Y,V);return}t.bindTexture(n.TEXTURE_3D,ce.__webglTexture,n.TEXTURE0+V)}function Q(Y,V){const ce=i.get(Y);if(Y.isCubeDepthTexture!==!0&&Y.version>0&&ce.__version!==Y.version){ve(ce,Y,V);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ce.__webglTexture,n.TEXTURE0+V)}const ye={[_0]:n.REPEAT,[Jr]:n.CLAMP_TO_EDGE,[S0]:n.MIRRORED_REPEAT},Se={[Zi]:n.NEAREST,[dE]:n.NEAREST_MIPMAP_NEAREST,[op]:n.NEAREST_MIPMAP_LINEAR,[gi]:n.LINEAR,[Qg]:n.LINEAR_MIPMAP_NEAREST,[Sl]:n.LINEAR_MIPMAP_LINEAR},q={[wO]:n.NEVER,[CO]:n.ALWAYS,[MO]:n.LESS,[i_]:n.LEQUAL,[TO]:n.EQUAL,[s_]:n.GEQUAL,[EO]:n.GREATER,[AO]:n.NOTEQUAL};function ue(Y,V){if(V.type===Tr&&e.has("OES_texture_float_linear")===!1&&(V.magFilter===gi||V.magFilter===Qg||V.magFilter===op||V.magFilter===Sl||V.minFilter===gi||V.minFilter===Qg||V.minFilter===op||V.minFilter===Sl)&&ht("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(Y,n.TEXTURE_WRAP_S,ye[V.wrapS]),n.texParameteri(Y,n.TEXTURE_WRAP_T,ye[V.wrapT]),(Y===n.TEXTURE_3D||Y===n.TEXTURE_2D_ARRAY)&&n.texParameteri(Y,n.TEXTURE_WRAP_R,ye[V.wrapR]),n.texParameteri(Y,n.TEXTURE_MAG_FILTER,Se[V.magFilter]),n.texParameteri(Y,n.TEXTURE_MIN_FILTER,Se[V.minFilter]),V.compareFunction&&(n.texParameteri(Y,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(Y,n.TEXTURE_COMPARE_FUNC,q[V.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(V.magFilter===Zi||V.minFilter!==op&&V.minFilter!==Sl||V.type===Tr&&e.has("OES_texture_float_linear")===!1)return;if(V.anisotropy>1||i.get(V).__currentAnisotropy){const ce=e.get("EXT_texture_filter_anisotropic");n.texParameterf(Y,ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(V.anisotropy,s.getMaxAnisotropy())),i.get(V).__currentAnisotropy=V.anisotropy}}}function fe(Y,V){let ce=!1;Y.__webglInit===void 0&&(Y.__webglInit=!0,V.addEventListener("dispose",F));const Ce=V.source;let Ue=x.get(Ce);Ue===void 0&&(Ue={},x.set(Ce,Ue));const Ne=ne(V);if(Ne!==Y.__cacheKey){Ue[Ne]===void 0&&(Ue[Ne]={texture:n.createTexture(),usedTimes:0},l.memory.textures++,ce=!0),Ue[Ne].usedTimes++;const ft=Ue[Y.__cacheKey];ft!==void 0&&(Ue[Y.__cacheKey].usedTimes--,ft.usedTimes===0&&z(V)),Y.__cacheKey=Ne,Y.__webglTexture=Ue[Ne].texture}return ce}function Te(Y,V,ce){return Math.floor(Math.floor(Y/ce)/V)}function Ve(Y,V,ce,Ce){const Ne=Y.updateRanges;if(Ne.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,V.width,V.height,ce,Ce,V.data);else{Ne.sort((Xe,Je)=>Xe.start-Je.start);let ft=0;for(let Xe=1;Xe<Ne.length;Xe++){const Je=Ne[ft],pt=Ne[Xe],dt=Je.start+Je.count,at=Te(pt.start,V.width,4),Kt=Te(Je.start,V.width,4);pt.start<=dt+1&&at===Kt&&Te(pt.start+pt.count-1,V.width,4)===at?Je.count=Math.max(Je.count,pt.start+pt.count-Je.start):(++ft,Ne[ft]=pt)}Ne.length=ft+1;const Ke=n.getParameter(n.UNPACK_ROW_LENGTH),bt=n.getParameter(n.UNPACK_SKIP_PIXELS),Dt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,V.width);for(let Xe=0,Je=Ne.length;Xe<Je;Xe++){const pt=Ne[Xe],dt=Math.floor(pt.start/4),at=Math.ceil(pt.count/4),Kt=dt%V.width,oe=Math.floor(dt/V.width),lt=at,Qe=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,Kt),n.pixelStorei(n.UNPACK_SKIP_ROWS,oe),t.texSubImage2D(n.TEXTURE_2D,0,Kt,oe,lt,Qe,ce,Ce,V.data)}Y.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,Ke),n.pixelStorei(n.UNPACK_SKIP_PIXELS,bt),n.pixelStorei(n.UNPACK_SKIP_ROWS,Dt)}}function he(Y,V,ce){let Ce=n.TEXTURE_2D;(V.isDataArrayTexture||V.isCompressedArrayTexture)&&(Ce=n.TEXTURE_2D_ARRAY),V.isData3DTexture&&(Ce=n.TEXTURE_3D);const Ue=fe(Y,V),Ne=V.source;t.bindTexture(Ce,Y.__webglTexture,n.TEXTURE0+ce);const ft=i.get(Ne);if(Ne.version!==ft.__version||Ue===!0){t.activeTexture(n.TEXTURE0+ce);const Ke=Rn.getPrimaries(Rn.workingColorSpace),bt=V.colorSpace===_c?null:Rn.getPrimaries(V.colorSpace),Dt=V.colorSpace===_c||Ke===bt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,V.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,V.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Dt);let Xe=A(V.image,!1,s.maxTextureSize);Xe=Nt(V,Xe);const Je=a.convert(V.format,V.colorSpace),pt=a.convert(V.type);let dt=D(V.internalFormat,Je,pt,V.colorSpace,V.isVideoTexture);ue(Ce,V);let at;const Kt=V.mipmaps,oe=V.isVideoTexture!==!0,lt=ft.__version===void 0||Ue===!0,Qe=Ne.dataReady,ct=O(V,Xe);if(V.isDepthTexture)dt=I(V.format===Lu,V.type),lt&&(oe?t.texStorage2D(n.TEXTURE_2D,1,dt,Xe.width,Xe.height):t.texImage2D(n.TEXTURE_2D,0,dt,Xe.width,Xe.height,0,Je,pt,null));else if(V.isDataTexture)if(Kt.length>0){oe&&lt&&t.texStorage2D(n.TEXTURE_2D,ct,dt,Kt[0].width,Kt[0].height);for(let je=0,xe=Kt.length;je<xe;je++)at=Kt[je],oe?Qe&&t.texSubImage2D(n.TEXTURE_2D,je,0,0,at.width,at.height,Je,pt,at.data):t.texImage2D(n.TEXTURE_2D,je,dt,at.width,at.height,0,Je,pt,at.data);V.generateMipmaps=!1}else oe?(lt&&t.texStorage2D(n.TEXTURE_2D,ct,dt,Xe.width,Xe.height),Qe&&Ve(V,Xe,Je,pt)):t.texImage2D(n.TEXTURE_2D,0,dt,Xe.width,Xe.height,0,Je,pt,Xe.data);else if(V.isCompressedTexture)if(V.isCompressedArrayTexture){oe&&lt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ct,dt,Kt[0].width,Kt[0].height,Xe.depth);for(let je=0,xe=Kt.length;je<xe;je++)if(at=Kt[je],V.format!==tr)if(Je!==null)if(oe){if(Qe)if(V.layerUpdates.size>0){const Ge=WM(at.width,at.height,V.format,V.type);for(const wt of V.layerUpdates){const Gt=at.data.subarray(wt*Ge/at.data.BYTES_PER_ELEMENT,(wt+1)*Ge/at.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,je,0,0,wt,at.width,at.height,1,Je,Gt)}V.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,je,0,0,0,at.width,at.height,Xe.depth,Je,at.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,je,dt,at.width,at.height,Xe.depth,0,at.data,0,0);else ht("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else oe?Qe&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,je,0,0,0,at.width,at.height,Xe.depth,Je,pt,at.data):t.texImage3D(n.TEXTURE_2D_ARRAY,je,dt,at.width,at.height,Xe.depth,0,Je,pt,at.data)}else{oe&&lt&&t.texStorage2D(n.TEXTURE_2D,ct,dt,Kt[0].width,Kt[0].height);for(let je=0,xe=Kt.length;je<xe;je++)at=Kt[je],V.format!==tr?Je!==null?oe?Qe&&t.compressedTexSubImage2D(n.TEXTURE_2D,je,0,0,at.width,at.height,Je,at.data):t.compressedTexImage2D(n.TEXTURE_2D,je,dt,at.width,at.height,0,at.data):ht("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):oe?Qe&&t.texSubImage2D(n.TEXTURE_2D,je,0,0,at.width,at.height,Je,pt,at.data):t.texImage2D(n.TEXTURE_2D,je,dt,at.width,at.height,0,Je,pt,at.data)}else if(V.isDataArrayTexture)if(oe){if(lt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ct,dt,Xe.width,Xe.height,Xe.depth),Qe)if(V.layerUpdates.size>0){const je=WM(Xe.width,Xe.height,V.format,V.type);for(const xe of V.layerUpdates){const Ge=Xe.data.subarray(xe*je/Xe.data.BYTES_PER_ELEMENT,(xe+1)*je/Xe.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,xe,Xe.width,Xe.height,1,Je,pt,Ge)}V.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Xe.width,Xe.height,Xe.depth,Je,pt,Xe.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,dt,Xe.width,Xe.height,Xe.depth,0,Je,pt,Xe.data);else if(V.isData3DTexture)oe?(lt&&t.texStorage3D(n.TEXTURE_3D,ct,dt,Xe.width,Xe.height,Xe.depth),Qe&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Xe.width,Xe.height,Xe.depth,Je,pt,Xe.data)):t.texImage3D(n.TEXTURE_3D,0,dt,Xe.width,Xe.height,Xe.depth,0,Je,pt,Xe.data);else if(V.isFramebufferTexture){if(lt)if(oe)t.texStorage2D(n.TEXTURE_2D,ct,dt,Xe.width,Xe.height);else{let je=Xe.width,xe=Xe.height;for(let Ge=0;Ge<ct;Ge++)t.texImage2D(n.TEXTURE_2D,Ge,dt,je,xe,0,Je,pt,null),je>>=1,xe>>=1}}else if(Kt.length>0){if(oe&&lt){const je=He(Kt[0]);t.texStorage2D(n.TEXTURE_2D,ct,dt,je.width,je.height)}for(let je=0,xe=Kt.length;je<xe;je++)at=Kt[je],oe?Qe&&t.texSubImage2D(n.TEXTURE_2D,je,0,0,Je,pt,at):t.texImage2D(n.TEXTURE_2D,je,dt,Je,pt,at);V.generateMipmaps=!1}else if(oe){if(lt){const je=He(Xe);t.texStorage2D(n.TEXTURE_2D,ct,dt,je.width,je.height)}Qe&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Je,pt,Xe)}else t.texImage2D(n.TEXTURE_2D,0,dt,Je,pt,Xe);T(V)&&M(Ce),ft.__version=Ne.version,V.onUpdate&&V.onUpdate(V)}Y.__version=V.version}function ve(Y,V,ce){if(V.image.length!==6)return;const Ce=fe(Y,V),Ue=V.source;t.bindTexture(n.TEXTURE_CUBE_MAP,Y.__webglTexture,n.TEXTURE0+ce);const Ne=i.get(Ue);if(Ue.version!==Ne.__version||Ce===!0){t.activeTexture(n.TEXTURE0+ce);const ft=Rn.getPrimaries(Rn.workingColorSpace),Ke=V.colorSpace===_c?null:Rn.getPrimaries(V.colorSpace),bt=V.colorSpace===_c||ft===Ke?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,V.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,V.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,bt);const Dt=V.isCompressedTexture||V.image[0].isCompressedTexture,Xe=V.image[0]&&V.image[0].isDataTexture,Je=[];for(let xe=0;xe<6;xe++)!Dt&&!Xe?Je[xe]=A(V.image[xe],!0,s.maxCubemapSize):Je[xe]=Xe?V.image[xe].image:V.image[xe],Je[xe]=Nt(V,Je[xe]);const pt=Je[0],dt=a.convert(V.format,V.colorSpace),at=a.convert(V.type),Kt=D(V.internalFormat,dt,at,V.colorSpace),oe=V.isVideoTexture!==!0,lt=Ne.__version===void 0||Ce===!0,Qe=Ue.dataReady;let ct=O(V,pt);ue(n.TEXTURE_CUBE_MAP,V);let je;if(Dt){oe&&lt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,ct,Kt,pt.width,pt.height);for(let xe=0;xe<6;xe++){je=Je[xe].mipmaps;for(let Ge=0;Ge<je.length;Ge++){const wt=je[Ge];V.format!==tr?dt!==null?oe?Qe&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,Ge,0,0,wt.width,wt.height,dt,wt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,Ge,Kt,wt.width,wt.height,0,wt.data):ht("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):oe?Qe&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,Ge,0,0,wt.width,wt.height,dt,at,wt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,Ge,Kt,wt.width,wt.height,0,dt,at,wt.data)}}}else{if(je=V.mipmaps,oe&&lt){je.length>0&&ct++;const xe=He(Je[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,ct,Kt,xe.width,xe.height)}for(let xe=0;xe<6;xe++)if(Xe){oe?Qe&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,0,0,0,Je[xe].width,Je[xe].height,dt,at,Je[xe].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,0,Kt,Je[xe].width,Je[xe].height,0,dt,at,Je[xe].data);for(let Ge=0;Ge<je.length;Ge++){const Gt=je[Ge].image[xe].image;oe?Qe&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,Ge+1,0,0,Gt.width,Gt.height,dt,at,Gt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,Ge+1,Kt,Gt.width,Gt.height,0,dt,at,Gt.data)}}else{oe?Qe&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,0,0,0,dt,at,Je[xe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,0,Kt,dt,at,Je[xe]);for(let Ge=0;Ge<je.length;Ge++){const wt=je[Ge];oe?Qe&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,Ge+1,0,0,dt,at,wt.image[xe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,Ge+1,Kt,dt,at,wt.image[xe])}}}T(V)&&M(n.TEXTURE_CUBE_MAP),Ne.__version=Ue.version,V.onUpdate&&V.onUpdate(V)}Y.__version=V.version}function Fe(Y,V,ce,Ce,Ue,Ne){const ft=a.convert(ce.format,ce.colorSpace),Ke=a.convert(ce.type),bt=D(ce.internalFormat,ft,Ke,ce.colorSpace),Dt=i.get(V),Xe=i.get(ce);if(Xe.__renderTarget=V,!Dt.__hasExternalTextures){const Je=Math.max(1,V.width>>Ne),pt=Math.max(1,V.height>>Ne);Ue===n.TEXTURE_3D||Ue===n.TEXTURE_2D_ARRAY?t.texImage3D(Ue,Ne,bt,Je,pt,V.depth,0,ft,Ke,null):t.texImage2D(Ue,Ne,bt,Je,pt,0,ft,Ke,null)}t.bindFramebuffer(n.FRAMEBUFFER,Y),xt(V)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ce,Ue,Xe.__webglTexture,0,J(V)):(Ue===n.TEXTURE_2D||Ue>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ue<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ce,Ue,Xe.__webglTexture,Ne),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ze(Y,V,ce){if(n.bindRenderbuffer(n.RENDERBUFFER,Y),V.depthBuffer){const Ce=V.depthTexture,Ue=Ce&&Ce.isDepthTexture?Ce.type:null,Ne=I(V.stencilBuffer,Ue),ft=V.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;xt(V)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,J(V),Ne,V.width,V.height):ce?n.renderbufferStorageMultisample(n.RENDERBUFFER,J(V),Ne,V.width,V.height):n.renderbufferStorage(n.RENDERBUFFER,Ne,V.width,V.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,ft,n.RENDERBUFFER,Y)}else{const Ce=V.textures;for(let Ue=0;Ue<Ce.length;Ue++){const Ne=Ce[Ue],ft=a.convert(Ne.format,Ne.colorSpace),Ke=a.convert(Ne.type),bt=D(Ne.internalFormat,ft,Ke,Ne.colorSpace);xt(V)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,J(V),bt,V.width,V.height):ce?n.renderbufferStorageMultisample(n.RENDERBUFFER,J(V),bt,V.width,V.height):n.renderbufferStorage(n.RENDERBUFFER,bt,V.width,V.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function rt(Y,V,ce){const Ce=V.isWebGLCubeRenderTarget===!0;if(t.bindFramebuffer(n.FRAMEBUFFER,Y),!(V.depthTexture&&V.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ue=i.get(V.depthTexture);if(Ue.__renderTarget=V,(!Ue.__webglTexture||V.depthTexture.image.width!==V.width||V.depthTexture.image.height!==V.height)&&(V.depthTexture.image.width=V.width,V.depthTexture.image.height=V.height,V.depthTexture.needsUpdate=!0),Ce){if(Ue.__webglInit===void 0&&(Ue.__webglInit=!0,V.depthTexture.addEventListener("dispose",F)),Ue.__webglTexture===void 0){Ue.__webglTexture=n.createTexture(),t.bindTexture(n.TEXTURE_CUBE_MAP,Ue.__webglTexture),ue(n.TEXTURE_CUBE_MAP,V.depthTexture);const Dt=a.convert(V.depthTexture.format),Xe=a.convert(V.depthTexture.type);let Je;V.depthTexture.format===Pl?Je=n.DEPTH_COMPONENT24:V.depthTexture.format===Lu&&(Je=n.DEPTH24_STENCIL8);for(let pt=0;pt<6;pt++)n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+pt,0,Je,V.width,V.height,0,Dt,Xe,null)}}else ae(V.depthTexture,0);const Ne=Ue.__webglTexture,ft=J(V),Ke=Ce?n.TEXTURE_CUBE_MAP_POSITIVE_X+ce:n.TEXTURE_2D,bt=V.depthTexture.format===Lu?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;if(V.depthTexture.format===Pl)xt(V)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,bt,Ke,Ne,0,ft):n.framebufferTexture2D(n.FRAMEBUFFER,bt,Ke,Ne,0);else if(V.depthTexture.format===Lu)xt(V)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,bt,Ke,Ne,0,ft):n.framebufferTexture2D(n.FRAMEBUFFER,bt,Ke,Ne,0);else throw new Error("Unknown depthTexture format")}function kt(Y){const V=i.get(Y),ce=Y.isWebGLCubeRenderTarget===!0;if(V.__boundDepthTexture!==Y.depthTexture){const Ce=Y.depthTexture;if(V.__depthDisposeCallback&&V.__depthDisposeCallback(),Ce){const Ue=()=>{delete V.__boundDepthTexture,delete V.__depthDisposeCallback,Ce.removeEventListener("dispose",Ue)};Ce.addEventListener("dispose",Ue),V.__depthDisposeCallback=Ue}V.__boundDepthTexture=Ce}if(Y.depthTexture&&!V.__autoAllocateDepthBuffer)if(ce)for(let Ce=0;Ce<6;Ce++)rt(V.__webglFramebuffer[Ce],Y,Ce);else{const Ce=Y.texture.mipmaps;Ce&&Ce.length>0?rt(V.__webglFramebuffer[0],Y,0):rt(V.__webglFramebuffer,Y,0)}else if(ce){V.__webglDepthbuffer=[];for(let Ce=0;Ce<6;Ce++)if(t.bindFramebuffer(n.FRAMEBUFFER,V.__webglFramebuffer[Ce]),V.__webglDepthbuffer[Ce]===void 0)V.__webglDepthbuffer[Ce]=n.createRenderbuffer(),Ze(V.__webglDepthbuffer[Ce],Y,!1);else{const Ue=Y.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ne=V.__webglDepthbuffer[Ce];n.bindRenderbuffer(n.RENDERBUFFER,Ne),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ue,n.RENDERBUFFER,Ne)}}else{const Ce=Y.texture.mipmaps;if(Ce&&Ce.length>0?t.bindFramebuffer(n.FRAMEBUFFER,V.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,V.__webglFramebuffer),V.__webglDepthbuffer===void 0)V.__webglDepthbuffer=n.createRenderbuffer(),Ze(V.__webglDepthbuffer,Y,!1);else{const Ue=Y.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ne=V.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ne),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ue,n.RENDERBUFFER,Ne)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Vt(Y,V,ce){const Ce=i.get(Y);V!==void 0&&Fe(Ce.__webglFramebuffer,Y,Y.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ce!==void 0&&kt(Y)}function Pt(Y){const V=Y.texture,ce=i.get(Y),Ce=i.get(V);Y.addEventListener("dispose",B);const Ue=Y.textures,Ne=Y.isWebGLCubeRenderTarget===!0,ft=Ue.length>1;if(ft||(Ce.__webglTexture===void 0&&(Ce.__webglTexture=n.createTexture()),Ce.__version=V.version,l.memory.textures++),Ne){ce.__webglFramebuffer=[];for(let Ke=0;Ke<6;Ke++)if(V.mipmaps&&V.mipmaps.length>0){ce.__webglFramebuffer[Ke]=[];for(let bt=0;bt<V.mipmaps.length;bt++)ce.__webglFramebuffer[Ke][bt]=n.createFramebuffer()}else ce.__webglFramebuffer[Ke]=n.createFramebuffer()}else{if(V.mipmaps&&V.mipmaps.length>0){ce.__webglFramebuffer=[];for(let Ke=0;Ke<V.mipmaps.length;Ke++)ce.__webglFramebuffer[Ke]=n.createFramebuffer()}else ce.__webglFramebuffer=n.createFramebuffer();if(ft)for(let Ke=0,bt=Ue.length;Ke<bt;Ke++){const Dt=i.get(Ue[Ke]);Dt.__webglTexture===void 0&&(Dt.__webglTexture=n.createTexture(),l.memory.textures++)}if(Y.samples>0&&xt(Y)===!1){ce.__webglMultisampledFramebuffer=n.createFramebuffer(),ce.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ce.__webglMultisampledFramebuffer);for(let Ke=0;Ke<Ue.length;Ke++){const bt=Ue[Ke];ce.__webglColorRenderbuffer[Ke]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ce.__webglColorRenderbuffer[Ke]);const Dt=a.convert(bt.format,bt.colorSpace),Xe=a.convert(bt.type),Je=D(bt.internalFormat,Dt,Xe,bt.colorSpace,Y.isXRRenderTarget===!0),pt=J(Y);n.renderbufferStorageMultisample(n.RENDERBUFFER,pt,Je,Y.width,Y.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ke,n.RENDERBUFFER,ce.__webglColorRenderbuffer[Ke])}n.bindRenderbuffer(n.RENDERBUFFER,null),Y.depthBuffer&&(ce.__webglDepthRenderbuffer=n.createRenderbuffer(),Ze(ce.__webglDepthRenderbuffer,Y,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ne){t.bindTexture(n.TEXTURE_CUBE_MAP,Ce.__webglTexture),ue(n.TEXTURE_CUBE_MAP,V);for(let Ke=0;Ke<6;Ke++)if(V.mipmaps&&V.mipmaps.length>0)for(let bt=0;bt<V.mipmaps.length;bt++)Fe(ce.__webglFramebuffer[Ke][bt],Y,V,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,bt);else Fe(ce.__webglFramebuffer[Ke],Y,V,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,0);T(V)&&M(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ft){for(let Ke=0,bt=Ue.length;Ke<bt;Ke++){const Dt=Ue[Ke],Xe=i.get(Dt);let Je=n.TEXTURE_2D;(Y.isWebGL3DRenderTarget||Y.isWebGLArrayRenderTarget)&&(Je=Y.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Je,Xe.__webglTexture),ue(Je,Dt),Fe(ce.__webglFramebuffer,Y,Dt,n.COLOR_ATTACHMENT0+Ke,Je,0),T(Dt)&&M(Je)}t.unbindTexture()}else{let Ke=n.TEXTURE_2D;if((Y.isWebGL3DRenderTarget||Y.isWebGLArrayRenderTarget)&&(Ke=Y.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Ke,Ce.__webglTexture),ue(Ke,V),V.mipmaps&&V.mipmaps.length>0)for(let bt=0;bt<V.mipmaps.length;bt++)Fe(ce.__webglFramebuffer[bt],Y,V,n.COLOR_ATTACHMENT0,Ke,bt);else Fe(ce.__webglFramebuffer,Y,V,n.COLOR_ATTACHMENT0,Ke,0);T(V)&&M(Ke),t.unbindTexture()}Y.depthBuffer&&kt(Y)}function Le(Y){const V=Y.textures;for(let ce=0,Ce=V.length;ce<Ce;ce++){const Ue=V[ce];if(T(Ue)){const Ne=N(Y),ft=i.get(Ue).__webglTexture;t.bindTexture(Ne,ft),M(Ne),t.unbindTexture()}}}const qe=[],Oe=[];function et(Y){if(Y.samples>0){if(xt(Y)===!1){const V=Y.textures,ce=Y.width,Ce=Y.height;let Ue=n.COLOR_BUFFER_BIT;const Ne=Y.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ft=i.get(Y),Ke=V.length>1;if(Ke)for(let Dt=0;Dt<V.length;Dt++)t.bindFramebuffer(n.FRAMEBUFFER,ft.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Dt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ft.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Dt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ft.__webglMultisampledFramebuffer);const bt=Y.texture.mipmaps;bt&&bt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ft.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ft.__webglFramebuffer);for(let Dt=0;Dt<V.length;Dt++){if(Y.resolveDepthBuffer&&(Y.depthBuffer&&(Ue|=n.DEPTH_BUFFER_BIT),Y.stencilBuffer&&Y.resolveStencilBuffer&&(Ue|=n.STENCIL_BUFFER_BIT)),Ke){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ft.__webglColorRenderbuffer[Dt]);const Xe=i.get(V[Dt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Xe,0)}n.blitFramebuffer(0,0,ce,Ce,0,0,ce,Ce,Ue,n.NEAREST),h===!0&&(qe.length=0,Oe.length=0,qe.push(n.COLOR_ATTACHMENT0+Dt),Y.depthBuffer&&Y.resolveDepthBuffer===!1&&(qe.push(Ne),Oe.push(Ne),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Oe)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,qe))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ke)for(let Dt=0;Dt<V.length;Dt++){t.bindFramebuffer(n.FRAMEBUFFER,ft.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Dt,n.RENDERBUFFER,ft.__webglColorRenderbuffer[Dt]);const Xe=i.get(V[Dt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ft.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Dt,n.TEXTURE_2D,Xe,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ft.__webglMultisampledFramebuffer)}else if(Y.depthBuffer&&Y.resolveDepthBuffer===!1&&h){const V=Y.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[V])}}}function J(Y){return Math.min(s.maxSamples,Y.samples)}function xt(Y){const V=i.get(Y);return Y.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&V.__useRenderToTexture!==!1}function ot(Y){const V=l.render.frame;g.get(Y)!==V&&(g.set(Y,V),Y.update())}function Nt(Y,V){const ce=Y.colorSpace,Ce=Y.format,Ue=Y.type;return Y.isCompressedTexture===!0||Y.isVideoTexture===!0||ce!==ju&&ce!==_c&&(Rn.getTransfer(ce)===Xn?(Ce!==tr||Ue!==Sr)&&ht("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Ot("WebGLTextures: Unsupported texture color space:",ce)),V}function He(Y){return typeof HTMLImageElement<"u"&&Y instanceof HTMLImageElement?(p.width=Y.naturalWidth||Y.width,p.height=Y.naturalHeight||Y.height):typeof VideoFrame<"u"&&Y instanceof VideoFrame?(p.width=Y.displayWidth,p.height=Y.displayHeight):(p.width=Y.width,p.height=Y.height),p}this.allocateTextureUnit=ee,this.resetTextureUnits=se,this.setTexture2D=ae,this.setTexture2DArray=X,this.setTexture3D=Z,this.setTextureCube=Q,this.rebindTextures=Vt,this.setupRenderTarget=Pt,this.updateRenderTargetMipmap=Le,this.updateMultisampleRenderTarget=et,this.setupDepthRenderbuffer=kt,this.setupFrameBufferTexture=Fe,this.useMultisampledRTT=xt,this.isReversedDepthBuffer=function(){return t.buffers.depth.getReversed()}}function zU(n,e){function t(i,s=_c){let a;const l=Rn.getTransfer(s);if(i===Sr)return n.UNSIGNED_BYTE;if(i===K1)return n.UNSIGNED_SHORT_4_4_4_4;if(i===Q1)return n.UNSIGNED_SHORT_5_5_5_1;if(i===mE)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===gE)return n.UNSIGNED_INT_10F_11F_11F_REV;if(i===hE)return n.BYTE;if(i===pE)return n.SHORT;if(i===bp)return n.UNSIGNED_SHORT;if(i===Z1)return n.INT;if(i===Ka)return n.UNSIGNED_INT;if(i===Tr)return n.FLOAT;if(i===Dl)return n.HALF_FLOAT;if(i===yE)return n.ALPHA;if(i===vE)return n.RGB;if(i===tr)return n.RGBA;if(i===Pl)return n.DEPTH_COMPONENT;if(i===Lu)return n.DEPTH_STENCIL;if(i===J1)return n.RED;if(i===$0)return n.RED_INTEGER;if(i===yd)return n.RG;if(i===e_)return n.RG_INTEGER;if(i===t_)return n.RGBA_INTEGER;if(i===Jg||i===e0||i===t0||i===n0)if(l===Xn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===Jg)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===e0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===t0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===n0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===Jg)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===e0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===t0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===n0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Ub||i===zb||i===Fb||i===Bb)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===Ub)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===zb)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Fb)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Bb)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===kb||i===Vb||i===Hb||i===jb||i===Gb||i===Wb||i===Xb)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===kb||i===Vb)return l===Xn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===Hb)return l===Xn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC;if(i===jb)return a.COMPRESSED_R11_EAC;if(i===Gb)return a.COMPRESSED_SIGNED_R11_EAC;if(i===Wb)return a.COMPRESSED_RG11_EAC;if(i===Xb)return a.COMPRESSED_SIGNED_RG11_EAC}else return null;if(i===qb||i===Yb||i===$b||i===Zb||i===Kb||i===Qb||i===Jb||i===e1||i===t1||i===n1||i===i1||i===s1||i===r1||i===a1)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===qb)return l===Xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Yb)return l===Xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===$b)return l===Xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Zb)return l===Xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===Kb)return l===Xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Qb)return l===Xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Jb)return l===Xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===e1)return l===Xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===t1)return l===Xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===n1)return l===Xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===i1)return l===Xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===s1)return l===Xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===r1)return l===Xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===a1)return l===Xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===o1||i===l1||i===c1)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===o1)return l===Xn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===l1)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===c1)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===u1||i===f1||i===d1||i===h1)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===u1)return a.COMPRESSED_RED_RGTC1_EXT;if(i===f1)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===d1)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===h1)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===_p?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const YQ=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,$Q=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class ZQ{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const i=new RE(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new na({vertexShader:YQ,fragmentShader:$Q,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new os(new qp(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class KQ extends Ol{constructor(e,t){super();const i=this;let s=null,a=1,l=null,u="local-floor",h=1,p=null,g=null,m=null,x=null,b=null,w=null;const A=typeof XRWebGLBinding<"u",T=new ZQ,M={},N=t.getContextAttributes();let D=null,I=null;const O=[],F=[],B=new ke;let H=null;const z=new Es;z.viewport=new ii;const k=new Es;k.viewport=new ii;const $=[z,k],se=new EU;let ee=null,ne=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(he){let ve=O[he];return ve===void 0&&(ve=new ab,O[he]=ve),ve.getTargetRaySpace()},this.getControllerGrip=function(he){let ve=O[he];return ve===void 0&&(ve=new ab,O[he]=ve),ve.getGripSpace()},this.getHand=function(he){let ve=O[he];return ve===void 0&&(ve=new ab,O[he]=ve),ve.getHandSpace()};function ae(he){const ve=F.indexOf(he.inputSource);if(ve===-1)return;const Fe=O[ve];Fe!==void 0&&(Fe.update(he.inputSource,he.frame,p||l),Fe.dispatchEvent({type:he.type,data:he.inputSource}))}function X(){s.removeEventListener("select",ae),s.removeEventListener("selectstart",ae),s.removeEventListener("selectend",ae),s.removeEventListener("squeeze",ae),s.removeEventListener("squeezestart",ae),s.removeEventListener("squeezeend",ae),s.removeEventListener("end",X),s.removeEventListener("inputsourceschange",Z);for(let he=0;he<O.length;he++){const ve=F[he];ve!==null&&(F[he]=null,O[he].disconnect(ve))}ee=null,ne=null,T.reset();for(const he in M)delete M[he];e.setRenderTarget(D),b=null,x=null,m=null,s=null,I=null,Ve.stop(),i.isPresenting=!1,e.setPixelRatio(H),e.setSize(B.width,B.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(he){a=he,i.isPresenting===!0&&ht("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(he){u=he,i.isPresenting===!0&&ht("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||l},this.setReferenceSpace=function(he){p=he},this.getBaseLayer=function(){return x!==null?x:b},this.getBinding=function(){return m===null&&A&&(m=new XRWebGLBinding(s,t)),m},this.getFrame=function(){return w},this.getSession=function(){return s},this.setSession=async function(he){if(s=he,s!==null){if(D=e.getRenderTarget(),s.addEventListener("select",ae),s.addEventListener("selectstart",ae),s.addEventListener("selectend",ae),s.addEventListener("squeeze",ae),s.addEventListener("squeezestart",ae),s.addEventListener("squeezeend",ae),s.addEventListener("end",X),s.addEventListener("inputsourceschange",Z),N.xrCompatible!==!0&&await t.makeXRCompatible(),H=e.getPixelRatio(),e.getSize(B),A&&"createProjectionLayer"in XRWebGLBinding.prototype){let Fe=null,Ze=null,rt=null;N.depth&&(rt=N.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Fe=N.stencil?Lu:Pl,Ze=N.stencil?_p:Ka);const kt={colorFormat:t.RGBA8,depthFormat:rt,scaleFactor:a};m=this.getBinding(),x=m.createProjectionLayer(kt),s.updateRenderState({layers:[x]}),e.setPixelRatio(1),e.setSize(x.textureWidth,x.textureHeight,!1),I=new ba(x.textureWidth,x.textureHeight,{format:tr,type:Sr,depthTexture:new Cp(x.textureWidth,x.textureHeight,Ze,void 0,void 0,void 0,void 0,void 0,void 0,Fe),stencilBuffer:N.stencil,colorSpace:e.outputColorSpace,samples:N.antialias?4:0,resolveDepthBuffer:x.ignoreDepthValues===!1,resolveStencilBuffer:x.ignoreDepthValues===!1})}else{const Fe={antialias:N.antialias,alpha:!0,depth:N.depth,stencil:N.stencil,framebufferScaleFactor:a};b=new XRWebGLLayer(s,t,Fe),s.updateRenderState({baseLayer:b}),e.setPixelRatio(1),e.setSize(b.framebufferWidth,b.framebufferHeight,!1),I=new ba(b.framebufferWidth,b.framebufferHeight,{format:tr,type:Sr,colorSpace:e.outputColorSpace,stencilBuffer:N.stencil,resolveDepthBuffer:b.ignoreDepthValues===!1,resolveStencilBuffer:b.ignoreDepthValues===!1})}I.isXRRenderTarget=!0,this.setFoveation(h),p=null,l=await s.requestReferenceSpace(u),Ve.setContext(s),Ve.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return T.getDepthTexture()};function Z(he){for(let ve=0;ve<he.removed.length;ve++){const Fe=he.removed[ve],Ze=F.indexOf(Fe);Ze>=0&&(F[Ze]=null,O[Ze].disconnect(Fe))}for(let ve=0;ve<he.added.length;ve++){const Fe=he.added[ve];let Ze=F.indexOf(Fe);if(Ze===-1){for(let kt=0;kt<O.length;kt++)if(kt>=F.length){F.push(Fe),Ze=kt;break}else if(F[kt]===null){F[kt]=Fe,Ze=kt;break}if(Ze===-1)break}const rt=O[Ze];rt&&rt.connect(Fe)}}const Q=new K,ye=new K;function Se(he,ve,Fe){Q.setFromMatrixPosition(ve.matrixWorld),ye.setFromMatrixPosition(Fe.matrixWorld);const Ze=Q.distanceTo(ye),rt=ve.projectionMatrix.elements,kt=Fe.projectionMatrix.elements,Vt=rt[14]/(rt[10]-1),Pt=rt[14]/(rt[10]+1),Le=(rt[9]+1)/rt[5],qe=(rt[9]-1)/rt[5],Oe=(rt[8]-1)/rt[0],et=(kt[8]+1)/kt[0],J=Vt*Oe,xt=Vt*et,ot=Ze/(-Oe+et),Nt=ot*-Oe;if(ve.matrixWorld.decompose(he.position,he.quaternion,he.scale),he.translateX(Nt),he.translateZ(ot),he.matrixWorld.compose(he.position,he.quaternion,he.scale),he.matrixWorldInverse.copy(he.matrixWorld).invert(),rt[10]===-1)he.projectionMatrix.copy(ve.projectionMatrix),he.projectionMatrixInverse.copy(ve.projectionMatrixInverse);else{const He=Vt+ot,Y=Pt+ot,V=J-Nt,ce=xt+(Ze-Nt),Ce=Le*Pt/Y*He,Ue=qe*Pt/Y*He;he.projectionMatrix.makePerspective(V,ce,Ce,Ue,He,Y),he.projectionMatrixInverse.copy(he.projectionMatrix).invert()}}function q(he,ve){ve===null?he.matrixWorld.copy(he.matrix):he.matrixWorld.multiplyMatrices(ve.matrixWorld,he.matrix),he.matrixWorldInverse.copy(he.matrixWorld).invert()}this.updateCamera=function(he){if(s===null)return;let ve=he.near,Fe=he.far;T.texture!==null&&(T.depthNear>0&&(ve=T.depthNear),T.depthFar>0&&(Fe=T.depthFar)),se.near=k.near=z.near=ve,se.far=k.far=z.far=Fe,(ee!==se.near||ne!==se.far)&&(s.updateRenderState({depthNear:se.near,depthFar:se.far}),ee=se.near,ne=se.far),se.layers.mask=he.layers.mask|6,z.layers.mask=se.layers.mask&3,k.layers.mask=se.layers.mask&5;const Ze=he.parent,rt=se.cameras;q(se,Ze);for(let kt=0;kt<rt.length;kt++)q(rt[kt],Ze);rt.length===2?Se(se,z,k):se.projectionMatrix.copy(z.projectionMatrix),ue(he,se,Ze)};function ue(he,ve,Fe){Fe===null?he.matrix.copy(ve.matrixWorld):(he.matrix.copy(Fe.matrixWorld),he.matrix.invert(),he.matrix.multiply(ve.matrixWorld)),he.matrix.decompose(he.position,he.quaternion,he.scale),he.updateMatrixWorld(!0),he.projectionMatrix.copy(ve.projectionMatrix),he.projectionMatrixInverse.copy(ve.projectionMatrixInverse),he.isPerspectiveCamera&&(he.fov=Mp*2*Math.atan(1/he.projectionMatrix.elements[5]),he.zoom=1)}this.getCamera=function(){return se},this.getFoveation=function(){if(!(x===null&&b===null))return h},this.setFoveation=function(he){h=he,x!==null&&(x.fixedFoveation=he),b!==null&&b.fixedFoveation!==void 0&&(b.fixedFoveation=he)},this.hasDepthSensing=function(){return T.texture!==null},this.getDepthSensingMesh=function(){return T.getMesh(se)},this.getCameraTexture=function(he){return M[he]};let fe=null;function Te(he,ve){if(g=ve.getViewerPose(p||l),w=ve,g!==null){const Fe=g.views;b!==null&&(e.setRenderTargetFramebuffer(I,b.framebuffer),e.setRenderTarget(I));let Ze=!1;Fe.length!==se.cameras.length&&(se.cameras.length=0,Ze=!0);for(let Pt=0;Pt<Fe.length;Pt++){const Le=Fe[Pt];let qe=null;if(b!==null)qe=b.getViewport(Le);else{const et=m.getViewSubImage(x,Le);qe=et.viewport,Pt===0&&(e.setRenderTargetTextures(I,et.colorTexture,et.depthStencilTexture),e.setRenderTarget(I))}let Oe=$[Pt];Oe===void 0&&(Oe=new Es,Oe.layers.enable(Pt),Oe.viewport=new ii,$[Pt]=Oe),Oe.matrix.fromArray(Le.transform.matrix),Oe.matrix.decompose(Oe.position,Oe.quaternion,Oe.scale),Oe.projectionMatrix.fromArray(Le.projectionMatrix),Oe.projectionMatrixInverse.copy(Oe.projectionMatrix).invert(),Oe.viewport.set(qe.x,qe.y,qe.width,qe.height),Pt===0&&(se.matrix.copy(Oe.matrix),se.matrix.decompose(se.position,se.quaternion,se.scale)),Ze===!0&&se.cameras.push(Oe)}const rt=s.enabledFeatures;if(rt&&rt.includes("depth-sensing")&&s.depthUsage=="gpu-optimized"&&A){m=i.getBinding();const Pt=m.getDepthInformation(Fe[0]);Pt&&Pt.isValid&&Pt.texture&&T.init(Pt,s.renderState)}if(rt&&rt.includes("camera-access")&&A){e.state.unbindTexture(),m=i.getBinding();for(let Pt=0;Pt<Fe.length;Pt++){const Le=Fe[Pt].camera;if(Le){let qe=M[Le];qe||(qe=new RE,M[Le]=qe);const Oe=m.getCameraImage(Le);qe.sourceTexture=Oe}}}}for(let Fe=0;Fe<O.length;Fe++){const Ze=F[Fe],rt=O[Fe];Ze!==null&&rt!==void 0&&rt.update(Ze,ve,p||l)}fe&&fe(he,ve),ve.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ve}),w=null}const Ve=new PU;Ve.setAnimationLoop(Te),this.setAnimationLoop=function(he){fe=he},this.dispose=function(){}}}const Jf=new _a,QQ=new $t;function JQ(n,e){function t(T,M){T.matrixAutoUpdate===!0&&T.updateMatrix(),M.value.copy(T.matrix)}function i(T,M){M.color.getRGB(T.fogColor.value,LO(n)),M.isFog?(T.fogNear.value=M.near,T.fogFar.value=M.far):M.isFogExp2&&(T.fogDensity.value=M.density)}function s(T,M,N,D,I){M.isMeshBasicMaterial||M.isMeshLambertMaterial?a(T,M):M.isMeshToonMaterial?(a(T,M),m(T,M)):M.isMeshPhongMaterial?(a(T,M),g(T,M)):M.isMeshStandardMaterial?(a(T,M),x(T,M),M.isMeshPhysicalMaterial&&b(T,M,I)):M.isMeshMatcapMaterial?(a(T,M),w(T,M)):M.isMeshDepthMaterial?a(T,M):M.isMeshDistanceMaterial?(a(T,M),A(T,M)):M.isMeshNormalMaterial?a(T,M):M.isLineBasicMaterial?(l(T,M),M.isLineDashedMaterial&&u(T,M)):M.isPointsMaterial?h(T,M,N,D):M.isSpriteMaterial?p(T,M):M.isShadowMaterial?(T.color.value.copy(M.color),T.opacity.value=M.opacity):M.isShaderMaterial&&(M.uniformsNeedUpdate=!1)}function a(T,M){T.opacity.value=M.opacity,M.color&&T.diffuse.value.copy(M.color),M.emissive&&T.emissive.value.copy(M.emissive).multiplyScalar(M.emissiveIntensity),M.map&&(T.map.value=M.map,t(M.map,T.mapTransform)),M.alphaMap&&(T.alphaMap.value=M.alphaMap,t(M.alphaMap,T.alphaMapTransform)),M.bumpMap&&(T.bumpMap.value=M.bumpMap,t(M.bumpMap,T.bumpMapTransform),T.bumpScale.value=M.bumpScale,M.side===Er&&(T.bumpScale.value*=-1)),M.normalMap&&(T.normalMap.value=M.normalMap,t(M.normalMap,T.normalMapTransform),T.normalScale.value.copy(M.normalScale),M.side===Er&&T.normalScale.value.negate()),M.displacementMap&&(T.displacementMap.value=M.displacementMap,t(M.displacementMap,T.displacementMapTransform),T.displacementScale.value=M.displacementScale,T.displacementBias.value=M.displacementBias),M.emissiveMap&&(T.emissiveMap.value=M.emissiveMap,t(M.emissiveMap,T.emissiveMapTransform)),M.specularMap&&(T.specularMap.value=M.specularMap,t(M.specularMap,T.specularMapTransform)),M.alphaTest>0&&(T.alphaTest.value=M.alphaTest);const N=e.get(M),D=N.envMap,I=N.envMapRotation;D&&(T.envMap.value=D,Jf.copy(I),Jf.x*=-1,Jf.y*=-1,Jf.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(Jf.y*=-1,Jf.z*=-1),T.envMapRotation.value.setFromMatrix4(QQ.makeRotationFromEuler(Jf)),T.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,T.reflectivity.value=M.reflectivity,T.ior.value=M.ior,T.refractionRatio.value=M.refractionRatio),M.lightMap&&(T.lightMap.value=M.lightMap,T.lightMapIntensity.value=M.lightMapIntensity,t(M.lightMap,T.lightMapTransform)),M.aoMap&&(T.aoMap.value=M.aoMap,T.aoMapIntensity.value=M.aoMapIntensity,t(M.aoMap,T.aoMapTransform))}function l(T,M){T.diffuse.value.copy(M.color),T.opacity.value=M.opacity,M.map&&(T.map.value=M.map,t(M.map,T.mapTransform))}function u(T,M){T.dashSize.value=M.dashSize,T.totalSize.value=M.dashSize+M.gapSize,T.scale.value=M.scale}function h(T,M,N,D){T.diffuse.value.copy(M.color),T.opacity.value=M.opacity,T.size.value=M.size*N,T.scale.value=D*.5,M.map&&(T.map.value=M.map,t(M.map,T.uvTransform)),M.alphaMap&&(T.alphaMap.value=M.alphaMap,t(M.alphaMap,T.alphaMapTransform)),M.alphaTest>0&&(T.alphaTest.value=M.alphaTest)}function p(T,M){T.diffuse.value.copy(M.color),T.opacity.value=M.opacity,T.rotation.value=M.rotation,M.map&&(T.map.value=M.map,t(M.map,T.mapTransform)),M.alphaMap&&(T.alphaMap.value=M.alphaMap,t(M.alphaMap,T.alphaMapTransform)),M.alphaTest>0&&(T.alphaTest.value=M.alphaTest)}function g(T,M){T.specular.value.copy(M.specular),T.shininess.value=Math.max(M.shininess,1e-4)}function m(T,M){M.gradientMap&&(T.gradientMap.value=M.gradientMap)}function x(T,M){T.metalness.value=M.metalness,M.metalnessMap&&(T.metalnessMap.value=M.metalnessMap,t(M.metalnessMap,T.metalnessMapTransform)),T.roughness.value=M.roughness,M.roughnessMap&&(T.roughnessMap.value=M.roughnessMap,t(M.roughnessMap,T.roughnessMapTransform)),M.envMap&&(T.envMapIntensity.value=M.envMapIntensity)}function b(T,M,N){T.ior.value=M.ior,M.sheen>0&&(T.sheenColor.value.copy(M.sheenColor).multiplyScalar(M.sheen),T.sheenRoughness.value=M.sheenRoughness,M.sheenColorMap&&(T.sheenColorMap.value=M.sheenColorMap,t(M.sheenColorMap,T.sheenColorMapTransform)),M.sheenRoughnessMap&&(T.sheenRoughnessMap.value=M.sheenRoughnessMap,t(M.sheenRoughnessMap,T.sheenRoughnessMapTransform))),M.clearcoat>0&&(T.clearcoat.value=M.clearcoat,T.clearcoatRoughness.value=M.clearcoatRoughness,M.clearcoatMap&&(T.clearcoatMap.value=M.clearcoatMap,t(M.clearcoatMap,T.clearcoatMapTransform)),M.clearcoatRoughnessMap&&(T.clearcoatRoughnessMap.value=M.clearcoatRoughnessMap,t(M.clearcoatRoughnessMap,T.clearcoatRoughnessMapTransform)),M.clearcoatNormalMap&&(T.clearcoatNormalMap.value=M.clearcoatNormalMap,t(M.clearcoatNormalMap,T.clearcoatNormalMapTransform),T.clearcoatNormalScale.value.copy(M.clearcoatNormalScale),M.side===Er&&T.clearcoatNormalScale.value.negate())),M.dispersion>0&&(T.dispersion.value=M.dispersion),M.iridescence>0&&(T.iridescence.value=M.iridescence,T.iridescenceIOR.value=M.iridescenceIOR,T.iridescenceThicknessMinimum.value=M.iridescenceThicknessRange[0],T.iridescenceThicknessMaximum.value=M.iridescenceThicknessRange[1],M.iridescenceMap&&(T.iridescenceMap.value=M.iridescenceMap,t(M.iridescenceMap,T.iridescenceMapTransform)),M.iridescenceThicknessMap&&(T.iridescenceThicknessMap.value=M.iridescenceThicknessMap,t(M.iridescenceThicknessMap,T.iridescenceThicknessMapTransform))),M.transmission>0&&(T.transmission.value=M.transmission,T.transmissionSamplerMap.value=N.texture,T.transmissionSamplerSize.value.set(N.width,N.height),M.transmissionMap&&(T.transmissionMap.value=M.transmissionMap,t(M.transmissionMap,T.transmissionMapTransform)),T.thickness.value=M.thickness,M.thicknessMap&&(T.thicknessMap.value=M.thicknessMap,t(M.thicknessMap,T.thicknessMapTransform)),T.attenuationDistance.value=M.attenuationDistance,T.attenuationColor.value.copy(M.attenuationColor)),M.anisotropy>0&&(T.anisotropyVector.value.set(M.anisotropy*Math.cos(M.anisotropyRotation),M.anisotropy*Math.sin(M.anisotropyRotation)),M.anisotropyMap&&(T.anisotropyMap.value=M.anisotropyMap,t(M.anisotropyMap,T.anisotropyMapTransform))),T.specularIntensity.value=M.specularIntensity,T.specularColor.value.copy(M.specularColor),M.specularColorMap&&(T.specularColorMap.value=M.specularColorMap,t(M.specularColorMap,T.specularColorMapTransform)),M.specularIntensityMap&&(T.specularIntensityMap.value=M.specularIntensityMap,t(M.specularIntensityMap,T.specularIntensityMapTransform))}function w(T,M){M.matcap&&(T.matcap.value=M.matcap)}function A(T,M){const N=e.get(M).light;T.referencePosition.value.setFromMatrixPosition(N.matrixWorld),T.nearDistance.value=N.shadow.camera.near,T.farDistance.value=N.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:s}}function eJ(n,e,t,i){let s={},a={},l=[];const u=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function h(N,D){const I=D.program;i.uniformBlockBinding(N,I)}function p(N,D){let I=s[N.id];I===void 0&&(w(N),I=g(N),s[N.id]=I,N.addEventListener("dispose",T));const O=D.program;i.updateUBOMapping(N,O);const F=e.render.frame;a[N.id]!==F&&(x(N),a[N.id]=F)}function g(N){const D=m();N.__bindingPointIndex=D;const I=n.createBuffer(),O=N.__size,F=N.usage;return n.bindBuffer(n.UNIFORM_BUFFER,I),n.bufferData(n.UNIFORM_BUFFER,O,F),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,D,I),I}function m(){for(let N=0;N<u;N++)if(l.indexOf(N)===-1)return l.push(N),N;return Ot("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function x(N){const D=s[N.id],I=N.uniforms,O=N.__cache;n.bindBuffer(n.UNIFORM_BUFFER,D);for(let F=0,B=I.length;F<B;F++){const H=Array.isArray(I[F])?I[F]:[I[F]];for(let z=0,k=H.length;z<k;z++){const $=H[z];if(b($,F,z,O)===!0){const se=$.__offset,ee=Array.isArray($.value)?$.value:[$.value];let ne=0;for(let ae=0;ae<ee.length;ae++){const X=ee[ae],Z=A(X);typeof X=="number"||typeof X=="boolean"?($.__data[0]=X,n.bufferSubData(n.UNIFORM_BUFFER,se+ne,$.__data)):X.isMatrix3?($.__data[0]=X.elements[0],$.__data[1]=X.elements[1],$.__data[2]=X.elements[2],$.__data[3]=0,$.__data[4]=X.elements[3],$.__data[5]=X.elements[4],$.__data[6]=X.elements[5],$.__data[7]=0,$.__data[8]=X.elements[6],$.__data[9]=X.elements[7],$.__data[10]=X.elements[8],$.__data[11]=0):(X.toArray($.__data,ne),ne+=Z.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,se,$.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function b(N,D,I,O){const F=N.value,B=D+"_"+I;if(O[B]===void 0)return typeof F=="number"||typeof F=="boolean"?O[B]=F:O[B]=F.clone(),!0;{const H=O[B];if(typeof F=="number"||typeof F=="boolean"){if(H!==F)return O[B]=F,!0}else if(H.equals(F)===!1)return H.copy(F),!0}return!1}function w(N){const D=N.uniforms;let I=0;const O=16;for(let B=0,H=D.length;B<H;B++){const z=Array.isArray(D[B])?D[B]:[D[B]];for(let k=0,$=z.length;k<$;k++){const se=z[k],ee=Array.isArray(se.value)?se.value:[se.value];for(let ne=0,ae=ee.length;ne<ae;ne++){const X=ee[ne],Z=A(X),Q=I%O,ye=Q%Z.boundary,Se=Q+ye;I+=ye,Se!==0&&O-Se<Z.storage&&(I+=O-Se),se.__data=new Float32Array(Z.storage/Float32Array.BYTES_PER_ELEMENT),se.__offset=I,I+=Z.storage}}}const F=I%O;return F>0&&(I+=O-F),N.__size=I,N.__cache={},this}function A(N){const D={boundary:0,storage:0};return typeof N=="number"||typeof N=="boolean"?(D.boundary=4,D.storage=4):N.isVector2?(D.boundary=8,D.storage=8):N.isVector3||N.isColor?(D.boundary=16,D.storage=12):N.isVector4?(D.boundary=16,D.storage=16):N.isMatrix3?(D.boundary=48,D.storage=48):N.isMatrix4?(D.boundary=64,D.storage=64):N.isTexture?ht("WebGLRenderer: Texture samplers can not be part of an uniforms group."):ht("WebGLRenderer: Unsupported uniform value type.",N),D}function T(N){const D=N.target;D.removeEventListener("dispose",T);const I=l.indexOf(D.__bindingPointIndex);l.splice(I,1),n.deleteBuffer(s[D.id]),delete s[D.id],delete a[D.id]}function M(){for(const N in s)n.deleteBuffer(s[N]);l=[],s={},a={}}return{bind:h,update:p,dispose:M}}const tJ=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let bl=null;function nJ(){return bl===null&&(bl=new Po(tJ,16,16,yd,Dl),bl.name="DFG_LUT",bl.minFilter=gi,bl.magFilter=gi,bl.wrapS=Jr,bl.wrapT=Jr,bl.generateMipmaps=!1,bl.needsUpdate=!0),bl}class FU{constructor(e={}){const{canvas:t=DO(),context:i=null,depth:s=!0,stencil:a=!1,alpha:l=!1,antialias:u=!1,premultipliedAlpha:h=!0,preserveDrawingBuffer:p=!1,powerPreference:g="default",failIfMajorPerformanceCaveat:m=!1,reversedDepthBuffer:x=!1,outputBufferType:b=Sr}=e;this.isWebGLRenderer=!0;let w;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");w=i.getContextAttributes().alpha}else w=l;const A=b,T=new Set([t_,e_,$0]),M=new Set([Sr,Ka,bp,_p,K1,Q1]),N=new Uint32Array(4),D=new Int32Array(4);let I=null,O=null;const F=[],B=[];let H=null;this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Za,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const z=this;let k=!1;this._outputColorSpace=er;let $=0,se=0,ee=null,ne=-1,ae=null;const X=new ii,Z=new ii;let Q=null;const ye=new yt(0);let Se=0,q=t.width,ue=t.height,fe=1,Te=null,Ve=null;const he=new ii(0,0,q,ue),ve=new ii(0,0,q,ue);let Fe=!1;const Ze=new Xp;let rt=!1,kt=!1;const Vt=new $t,Pt=new K,Le=new ii,qe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Oe=!1;function et(){return ee===null?fe:1}let J=i;function xt(G,de){return t.getContext(G,de)}try{const G={alpha:!0,depth:s,stencil:a,antialias:u,premultipliedAlpha:h,preserveDrawingBuffer:p,powerPreference:g,failIfMajorPerformanceCaveat:m};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${jp}`),t.addEventListener("webglcontextlost",wt,!1),t.addEventListener("webglcontextrestored",Gt,!1),t.addEventListener("webglcontextcreationerror",fn,!1),J===null){const de="webgl2";if(J=xt(de,G),J===null)throw xt(de)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(G){throw Ot("WebGLRenderer: "+G.message),G}let ot,Nt,He,Y,V,ce,Ce,Ue,Ne,ft,Ke,bt,Dt,Xe,Je,pt,dt,at,Kt,oe,lt,Qe,ct,je;function xe(){ot=new iK(J),ot.init(),Qe=new zU(J,ot),Nt=new YZ(J,ot,e,Qe),He=new XQ(J,ot),Nt.reversedDepthBuffer&&x&&He.buffers.depth.setReversed(!0),Y=new aK(J),V=new DQ,ce=new qQ(J,ot,He,V,Nt,Qe,Y),Ce=new ZZ(z),Ue=new nK(z),Ne=new uY(J),ct=new XZ(J,Ne),ft=new sK(J,Ne,Y,ct),Ke=new lK(J,ft,Ne,Y),Kt=new oK(J,Nt,ce),pt=new $Z(V),bt=new NQ(z,Ce,Ue,ot,Nt,ct,pt),Dt=new JQ(z,V),Xe=new IQ,Je=new BQ(ot),at=new WZ(z,Ce,Ue,He,Ke,w,h),dt=new GQ(z,Ke,Nt),je=new eJ(J,Y,Nt,He),oe=new qZ(J,ot,Y),lt=new rK(J,ot,Y),Y.programs=bt.programs,z.capabilities=Nt,z.extensions=ot,z.properties=V,z.renderLists=Xe,z.shadowMap=dt,z.state=He,z.info=Y}xe(),A!==Sr&&(H=new uK(A,t.width,t.height,s,a));const Ge=new KQ(z,J);this.xr=Ge,this.getContext=function(){return J},this.getContextAttributes=function(){return J.getContextAttributes()},this.forceContextLoss=function(){const G=ot.get("WEBGL_lose_context");G&&G.loseContext()},this.forceContextRestore=function(){const G=ot.get("WEBGL_lose_context");G&&G.restoreContext()},this.getPixelRatio=function(){return fe},this.setPixelRatio=function(G){G!==void 0&&(fe=G,this.setSize(q,ue,!1))},this.getSize=function(G){return G.set(q,ue)},this.setSize=function(G,de,Ae=!0){if(Ge.isPresenting){ht("WebGLRenderer: Can't change size while VR device is presenting.");return}q=G,ue=de,t.width=Math.floor(G*fe),t.height=Math.floor(de*fe),Ae===!0&&(t.style.width=G+"px",t.style.height=de+"px"),H!==null&&H.setSize(t.width,t.height),this.setViewport(0,0,G,de)},this.getDrawingBufferSize=function(G){return G.set(q*fe,ue*fe).floor()},this.setDrawingBufferSize=function(G,de,Ae){q=G,ue=de,fe=Ae,t.width=Math.floor(G*Ae),t.height=Math.floor(de*Ae),this.setViewport(0,0,G,de)},this.setEffects=function(G){if(A===Sr){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(G){for(let de=0;de<G.length;de++)if(G[de].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}H.setEffects(G||[])},this.getCurrentViewport=function(G){return G.copy(X)},this.getViewport=function(G){return G.copy(he)},this.setViewport=function(G,de,Ae,we){G.isVector4?he.set(G.x,G.y,G.z,G.w):he.set(G,de,Ae,we),He.viewport(X.copy(he).multiplyScalar(fe).round())},this.getScissor=function(G){return G.copy(ve)},this.setScissor=function(G,de,Ae,we){G.isVector4?ve.set(G.x,G.y,G.z,G.w):ve.set(G,de,Ae,we),He.scissor(Z.copy(ve).multiplyScalar(fe).round())},this.getScissorTest=function(){return Fe},this.setScissorTest=function(G){He.setScissorTest(Fe=G)},this.setOpaqueSort=function(G){Te=G},this.setTransparentSort=function(G){Ve=G},this.getClearColor=function(G){return G.copy(at.getClearColor())},this.setClearColor=function(){at.setClearColor(...arguments)},this.getClearAlpha=function(){return at.getClearAlpha()},this.setClearAlpha=function(){at.setClearAlpha(...arguments)},this.clear=function(G=!0,de=!0,Ae=!0){let we=0;if(G){let me=!1;if(ee!==null){const tt=ee.texture.format;me=T.has(tt)}if(me){const tt=ee.texture.type,gt=M.has(tt),$e=at.getClearColor(),_t=at.getClearAlpha(),Mt=$e.r,Ut=$e.g,Et=$e.b;gt?(N[0]=Mt,N[1]=Ut,N[2]=Et,N[3]=_t,J.clearBufferuiv(J.COLOR,0,N)):(D[0]=Mt,D[1]=Ut,D[2]=Et,D[3]=_t,J.clearBufferiv(J.COLOR,0,D))}else we|=J.COLOR_BUFFER_BIT}de&&(we|=J.DEPTH_BUFFER_BIT),Ae&&(we|=J.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),J.clear(we)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",wt,!1),t.removeEventListener("webglcontextrestored",Gt,!1),t.removeEventListener("webglcontextcreationerror",fn,!1),at.dispose(),Xe.dispose(),Je.dispose(),V.dispose(),Ce.dispose(),Ue.dispose(),Ke.dispose(),ct.dispose(),je.dispose(),bt.dispose(),Ge.dispose(),Ge.removeEventListener("sessionstart",ls),Ge.removeEventListener("sessionend",ko),xs.stop()};function wt(G){G.preventDefault(),C0("WebGLRenderer: Context Lost."),k=!0}function Gt(){C0("WebGLRenderer: Context Restored."),k=!1;const G=Y.autoReset,de=dt.enabled,Ae=dt.autoUpdate,we=dt.needsUpdate,me=dt.type;xe(),Y.autoReset=G,dt.enabled=de,dt.autoUpdate=Ae,dt.needsUpdate=we,dt.type=me}function fn(G){Ot("WebGLRenderer: A WebGL context could not be created. Reason: ",G.statusMessage)}function wn(G){const de=G.target;de.removeEventListener("dispose",wn),Yn(de)}function Yn(G){sr(G),V.remove(G)}function sr(G){const de=V.get(G).programs;de!==void 0&&(de.forEach(function(Ae){bt.releaseProgram(Ae)}),G.isShaderMaterial&&bt.releaseShaderCache(G))}this.renderBufferDirect=function(G,de,Ae,we,me,tt){de===null&&(de=qe);const gt=me.isMesh&&me.matrixWorld.determinant()<0,$e=aa(G,de,Ae,we,me);He.setMaterial(we,gt);let _t=Ae.index,Mt=1;if(we.wireframe===!0){if(_t=ft.getWireframeAttribute(Ae),_t===void 0)return;Mt=2}const Ut=Ae.drawRange,Et=Ae.attributes.position;let Ht=Ut.start*Mt,Dn=(Ut.start+Ut.count)*Mt;tt!==null&&(Ht=Math.max(Ht,tt.start*Mt),Dn=Math.min(Dn,(tt.start+tt.count)*Mt)),_t!==null?(Ht=Math.max(Ht,0),Dn=Math.min(Dn,_t.count)):Et!=null&&(Ht=Math.max(Ht,0),Dn=Math.min(Dn,Et.count));const $n=Dn-Ht;if($n<0||$n===1/0)return;ct.setup(me,we,$e,Ae,_t);let jn,Qt=oe;if(_t!==null&&(jn=Ne.get(_t),Qt=lt,Qt.setIndex(jn)),me.isMesh)we.wireframe===!0?(He.setLineWidth(we.wireframeLinewidth*et()),Qt.setMode(J.LINES)):Qt.setMode(J.TRIANGLES);else if(me.isLine){let ut=we.linewidth;ut===void 0&&(ut=1),He.setLineWidth(ut*et()),me.isLineSegments?Qt.setMode(J.LINES):me.isLineLoop?Qt.setMode(J.LINE_LOOP):Qt.setMode(J.LINE_STRIP)}else me.isPoints?Qt.setMode(J.POINTS):me.isSprite&&Qt.setMode(J.TRIANGLES);if(me.isBatchedMesh)if(me._multiDrawInstances!==null)wp("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Qt.renderMultiDrawInstances(me._multiDrawStarts,me._multiDrawCounts,me._multiDrawCount,me._multiDrawInstances);else if(ot.get("WEBGL_multi_draw"))Qt.renderMultiDraw(me._multiDrawStarts,me._multiDrawCounts,me._multiDrawCount);else{const ut=me._multiDrawStarts,En=me._multiDrawCounts,Wt=me._multiDrawCount,Pi=_t?Ne.get(_t).bytesPerElement:1,oa=V.get(we).currentProgram.getUniforms();for(let ti=0;ti<Wt;ti++)oa.setValue(J,"_gl_DrawID",ti),Qt.render(ut[ti]/Pi,En[ti])}else if(me.isInstancedMesh)Qt.renderInstances(Ht,$n,me.count);else if(Ae.isInstancedBufferGeometry){const ut=Ae._maxInstanceCount!==void 0?Ae._maxInstanceCount:1/0,En=Math.min(Ae.instanceCount,ut);Qt.renderInstances(Ht,$n,En)}else Qt.render(Ht,$n)};function Di(G,de,Ae){G.transparent===!0&&G.side===Ro&&G.forceSinglePass===!1?(G.side=Er,G.needsUpdate=!0,lr(G,de,Ae),G.side=Nc,G.needsUpdate=!0,lr(G,de,Ae),G.side=Ro):lr(G,de,Ae)}this.compile=function(G,de,Ae=null){Ae===null&&(Ae=G),O=Je.get(Ae),O.init(de),B.push(O),Ae.traverseVisible(function(me){me.isLight&&me.layers.test(de.layers)&&(O.pushLight(me),me.castShadow&&O.pushShadow(me))}),G!==Ae&&G.traverseVisible(function(me){me.isLight&&me.layers.test(de.layers)&&(O.pushLight(me),me.castShadow&&O.pushShadow(me))}),O.setupLights();const we=new Set;return G.traverse(function(me){if(!(me.isMesh||me.isPoints||me.isLine||me.isSprite))return;const tt=me.material;if(tt)if(Array.isArray(tt))for(let gt=0;gt<tt.length;gt++){const $e=tt[gt];Di($e,Ae,me),we.add($e)}else Di(tt,Ae,me),we.add(tt)}),O=B.pop(),we},this.compileAsync=function(G,de,Ae=null){const we=this.compile(G,de,Ae);return new Promise(me=>{function tt(){if(we.forEach(function(gt){V.get(gt).currentProgram.isReady()&&we.delete(gt)}),we.size===0){me(G);return}setTimeout(tt,10)}ot.get("KHR_parallel_shader_compile")!==null?tt():setTimeout(tt,10)})};let Vi=null;function ra(G){Vi&&Vi(G)}function ls(){xs.stop()}function ko(){xs.start()}const xs=new PU;xs.setAnimationLoop(ra),typeof self<"u"&&xs.setContext(self),this.setAnimationLoop=function(G){Vi=G,Ge.setAnimationLoop(G),G===null?xs.stop():xs.start()},Ge.addEventListener("sessionstart",ls),Ge.addEventListener("sessionend",ko),this.render=function(G,de){if(de!==void 0&&de.isCamera!==!0){Ot("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(k===!0)return;const Ae=Ge.enabled===!0&&Ge.isPresenting===!0,we=H!==null&&(ee===null||Ae)&&H.begin(z,ee);if(G.matrixWorldAutoUpdate===!0&&G.updateMatrixWorld(),de.parent===null&&de.matrixWorldAutoUpdate===!0&&de.updateMatrixWorld(),Ge.enabled===!0&&Ge.isPresenting===!0&&(H===null||H.isCompositing()===!1)&&(Ge.cameraAutoUpdate===!0&&Ge.updateCamera(de),de=Ge.getCamera()),G.isScene===!0&&G.onBeforeRender(z,G,de,ee),O=Je.get(G,B.length),O.init(de),B.push(O),Vt.multiplyMatrices(de.projectionMatrix,de.matrixWorldInverse),Ze.setFromProjectionMatrix(Vt,ya,de.reversedDepth),kt=this.localClippingEnabled,rt=pt.init(this.clippingPlanes,kt),I=Xe.get(G,F.length),I.init(),F.push(I),Ge.enabled===!0&&Ge.isPresenting===!0){const gt=z.xr.getDepthSensingMesh();gt!==null&&rr(gt,de,-1/0,z.sortObjects)}rr(G,de,0,z.sortObjects),I.finish(),z.sortObjects===!0&&I.sort(Te,Ve),Oe=Ge.enabled===!1||Ge.isPresenting===!1||Ge.hasDepthSensing()===!1,Oe&&at.addToRenderList(I,G),this.info.render.frame++,rt===!0&&pt.beginShadows();const me=O.state.shadowsArray;if(dt.render(me,G,de),rt===!0&&pt.endShadows(),this.info.autoReset===!0&&this.info.reset(),(we&&H.hasRenderPass())===!1){const gt=I.opaque,$e=I.transmissive;if(O.setupLights(),de.isArrayCamera){const _t=de.cameras;if($e.length>0)for(let Mt=0,Ut=_t.length;Mt<Ut;Mt++){const Et=_t[Mt];Hi(gt,$e,G,Et)}Oe&&at.render(G);for(let Mt=0,Ut=_t.length;Mt<Ut;Mt++){const Et=_t[Mt];li(I,G,Et,Et.viewport)}}else $e.length>0&&Hi(gt,$e,G,de),Oe&&at.render(G),li(I,G,de)}ee!==null&&se===0&&(ce.updateMultisampleRenderTarget(ee),ce.updateRenderTargetMipmap(ee)),we&&H.end(z),G.isScene===!0&&G.onAfterRender(z,G,de),ct.resetDefaultState(),ne=-1,ae=null,B.pop(),B.length>0?(O=B[B.length-1],rt===!0&&pt.setGlobalState(z.clippingPlanes,O.state.camera)):O=null,F.pop(),F.length>0?I=F[F.length-1]:I=null};function rr(G,de,Ae,we){if(G.visible===!1)return;if(G.layers.test(de.layers)){if(G.isGroup)Ae=G.renderOrder;else if(G.isLOD)G.autoUpdate===!0&&G.update(de);else if(G.isLight)O.pushLight(G),G.castShadow&&O.pushShadow(G);else if(G.isSprite){if(!G.frustumCulled||Ze.intersectsSprite(G)){we&&Le.setFromMatrixPosition(G.matrixWorld).applyMatrix4(Vt);const gt=Ke.update(G),$e=G.material;$e.visible&&I.push(G,gt,$e,Ae,Le.z,null)}}else if((G.isMesh||G.isLine||G.isPoints)&&(!G.frustumCulled||Ze.intersectsObject(G))){const gt=Ke.update(G),$e=G.material;if(we&&(G.boundingSphere!==void 0?(G.boundingSphere===null&&G.computeBoundingSphere(),Le.copy(G.boundingSphere.center)):(gt.boundingSphere===null&&gt.computeBoundingSphere(),Le.copy(gt.boundingSphere.center)),Le.applyMatrix4(G.matrixWorld).applyMatrix4(Vt)),Array.isArray($e)){const _t=gt.groups;for(let Mt=0,Ut=_t.length;Mt<Ut;Mt++){const Et=_t[Mt],Ht=$e[Et.materialIndex];Ht&&Ht.visible&&I.push(G,gt,Ht,Ae,Le.z,Et)}}else $e.visible&&I.push(G,gt,$e,Ae,Le.z,null)}}const tt=G.children;for(let gt=0,$e=tt.length;gt<$e;gt++)rr(tt[gt],de,Ae,we)}function li(G,de,Ae,we){const{opaque:me,transmissive:tt,transparent:gt}=G;O.setupLightsView(Ae),rt===!0&&pt.setGlobalState(z.clippingPlanes,Ae),we&&He.viewport(X.copy(we)),me.length>0&&ar(me,de,Ae),tt.length>0&&ar(tt,de,Ae),gt.length>0&&ar(gt,de,Ae),He.buffers.depth.setTest(!0),He.buffers.depth.setMask(!0),He.buffers.color.setMask(!0),He.setPolygonOffset(!1)}function Hi(G,de,Ae,we){if((Ae.isScene===!0?Ae.overrideMaterial:null)!==null)return;if(O.state.transmissionRenderTarget[we.id]===void 0){const Ht=ot.has("EXT_color_buffer_half_float")||ot.has("EXT_color_buffer_float");O.state.transmissionRenderTarget[we.id]=new ba(1,1,{generateMipmaps:!0,type:Ht?Dl:Sr,minFilter:Sl,samples:Nt.samples,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Rn.workingColorSpace})}const tt=O.state.transmissionRenderTarget[we.id],gt=we.viewport||X;tt.setSize(gt.z*z.transmissionResolutionScale,gt.w*z.transmissionResolutionScale);const $e=z.getRenderTarget(),_t=z.getActiveCubeFace(),Mt=z.getActiveMipmapLevel();z.setRenderTarget(tt),z.getClearColor(ye),Se=z.getClearAlpha(),Se<1&&z.setClearColor(16777215,.5),z.clear(),Oe&&at.render(Ae);const Ut=z.toneMapping;z.toneMapping=Za;const Et=we.viewport;if(we.viewport!==void 0&&(we.viewport=void 0),O.setupLightsView(we),rt===!0&&pt.setGlobalState(z.clippingPlanes,we),ar(G,Ae,we),ce.updateMultisampleRenderTarget(tt),ce.updateRenderTargetMipmap(tt),ot.has("WEBGL_multisampled_render_to_texture")===!1){let Ht=!1;for(let Dn=0,$n=de.length;Dn<$n;Dn++){const jn=de[Dn],{object:Qt,geometry:ut,material:En,group:Wt}=jn;if(En.side===Ro&&Qt.layers.test(we.layers)){const Pi=En.side;En.side=Er,En.needsUpdate=!0,or(Qt,Ae,we,ut,En,Wt),En.side=Pi,En.needsUpdate=!0,Ht=!0}}Ht===!0&&(ce.updateMultisampleRenderTarget(tt),ce.updateRenderTargetMipmap(tt))}z.setRenderTarget($e,_t,Mt),z.setClearColor(ye,Se),Et!==void 0&&(we.viewport=Et),z.toneMapping=Ut}function ar(G,de,Ae){const we=de.isScene===!0?de.overrideMaterial:null;for(let me=0,tt=G.length;me<tt;me++){const gt=G[me],{object:$e,geometry:_t,group:Mt}=gt;let Ut=gt.material;Ut.allowOverride===!0&&we!==null&&(Ut=we),$e.layers.test(Ae.layers)&&or($e,de,Ae,_t,Ut,Mt)}}function or(G,de,Ae,we,me,tt){G.onBeforeRender(z,de,Ae,we,me,tt),G.modelViewMatrix.multiplyMatrices(Ae.matrixWorldInverse,G.matrixWorld),G.normalMatrix.getNormalMatrix(G.modelViewMatrix),me.onBeforeRender(z,de,Ae,we,G,tt),me.transparent===!0&&me.side===Ro&&me.forceSinglePass===!1?(me.side=Er,me.needsUpdate=!0,z.renderBufferDirect(Ae,de,we,me,G,tt),me.side=Nc,me.needsUpdate=!0,z.renderBufferDirect(Ae,de,we,me,G,tt),me.side=Ro):z.renderBufferDirect(Ae,de,we,me,G,tt),G.onAfterRender(z,de,Ae,we,me,tt)}function lr(G,de,Ae){de.isScene!==!0&&(de=qe);const we=V.get(G),me=O.state.lights,tt=O.state.shadowsArray,gt=me.state.version,$e=bt.getParameters(G,me.state,tt,de,Ae),_t=bt.getProgramCacheKey($e);let Mt=we.programs;we.environment=G.isMeshStandardMaterial?de.environment:null,we.fog=de.fog,we.envMap=(G.isMeshStandardMaterial?Ue:Ce).get(G.envMap||we.environment),we.envMapRotation=we.environment!==null&&G.envMap===null?de.environmentRotation:G.envMapRotation,Mt===void 0&&(G.addEventListener("dispose",wn),Mt=new Map,we.programs=Mt);let Ut=Mt.get(_t);if(Ut!==void 0){if(we.currentProgram===Ut&&we.lightsStateVersion===gt)return zl(G,$e),Ut}else $e.uniforms=bt.getUniforms(G),G.onBeforeCompile($e,z),Ut=bt.acquireProgram($e,_t),Mt.set(_t,Ut),we.uniforms=$e.uniforms;const Et=we.uniforms;return(!G.isShaderMaterial&&!G.isRawShaderMaterial||G.clipping===!0)&&(Et.clippingPlanes=pt.uniform),zl(G,$e),we.needsLights=to(G),we.lightsStateVersion=gt,we.needsLights&&(Et.ambientLightColor.value=me.state.ambient,Et.lightProbe.value=me.state.probe,Et.directionalLights.value=me.state.directional,Et.directionalLightShadows.value=me.state.directionalShadow,Et.spotLights.value=me.state.spot,Et.spotLightShadows.value=me.state.spotShadow,Et.rectAreaLights.value=me.state.rectArea,Et.ltc_1.value=me.state.rectAreaLTC1,Et.ltc_2.value=me.state.rectAreaLTC2,Et.pointLights.value=me.state.point,Et.pointLightShadows.value=me.state.pointShadow,Et.hemisphereLights.value=me.state.hemi,Et.directionalShadowMap.value=me.state.directionalShadowMap,Et.directionalShadowMatrix.value=me.state.directionalShadowMatrix,Et.spotShadowMap.value=me.state.spotShadowMap,Et.spotLightMatrix.value=me.state.spotLightMatrix,Et.spotLightMap.value=me.state.spotLightMap,Et.pointShadowMap.value=me.state.pointShadowMap,Et.pointShadowMatrix.value=me.state.pointShadowMatrix),we.currentProgram=Ut,we.uniformsList=null,Ut}function Vo(G){if(G.uniformsList===null){const de=G.currentProgram.getUniforms();G.uniformsList=ob.seqWithValue(de.seq,G.uniforms)}return G.uniformsList}function zl(G,de){const Ae=V.get(G);Ae.outputColorSpace=de.outputColorSpace,Ae.batching=de.batching,Ae.batchingColor=de.batchingColor,Ae.instancing=de.instancing,Ae.instancingColor=de.instancingColor,Ae.instancingMorph=de.instancingMorph,Ae.skinning=de.skinning,Ae.morphTargets=de.morphTargets,Ae.morphNormals=de.morphNormals,Ae.morphColors=de.morphColors,Ae.morphTargetsCount=de.morphTargetsCount,Ae.numClippingPlanes=de.numClippingPlanes,Ae.numIntersection=de.numClipIntersection,Ae.vertexAlphas=de.vertexAlphas,Ae.vertexTangents=de.vertexTangents,Ae.toneMapping=de.toneMapping}function aa(G,de,Ae,we,me){de.isScene!==!0&&(de=qe),ce.resetTextureUnits();const tt=de.fog,gt=we.isMeshStandardMaterial?de.environment:null,$e=ee===null?z.outputColorSpace:ee.isXRRenderTarget===!0?ee.texture.colorSpace:ju,_t=(we.isMeshStandardMaterial?Ue:Ce).get(we.envMap||gt),Mt=we.vertexColors===!0&&!!Ae.attributes.color&&Ae.attributes.color.itemSize===4,Ut=!!Ae.attributes.tangent&&(!!we.normalMap||we.anisotropy>0),Et=!!Ae.morphAttributes.position,Ht=!!Ae.morphAttributes.normal,Dn=!!Ae.morphAttributes.color;let $n=Za;we.toneMapped&&(ee===null||ee.isXRRenderTarget===!0)&&($n=z.toneMapping);const jn=Ae.morphAttributes.position||Ae.morphAttributes.normal||Ae.morphAttributes.color,Qt=jn!==void 0?jn.length:0,ut=V.get(we),En=O.state.lights;if(rt===!0&&(kt===!0||G!==ae)){const Ki=G===ae&&we.id===ne;pt.setState(we,G,Ki)}let Wt=!1;we.version===ut.__version?(ut.needsLights&&ut.lightsStateVersion!==En.state.version||ut.outputColorSpace!==$e||me.isBatchedMesh&&ut.batching===!1||!me.isBatchedMesh&&ut.batching===!0||me.isBatchedMesh&&ut.batchingColor===!0&&me.colorTexture===null||me.isBatchedMesh&&ut.batchingColor===!1&&me.colorTexture!==null||me.isInstancedMesh&&ut.instancing===!1||!me.isInstancedMesh&&ut.instancing===!0||me.isSkinnedMesh&&ut.skinning===!1||!me.isSkinnedMesh&&ut.skinning===!0||me.isInstancedMesh&&ut.instancingColor===!0&&me.instanceColor===null||me.isInstancedMesh&&ut.instancingColor===!1&&me.instanceColor!==null||me.isInstancedMesh&&ut.instancingMorph===!0&&me.morphTexture===null||me.isInstancedMesh&&ut.instancingMorph===!1&&me.morphTexture!==null||ut.envMap!==_t||we.fog===!0&&ut.fog!==tt||ut.numClippingPlanes!==void 0&&(ut.numClippingPlanes!==pt.numPlanes||ut.numIntersection!==pt.numIntersection)||ut.vertexAlphas!==Mt||ut.vertexTangents!==Ut||ut.morphTargets!==Et||ut.morphNormals!==Ht||ut.morphColors!==Dn||ut.toneMapping!==$n||ut.morphTargetsCount!==Qt)&&(Wt=!0):(Wt=!0,ut.__version=we.version);let Pi=ut.currentProgram;Wt===!0&&(Pi=lr(we,de,me));let oa=!1,ti=!1,Cs=!1;const On=Pi.getUniforms(),ji=ut.uniforms;if(He.useProgram(Pi.program)&&(oa=!0,ti=!0,Cs=!0),we.id!==ne&&(ne=we.id,ti=!0),oa||ae!==G){He.buffers.depth.getReversed()&&G.reversedDepth!==!0&&(G._reversedDepth=!0,G.updateProjectionMatrix()),On.setValue(J,"projectionMatrix",G.projectionMatrix),On.setValue(J,"viewMatrix",G.matrixWorldInverse);const Qi=On.map.cameraPosition;Qi!==void 0&&Qi.setValue(J,Pt.setFromMatrixPosition(G.matrixWorld)),Nt.logarithmicDepthBuffer&&On.setValue(J,"logDepthBufFC",2/(Math.log(G.far+1)/Math.LN2)),(we.isMeshPhongMaterial||we.isMeshToonMaterial||we.isMeshLambertMaterial||we.isMeshBasicMaterial||we.isMeshStandardMaterial||we.isShaderMaterial)&&On.setValue(J,"isOrthographic",G.isOrthographicCamera===!0),ae!==G&&(ae=G,ti=!0,Cs=!0)}if(ut.needsLights&&(En.state.directionalShadowMap.length>0&&On.setValue(J,"directionalShadowMap",En.state.directionalShadowMap,ce),En.state.spotShadowMap.length>0&&On.setValue(J,"spotShadowMap",En.state.spotShadowMap,ce),En.state.pointShadowMap.length>0&&On.setValue(J,"pointShadowMap",En.state.pointShadowMap,ce)),me.isSkinnedMesh){On.setOptional(J,me,"bindMatrix"),On.setOptional(J,me,"bindMatrixInverse");const Ki=me.skeleton;Ki&&(Ki.boneTexture===null&&Ki.computeBoneTexture(),On.setValue(J,"boneTexture",Ki.boneTexture,ce))}me.isBatchedMesh&&(On.setOptional(J,me,"batchingTexture"),On.setValue(J,"batchingTexture",me._matricesTexture,ce),On.setOptional(J,me,"batchingIdTexture"),On.setValue(J,"batchingIdTexture",me._indirectTexture,ce),On.setOptional(J,me,"batchingColorTexture"),me._colorsTexture!==null&&On.setValue(J,"batchingColorTexture",me._colorsTexture,ce));const Ii=Ae.morphAttributes;if((Ii.position!==void 0||Ii.normal!==void 0||Ii.color!==void 0)&&Kt.update(me,Ae,Pi),(ti||ut.receiveShadow!==me.receiveShadow)&&(ut.receiveShadow=me.receiveShadow,On.setValue(J,"receiveShadow",me.receiveShadow)),we.isMeshGouraudMaterial&&we.envMap!==null&&(ji.envMap.value=_t,ji.flipEnvMap.value=_t.isCubeTexture&&_t.isRenderTargetTexture===!1?-1:1),we.isMeshStandardMaterial&&we.envMap===null&&de.environment!==null&&(ji.envMapIntensity.value=de.environmentIntensity),ji.dfgLUT!==void 0&&(ji.dfgLUT.value=nJ()),ti&&(On.setValue(J,"toneMappingExposure",z.toneMappingExposure),ut.needsLights&&eo(ji,Cs),tt&&we.fog===!0&&Dt.refreshFogUniforms(ji,tt),Dt.refreshMaterialUniforms(ji,we,fe,ue,O.state.transmissionRenderTarget[G.id]),ob.upload(J,Vo(ut),ji,ce)),we.isShaderMaterial&&we.uniformsNeedUpdate===!0&&(ob.upload(J,Vo(ut),ji,ce),we.uniformsNeedUpdate=!1),we.isSpriteMaterial&&On.setValue(J,"center",me.center),On.setValue(J,"modelViewMatrix",me.modelViewMatrix),On.setValue(J,"normalMatrix",me.normalMatrix),On.setValue(J,"modelMatrix",me.matrixWorld),we.isShaderMaterial||we.isRawShaderMaterial){const Ki=we.uniformsGroups;for(let Qi=0,Fl=Ki.length;Qi<Fl;Qi++){const Cr=Ki[Qi];je.update(Cr,Pi),je.bind(Cr,Pi)}}return Pi}function eo(G,de){G.ambientLightColor.needsUpdate=de,G.lightProbe.needsUpdate=de,G.directionalLights.needsUpdate=de,G.directionalLightShadows.needsUpdate=de,G.pointLights.needsUpdate=de,G.pointLightShadows.needsUpdate=de,G.spotLights.needsUpdate=de,G.spotLightShadows.needsUpdate=de,G.rectAreaLights.needsUpdate=de,G.hemisphereLights.needsUpdate=de}function to(G){return G.isMeshLambertMaterial||G.isMeshToonMaterial||G.isMeshPhongMaterial||G.isMeshStandardMaterial||G.isShadowMaterial||G.isShaderMaterial&&G.lights===!0}this.getActiveCubeFace=function(){return $},this.getActiveMipmapLevel=function(){return se},this.getRenderTarget=function(){return ee},this.setRenderTargetTextures=function(G,de,Ae){const we=V.get(G);we.__autoAllocateDepthBuffer=G.resolveDepthBuffer===!1,we.__autoAllocateDepthBuffer===!1&&(we.__useRenderToTexture=!1),V.get(G.texture).__webglTexture=de,V.get(G.depthTexture).__webglTexture=we.__autoAllocateDepthBuffer?void 0:Ae,we.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(G,de){const Ae=V.get(G);Ae.__webglFramebuffer=de,Ae.__useDefaultFramebuffer=de===void 0};const no=J.createFramebuffer();this.setRenderTarget=function(G,de=0,Ae=0){ee=G,$=de,se=Ae;let we=null,me=!1,tt=!1;if(G){const $e=V.get(G);if($e.__useDefaultFramebuffer!==void 0){He.bindFramebuffer(J.FRAMEBUFFER,$e.__webglFramebuffer),X.copy(G.viewport),Z.copy(G.scissor),Q=G.scissorTest,He.viewport(X),He.scissor(Z),He.setScissorTest(Q),ne=-1;return}else if($e.__webglFramebuffer===void 0)ce.setupRenderTarget(G);else if($e.__hasExternalTextures)ce.rebindTextures(G,V.get(G.texture).__webglTexture,V.get(G.depthTexture).__webglTexture);else if(G.depthBuffer){const Ut=G.depthTexture;if($e.__boundDepthTexture!==Ut){if(Ut!==null&&V.has(Ut)&&(G.width!==Ut.image.width||G.height!==Ut.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ce.setupDepthRenderbuffer(G)}}const _t=G.texture;(_t.isData3DTexture||_t.isDataArrayTexture||_t.isCompressedArrayTexture)&&(tt=!0);const Mt=V.get(G).__webglFramebuffer;G.isWebGLCubeRenderTarget?(Array.isArray(Mt[de])?we=Mt[de][Ae]:we=Mt[de],me=!0):G.samples>0&&ce.useMultisampledRTT(G)===!1?we=V.get(G).__webglMultisampledFramebuffer:Array.isArray(Mt)?we=Mt[Ae]:we=Mt,X.copy(G.viewport),Z.copy(G.scissor),Q=G.scissorTest}else X.copy(he).multiplyScalar(fe).floor(),Z.copy(ve).multiplyScalar(fe).floor(),Q=Fe;if(Ae!==0&&(we=no),He.bindFramebuffer(J.FRAMEBUFFER,we)&&He.drawBuffers(G,we),He.viewport(X),He.scissor(Z),He.setScissorTest(Q),me){const $e=V.get(G.texture);J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_CUBE_MAP_POSITIVE_X+de,$e.__webglTexture,Ae)}else if(tt){const $e=de;for(let _t=0;_t<G.textures.length;_t++){const Mt=V.get(G.textures[_t]);J.framebufferTextureLayer(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0+_t,Mt.__webglTexture,Ae,$e)}}else if(G!==null&&Ae!==0){const $e=V.get(G.texture);J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,$e.__webglTexture,Ae)}ne=-1},this.readRenderTargetPixels=function(G,de,Ae,we,me,tt,gt,$e=0){if(!(G&&G.isWebGLRenderTarget)){Ot("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let _t=V.get(G).__webglFramebuffer;if(G.isWebGLCubeRenderTarget&&gt!==void 0&&(_t=_t[gt]),_t){He.bindFramebuffer(J.FRAMEBUFFER,_t);try{const Mt=G.textures[$e],Ut=Mt.format,Et=Mt.type;if(!Nt.textureFormatReadable(Ut)){Ot("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Nt.textureTypeReadable(Et)){Ot("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}de>=0&&de<=G.width-we&&Ae>=0&&Ae<=G.height-me&&(G.textures.length>1&&J.readBuffer(J.COLOR_ATTACHMENT0+$e),J.readPixels(de,Ae,we,me,Qe.convert(Ut),Qe.convert(Et),tt))}finally{const Mt=ee!==null?V.get(ee).__webglFramebuffer:null;He.bindFramebuffer(J.FRAMEBUFFER,Mt)}}},this.readRenderTargetPixelsAsync=async function(G,de,Ae,we,me,tt,gt,$e=0){if(!(G&&G.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let _t=V.get(G).__webglFramebuffer;if(G.isWebGLCubeRenderTarget&&gt!==void 0&&(_t=_t[gt]),_t)if(de>=0&&de<=G.width-we&&Ae>=0&&Ae<=G.height-me){He.bindFramebuffer(J.FRAMEBUFFER,_t);const Mt=G.textures[$e],Ut=Mt.format,Et=Mt.type;if(!Nt.textureFormatReadable(Ut))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Nt.textureTypeReadable(Et))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Ht=J.createBuffer();J.bindBuffer(J.PIXEL_PACK_BUFFER,Ht),J.bufferData(J.PIXEL_PACK_BUFFER,tt.byteLength,J.STREAM_READ),G.textures.length>1&&J.readBuffer(J.COLOR_ATTACHMENT0+$e),J.readPixels(de,Ae,we,me,Qe.convert(Ut),Qe.convert(Et),0);const Dn=ee!==null?V.get(ee).__webglFramebuffer:null;He.bindFramebuffer(J.FRAMEBUFFER,Dn);const $n=J.fenceSync(J.SYNC_GPU_COMMANDS_COMPLETE,0);return J.flush(),await dW(J,$n,4),J.bindBuffer(J.PIXEL_PACK_BUFFER,Ht),J.getBufferSubData(J.PIXEL_PACK_BUFFER,0,tt),J.deleteBuffer(Ht),J.deleteSync($n),tt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(G,de=null,Ae=0){const we=Math.pow(2,-Ae),me=Math.floor(G.image.width*we),tt=Math.floor(G.image.height*we),gt=de!==null?de.x:0,$e=de!==null?de.y:0;ce.setTexture2D(G,0),J.copyTexSubImage2D(J.TEXTURE_2D,Ae,0,0,gt,$e,me,tt),He.unbindTexture()};const Ho=J.createFramebuffer(),Sa=J.createFramebuffer();this.copyTextureToTexture=function(G,de,Ae=null,we=null,me=0,tt=null){tt===null&&(me!==0?(wp("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),tt=me,me=0):tt=0);let gt,$e,_t,Mt,Ut,Et,Ht,Dn,$n;const jn=G.isCompressedTexture?G.mipmaps[tt]:G.image;if(Ae!==null)gt=Ae.max.x-Ae.min.x,$e=Ae.max.y-Ae.min.y,_t=Ae.isBox3?Ae.max.z-Ae.min.z:1,Mt=Ae.min.x,Ut=Ae.min.y,Et=Ae.isBox3?Ae.min.z:0;else{const Ii=Math.pow(2,-me);gt=Math.floor(jn.width*Ii),$e=Math.floor(jn.height*Ii),G.isDataArrayTexture?_t=jn.depth:G.isData3DTexture?_t=Math.floor(jn.depth*Ii):_t=1,Mt=0,Ut=0,Et=0}we!==null?(Ht=we.x,Dn=we.y,$n=we.z):(Ht=0,Dn=0,$n=0);const Qt=Qe.convert(de.format),ut=Qe.convert(de.type);let En;de.isData3DTexture?(ce.setTexture3D(de,0),En=J.TEXTURE_3D):de.isDataArrayTexture||de.isCompressedArrayTexture?(ce.setTexture2DArray(de,0),En=J.TEXTURE_2D_ARRAY):(ce.setTexture2D(de,0),En=J.TEXTURE_2D),J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,de.flipY),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,de.premultiplyAlpha),J.pixelStorei(J.UNPACK_ALIGNMENT,de.unpackAlignment);const Wt=J.getParameter(J.UNPACK_ROW_LENGTH),Pi=J.getParameter(J.UNPACK_IMAGE_HEIGHT),oa=J.getParameter(J.UNPACK_SKIP_PIXELS),ti=J.getParameter(J.UNPACK_SKIP_ROWS),Cs=J.getParameter(J.UNPACK_SKIP_IMAGES);J.pixelStorei(J.UNPACK_ROW_LENGTH,jn.width),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,jn.height),J.pixelStorei(J.UNPACK_SKIP_PIXELS,Mt),J.pixelStorei(J.UNPACK_SKIP_ROWS,Ut),J.pixelStorei(J.UNPACK_SKIP_IMAGES,Et);const On=G.isDataArrayTexture||G.isData3DTexture,ji=de.isDataArrayTexture||de.isData3DTexture;if(G.isDepthTexture){const Ii=V.get(G),Ki=V.get(de),Qi=V.get(Ii.__renderTarget),Fl=V.get(Ki.__renderTarget);He.bindFramebuffer(J.READ_FRAMEBUFFER,Qi.__webglFramebuffer),He.bindFramebuffer(J.DRAW_FRAMEBUFFER,Fl.__webglFramebuffer);for(let Cr=0;Cr<_t;Cr++)On&&(J.framebufferTextureLayer(J.READ_FRAMEBUFFER,J.COLOR_ATTACHMENT0,V.get(G).__webglTexture,me,Et+Cr),J.framebufferTextureLayer(J.DRAW_FRAMEBUFFER,J.COLOR_ATTACHMENT0,V.get(de).__webglTexture,tt,$n+Cr)),J.blitFramebuffer(Mt,Ut,gt,$e,Ht,Dn,gt,$e,J.DEPTH_BUFFER_BIT,J.NEAREST);He.bindFramebuffer(J.READ_FRAMEBUFFER,null),He.bindFramebuffer(J.DRAW_FRAMEBUFFER,null)}else if(me!==0||G.isRenderTargetTexture||V.has(G)){const Ii=V.get(G),Ki=V.get(de);He.bindFramebuffer(J.READ_FRAMEBUFFER,Ho),He.bindFramebuffer(J.DRAW_FRAMEBUFFER,Sa);for(let Qi=0;Qi<_t;Qi++)On?J.framebufferTextureLayer(J.READ_FRAMEBUFFER,J.COLOR_ATTACHMENT0,Ii.__webglTexture,me,Et+Qi):J.framebufferTexture2D(J.READ_FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,Ii.__webglTexture,me),ji?J.framebufferTextureLayer(J.DRAW_FRAMEBUFFER,J.COLOR_ATTACHMENT0,Ki.__webglTexture,tt,$n+Qi):J.framebufferTexture2D(J.DRAW_FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,Ki.__webglTexture,tt),me!==0?J.blitFramebuffer(Mt,Ut,gt,$e,Ht,Dn,gt,$e,J.COLOR_BUFFER_BIT,J.NEAREST):ji?J.copyTexSubImage3D(En,tt,Ht,Dn,$n+Qi,Mt,Ut,gt,$e):J.copyTexSubImage2D(En,tt,Ht,Dn,Mt,Ut,gt,$e);He.bindFramebuffer(J.READ_FRAMEBUFFER,null),He.bindFramebuffer(J.DRAW_FRAMEBUFFER,null)}else ji?G.isDataTexture||G.isData3DTexture?J.texSubImage3D(En,tt,Ht,Dn,$n,gt,$e,_t,Qt,ut,jn.data):de.isCompressedArrayTexture?J.compressedTexSubImage3D(En,tt,Ht,Dn,$n,gt,$e,_t,Qt,jn.data):J.texSubImage3D(En,tt,Ht,Dn,$n,gt,$e,_t,Qt,ut,jn):G.isDataTexture?J.texSubImage2D(J.TEXTURE_2D,tt,Ht,Dn,gt,$e,Qt,ut,jn.data):G.isCompressedTexture?J.compressedTexSubImage2D(J.TEXTURE_2D,tt,Ht,Dn,jn.width,jn.height,Qt,jn.data):J.texSubImage2D(J.TEXTURE_2D,tt,Ht,Dn,gt,$e,Qt,ut,jn);J.pixelStorei(J.UNPACK_ROW_LENGTH,Wt),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,Pi),J.pixelStorei(J.UNPACK_SKIP_PIXELS,oa),J.pixelStorei(J.UNPACK_SKIP_ROWS,ti),J.pixelStorei(J.UNPACK_SKIP_IMAGES,Cs),tt===0&&de.generateMipmaps&&J.generateMipmap(En),He.unbindTexture()},this.initRenderTarget=function(G){V.get(G).__webglFramebuffer===void 0&&ce.setupRenderTarget(G)},this.initTexture=function(G){G.isCubeTexture?ce.setTextureCube(G,0):G.isData3DTexture?ce.setTexture3D(G,0):G.isDataArrayTexture||G.isCompressedArrayTexture?ce.setTexture2DArray(G,0):ce.setTexture2D(G,0),He.unbindTexture()},this.resetState=function(){$=0,se=0,ee=null,He.reset(),ct.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ya}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Rn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Rn._getUnpackColorSpace()}}const iJ=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Y1,AddEquation:Pu,AddOperation:gO,AdditiveAnimationBlendMode:xE,AdditiveBlending:Eb,AgXToneMapping:uE,AlphaFormat:yE,AlwaysCompare:CO,AlwaysDepth:Nb,AlwaysStencilFunc:zM,AmbientLight:_U,AnimationAction:RU,AnimationClip:L0,AnimationLoader:tq,AnimationMixer:Nq,AnimationObjectGroup:Cq,AnimationUtils:KX,ArcCurve:YO,ArrayCamera:EU,ArrowHelper:tY,AttachedBindMode:UM,Audio:AU,AudioAnalyser:vq,AudioContext:XE,AudioListener:mq,AudioLoader:dq,AxesHelper:nY,BackSide:Er,BasicDepthPacking:_O,BasicShadowMap:ZL,BatchedMesh:HO,Bone:AE,BooleanKeyframeTrack:Sd,Box2:Bq,Box3:nr,Box3Helper:Jq,BoxGeometry:_d,BoxHelper:Qq,BufferAttribute:Nn,BufferGeometry:Jt,BufferGeometryLoader:TU,ByteType:hE,Cache:wl,Camera:o_,CameraHelper:Kq,CanvasTexture:bX,CapsuleGeometry:p_,CatmullRomCurve3:$O,CineonToneMapping:lE,CircleGeometry:m_,ClampToEdgeWrapping:Jr,Clock:qE,Color:yt,ColorKeyframeTrack:HE,ColorManagement:Rn,CompressedArrayTexture:vX,CompressedCubeTexture:xX,CompressedTexture:h_,CompressedTextureLoader:nq,ConeGeometry:Q0,ConstantAlphaFactor:hO,ConstantColorFactor:fO,Controls:sY,CubeCamera:UO,CubeDepthTexture:XO,CubeReflectionMapping:Nl,CubeRefractionMapping:Hu,CubeTexture:Z0,CubeTextureLoader:iq,CubeUVReflectionMapping:Gp,CubicBezierCurve:DE,CubicBezierCurve3:ZO,CubicInterpolant:hU,CullFaceBack:IM,CullFaceFront:$L,CullFaceFrontBack:S7,CullFaceNone:YL,Curve:Fo,CurvePath:QO,CustomBlending:KL,CustomToneMapping:cE,CylinderGeometry:K0,Cylindrical:Fq,Data3DTexture:a_,DataArrayTexture:r_,DataTexture:Po,DataTextureLoader:sq,DataUtils:jW,DecrementStencilOp:k7,DecrementWrapStencilOp:H7,DefaultLoadingManager:gU,DepthFormat:Pl,DepthStencilFormat:Lu,DepthTexture:Cp,DetachedBindMode:yO,DirectionalLight:bU,DirectionalLightHelper:Zq,DiscreteInterpolant:pU,DodecahedronGeometry:g_,DoubleSide:Ro,DstAlphaFactor:aO,DstColorFactor:lO,DynamicCopyUsage:iW,DynamicDrawUsage:K7,DynamicReadUsage:eW,EdgesGeometry:qO,EllipseCurve:y_,EqualCompare:TO,EqualDepth:Pb,EqualStencilFunc:X7,EquirectangularReflectionMapping:x0,EquirectangularRefractionMapping:b0,Euler:_a,EventDispatcher:Ol,ExternalTexture:RE,ExtrudeGeometry:v_,FileLoader:Dc,Float16BufferAttribute:ZW,Float32BufferAttribute:Tt,FloatType:Tr,Fog:c_,FogExp2:l_,FramebufferTexture:yX,FrontSide:Nc,Frustum:Xp,FrustumArray:d_,GLBufferAttribute:Oq,GLSL1:rW,GLSL3:FM,GreaterCompare:EO,GreaterDepth:Lb,GreaterEqualCompare:s_,GreaterEqualDepth:Ib,GreaterEqualStencilFunc:Z7,GreaterStencilFunc:Y7,GridHelper:Yq,Group:cp,HalfFloatType:Dl,HemisphereLight:yU,HemisphereLightHelper:qq,IcosahedronGeometry:x_,ImageBitmapLoader:fq,ImageLoader:O0,ImageUtils:PO,IncrementStencilOp:B7,IncrementWrapStencilOp:V7,InstancedBufferAttribute:Ap,InstancedBufferGeometry:MU,InstancedInterleavedBuffer:Lq,InstancedMesh:VO,Int16BufferAttribute:YW,Int32BufferAttribute:$W,Int8BufferAttribute:WW,IntType:Z1,InterleavedBuffer:u_,InterleavedBufferAttribute:vd,Interpolant:ty,InterpolateDiscrete:w0,InterpolateLinear:p1,InterpolateSmooth:rb,InterpolationSamplingMode:lW,InterpolationSamplingType:oW,InvertStencilOp:j7,KeepStencilOp:td,KeyframeTrack:Ja,LOD:BO,LatheGeometry:b_,Layers:Tp,LessCompare:MO,LessDepth:Db,LessEqualCompare:i_,LessEqualDepth:gd,LessEqualStencilFunc:q7,LessStencilFunc:W7,Light:Ku,LightProbe:wU,Line:Wu,Line3:Hq,LineBasicMaterial:Ar,LineCurve:PE,LineCurve3:KO,LineDashedMaterial:fU,LineLoop:jO,LineSegments:Ul,LinearFilter:gi,LinearInterpolant:VE,LinearMipMapLinearFilter:E7,LinearMipMapNearestFilter:T7,LinearMipmapLinearFilter:Sl,LinearMipmapNearestFilter:Qg,LinearSRGBColorSpace:ju,LinearToneMapping:aE,LinearTransfer:T0,Loader:sa,LoaderUtils:jM,LoadingManager:jE,LoopOnce:vO,LoopPingPong:bO,LoopRepeat:xO,MOUSE:b7,Material:ir,MaterialLoader:A_,MathUtils:s0,Matrix2:QE,Matrix3:an,Matrix4:$t,MaxEquation:tO,Mesh:os,MeshBasicMaterial:$u,MeshDepthMaterial:FE,MeshDistanceMaterial:BE,MeshLambertMaterial:cU,MeshMatcapMaterial:uU,MeshNormalMaterial:lU,MeshPhongMaterial:aU,MeshPhysicalMaterial:rU,MeshStandardMaterial:zE,MeshToonMaterial:oU,MinEquation:eO,MirroredRepeatWrapping:S0,MixOperation:mO,MultiplyBlending:OM,MultiplyOperation:Y0,NearestFilter:Zi,NearestMipMapLinearFilter:M7,NearestMipMapNearestFilter:w7,NearestMipmapLinearFilter:op,NearestMipmapNearestFilter:dE,NeutralToneMapping:fE,NeverCompare:wO,NeverDepth:Rb,NeverStencilFunc:G7,NoBlending:Al,NoColorSpace:_c,NoNormalPacking:L7,NoToneMapping:Za,NormalAnimationBlendMode:n_,NormalBlending:fd,NormalGAPacking:U7,NormalRGPacking:O7,NotEqualCompare:AO,NotEqualDepth:Ob,NotEqualStencilFunc:$7,NumberKeyframeTrack:P0,Object3D:Ln,ObjectLoader:cq,ObjectSpaceNormalMap:SO,OctahedronGeometry:J0,OneFactor:iO,OneMinusConstantAlphaFactor:pO,OneMinusConstantColorFactor:dO,OneMinusDstAlphaFactor:oO,OneMinusDstColorFactor:cO,OneMinusSrcAlphaFactor:Cb,OneMinusSrcColorFactor:rO,OrthographicCamera:Yp,PCFShadowMap:dp,PCFSoftShadowMap:Kg,PMREMGenerator:XM,Path:v1,PerspectiveCamera:Es,Plane:Du,PlaneGeometry:qp,PlaneHelper:eY,PointLight:xU,PointLightHelper:Wq,Points:GO,PointsMaterial:CE,PolarGridHelper:$q,PolyhedronGeometry:Zu,PositionalAudio:yq,PropertyBinding:Un,PropertyMixer:CU,QuadraticBezierCurve:IE,QuadraticBezierCurve3:LE,Quaternion:ta,QuaternionKeyframeTrack:ny,QuaternionLinearInterpolant:mU,R11_EAC_Format:jb,RED_GREEN_RGTC2_Format:d1,RED_RGTC1_Format:u1,REVISION:jp,RG11_EAC_Format:Wb,RGBADepthPacking:D7,RGBAFormat:tr,RGBAIntegerFormat:t_,RGBA_ASTC_10x10_Format:s1,RGBA_ASTC_10x5_Format:t1,RGBA_ASTC_10x6_Format:n1,RGBA_ASTC_10x8_Format:i1,RGBA_ASTC_12x10_Format:r1,RGBA_ASTC_12x12_Format:a1,RGBA_ASTC_4x4_Format:qb,RGBA_ASTC_5x4_Format:Yb,RGBA_ASTC_5x5_Format:$b,RGBA_ASTC_6x5_Format:Zb,RGBA_ASTC_6x6_Format:Kb,RGBA_ASTC_8x5_Format:Qb,RGBA_ASTC_8x6_Format:Jb,RGBA_ASTC_8x8_Format:e1,RGBA_BPTC_Format:o1,RGBA_ETC2_EAC_Format:Hb,RGBA_PVRTC_2BPPV1_Format:Bb,RGBA_PVRTC_4BPPV1_Format:Fb,RGBA_S3TC_DXT1_Format:e0,RGBA_S3TC_DXT3_Format:t0,RGBA_S3TC_DXT5_Format:n0,RGBDepthPacking:P7,RGBFormat:vE,RGBIntegerFormat:A7,RGB_BPTC_SIGNED_Format:l1,RGB_BPTC_UNSIGNED_Format:c1,RGB_ETC1_Format:kb,RGB_ETC2_Format:Vb,RGB_PVRTC_2BPPV1_Format:zb,RGB_PVRTC_4BPPV1_Format:Ub,RGB_S3TC_DXT1_Format:Jg,RGDepthPacking:I7,RGFormat:yd,RGIntegerFormat:e_,RawShaderMaterial:UE,Ray:Wp,Raycaster:KE,RectAreaLight:SU,RedFormat:J1,RedIntegerFormat:$0,ReinhardToneMapping:oE,RenderTarget:_E,RenderTarget3D:Dq,RepeatWrapping:_0,ReplaceStencilOp:F7,ReverseSubtractEquation:JL,RingGeometry:__,SIGNED_R11_EAC_Format:Gb,SIGNED_RED_GREEN_RGTC2_Format:h1,SIGNED_RED_RGTC1_Format:f1,SIGNED_RG11_EAC_Format:Xb,SRGBColorSpace:er,SRGBTransfer:Xn,Scene:TE,ShaderChunk:hn,ShaderLib:Co,ShaderMaterial:na,ShadowMaterial:sU,Shape:hd,ShapeGeometry:S_,ShapePath:iY,ShapeUtils:Do,ShortType:pE,Skeleton:f_,SkeletonHelper:Gq,SkinnedMesh:kO,Source:Ou,Sphere:Bs,SphereGeometry:ey,Spherical:NU,SphericalHarmonics3:WE,SplineCurve:OE,SpotLight:vU,SpotLightHelper:jq,Sprite:FO,SpriteMaterial:EE,SrcAlphaFactor:Ab,SrcAlphaSaturateFactor:uO,SrcColorFactor:sO,StaticCopyUsage:nW,StaticDrawUsage:E0,StaticReadUsage:J7,StereoCamera:hq,StreamCopyUsage:sW,StreamDrawUsage:Q7,StreamReadUsage:tW,StringKeyframeTrack:wd,SubtractEquation:QL,SubtractiveBlending:LM,TOUCH:_7,TangentSpaceNormalMap:Yu,TetrahedronGeometry:w_,Texture:ki,TextureLoader:rq,TextureUtils:cY,Timer:Uq,TimestampQuery:aW,TorusGeometry:M_,TorusKnotGeometry:T_,Triangle:Kr,TriangleFanDrawMode:N7,TriangleStripDrawMode:R7,TrianglesDrawMode:C7,TubeGeometry:E_,UVMapping:$1,Uint16BufferAttribute:SE,Uint32BufferAttribute:wE,Uint8BufferAttribute:XW,Uint8ClampedBufferAttribute:qW,Uniform:ZE,UniformsGroup:Iq,UniformsLib:mt,UniformsUtils:OO,UnsignedByteType:Sr,UnsignedInt101111Type:gE,UnsignedInt248Type:_p,UnsignedInt5999Type:mE,UnsignedIntType:Ka,UnsignedShort4444Type:K1,UnsignedShort5551Type:Q1,UnsignedShortType:bp,VSMShadowMap:rd,Vector2:ke,Vector3:K,Vector4:ii,VectorKeyframeTrack:I0,VideoFrameTexture:gX,VideoTexture:WO,WebGL3DRenderTarget:IW,WebGLArrayRenderTarget:PW,WebGLCoordinateSystem:ya,WebGLCubeRenderTarget:ME,WebGLRenderTarget:ba,WebGLRenderer:FU,WebGLUtils:zU,WebGPUCoordinateSystem:Sp,WebXRController:ab,WireframeGeometry:iU,WrapAroundEnding:M0,ZeroCurvatureEnding:ad,ZeroFactor:nO,ZeroSlopeEnding:od,ZeroStencilOp:z7,createCanvasElement:DO,error:Ot,getConsoleFunction:fW,log:C0,setConsoleFunction:uW,warn:ht,warnOnce:wp},Symbol.toStringTag,{value:"Module"}));var Iw={exports:{}},Lw={},Ow={exports:{}},Uw={};var kN;function sJ(){if(kN)return Uw;kN=1;var n=z0();function e(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,s=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function u(m,x){var b=x(),w=i({inst:{value:b,getSnapshot:x}}),A=w[0].inst,T=w[1];return a(function(){A.value=b,A.getSnapshot=x,h(A)&&T({inst:A})},[m,b,x]),s(function(){return h(A)&&T({inst:A}),m(function(){h(A)&&T({inst:A})})},[m]),l(b),b}function h(m){var x=m.getSnapshot;m=m.value;try{var b=x();return!t(m,b)}catch{return!0}}function p(m,x){return x()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return Uw.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:g,Uw}var VN;function rJ(){return VN||(VN=1,Ow.exports=sJ()),Ow.exports}var HN;function aJ(){if(HN)return Lw;HN=1;var n=z0(),e=rJ();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var i=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,a=n.useRef,l=n.useEffect,u=n.useMemo,h=n.useDebugValue;return Lw.useSyncExternalStoreWithSelector=function(p,g,m,x,b){var w=a(null);if(w.current===null){var A={hasValue:!1,value:null};w.current=A}else A=w.current;w=u(function(){function M(F){if(!N){if(N=!0,D=F,F=x(F),b!==void 0&&A.hasValue){var B=A.value;if(b(B,F))return I=B}return I=F}if(B=I,i(D,F))return B;var H=x(F);return b!==void 0&&b(B,H)?(D=F,B):(D=F,I=H)}var N=!1,D,I,O=m===void 0?null:m;return[function(){return M(g())},O===null?void 0:function(){return M(O())}]},[g,m,x,b]);var T=s(p,w[0],w[1]);return l(function(){A.hasValue=!0,A.value=T},[T]),h(T),T},Lw}var jN;function oJ(){return jN||(jN=1,Iw.exports=aJ()),Iw.exports}var lJ=oJ();const cJ=M1(lJ),GN=n=>{let e;const t=new Set,i=(p,g)=>{const m=typeof p=="function"?p(e):p;if(!Object.is(m,e)){const x=e;e=g??(typeof m!="object"||m===null)?m:Object.assign({},e,m),t.forEach(b=>b(e,x))}},s=()=>e,u={setState:i,getState:s,getInitialState:()=>h,subscribe:p=>(t.add(p),()=>t.delete(p))},h=e=n(i,s,u);return u},uJ=(n=>n?GN(n):GN),{useSyncExternalStoreWithSelector:fJ}=cJ,dJ=n=>n;function hJ(n,e=dJ,t){const i=fJ(n.subscribe,n.getState,n.getInitialState,e,t);return it.useDebugValue(i),i}const WN=(n,e)=>{const t=uJ(n),i=(s,a=e)=>hJ(t,s,a);return Object.assign(i,t),i},BU=((n,e)=>n?WN(n,e):WN);var $M=oD();const pJ=M1($M);function JE(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const s=JE(i,e,t);if(s)return s;i=e?null:i.sibling}}function kU(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const eA=kU(L.createContext(null));class VU extends L.Component{render(){return L.createElement(eA.Provider,{value:this._reactInternals},this.props.children)}}function HU(){const n=L.useContext(eA);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=L.useId();return L.useMemo(()=>{for(const t of[n,n?.alternate]){if(!t)continue;const i=JE(t,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[n,e])}const mJ=Symbol.for("react.context"),gJ=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===mJ;function yJ(){const n=HU(),[e]=L.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;gJ(i)&&i!==eA&&!e.has(i)&&e.set(i,L.use(kU(i))),t=t.return}return e}function vJ(){const n=yJ();return L.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>L.createElement(e,null,L.createElement(t.Provider,{...i,value:n.get(t)})),e=>L.createElement(VU,{...e})),[n])}function jU(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const GU=n=>n&&n.isOrthographicCamera,xJ=n=>n&&n.hasOwnProperty("current"),bJ=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),iy=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?L.useLayoutEffect:L.useEffect;function tA(n){const e=L.useRef(n);return iy(()=>{e.current=n},[n]),e}function _J(){const n=HU(),e=vJ();return L.useMemo(()=>({children:t})=>{const s=!!JE(n,!0,a=>a.type===L.StrictMode)?L.StrictMode:L.Fragment;return C.jsx(s,{children:C.jsx(e,{children:t})})},[n,e])}function SJ({set:n}){return iy(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const wJ=(n=>(n=class extends L.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function WU(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function Qh(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Ai={obj:n=>n===Object(n)&&!Ai.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:s=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Ai.str(n)||Ai.num(n)||Ai.boo(n))return n===e;const a=Ai.obj(n);if(a&&i==="reference")return n===e;const l=Ai.arr(n);if(l&&t==="reference")return n===e;if((l||a)&&n===e)return!0;let u;for(u in n)if(!(u in e))return!1;if(a&&t==="shallow"&&i==="shallow"){for(u in s?e:n)if(!Ai.equ(n[u],e[u],{strict:s,objects:"reference"}))return!1}else for(u in s?e:n)if(n[u]!==e[u])return!1;if(Ai.und(u)){if(l&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function MJ(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const XU=["children","key","ref"];function TJ(n){const e={};for(const t in n)XU.includes(t)||(e[t]=n[t]);return e}function x1(n,e,t,i){const s=n;let a=s?.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:TJ(i),object:s,eventCount:0,handlers:{},isHidden:!1},s&&(s.__r3f=a)),a}function U0(n,e){if(!e.includes("-"))return{root:n,key:e,target:n[e]};if(e in n)return{root:n,key:e,target:n[e]};let t=n;const i=e.split("-");for(const s of i){if(typeof t!="object"||t===null){if(t!==void 0){const a=i.slice(i.indexOf(s)).join("-");return{root:t,key:a,target:void 0}}return{root:n,key:e,target:void 0}}e=s,n=t,t=t[e]}return{root:n,key:e,target:t}}const XN=/-\d+$/;function b1(n,e){if(Ai.str(e.props.attach)){if(XN.test(e.props.attach)){const s=e.props.attach.replace(XN,""),{root:a,key:l}=U0(n.object,s);Array.isArray(a[l])||(a[l]=[])}const{root:t,key:i}=U0(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else Ai.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function _1(n,e){if(Ai.str(e.props.attach)){const{root:t,key:i}=U0(n.object,e.props.attach),s=e.previousAttach;s===void 0?delete t[i]:t[i]=s}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const ZM=[...XU,"args","dispose","attach","object","onUpdate","dispose"],qN=new Map;function EJ(n){let e=qN.get(n.constructor);try{e||(e=new n.constructor,qN.set(n.constructor,e))}catch{}return e}function AJ(n,e){const t={};for(const i in e)if(!ZM.includes(i)&&!Ai.equ(e[i],n.props[i])){t[i]=e[i];for(const s in e)s.startsWith(`${i}-`)&&(t[s]=e[s])}for(const i in n.props){if(ZM.includes(i)||e.hasOwnProperty(i))continue;const{root:s,key:a}=U0(n.object,i);if(s.constructor&&s.constructor.length===0){const l=EJ(s);Ai.und(l)||(t[a]=l[a])}else t[a]=0}return t}const CJ=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],RJ=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Iu(n,e){var t;const i=n.__r3f,s=i&&jU(i).getState(),a=i?.eventCount;for(const u in e){let h=e[u];if(ZM.includes(u))continue;if(i&&RJ.test(u)){typeof h=="function"?i.handlers[u]=h:delete i.handlers[u],i.eventCount=Object.keys(i.handlers).length;continue}if(h===void 0)continue;let{root:p,key:g,target:m}=U0(n,u);if(m===void 0&&(typeof p!="object"||p===null))throw Error(`R3F: Cannot set "${u}". Ensure it is an object before setting "${g}".`);if(m instanceof Tp&&h instanceof Tp)m.mask=h.mask;else if(m instanceof yt&&bJ(h))m.set(h);else if(m!==null&&typeof m=="object"&&typeof m.set=="function"&&typeof m.copy=="function"&&h!=null&&h.constructor&&m.constructor===h.constructor)m.copy(h);else if(m!==null&&typeof m=="object"&&typeof m.set=="function"&&Array.isArray(h))typeof m.fromArray=="function"?m.fromArray(h):m.set(...h);else if(m!==null&&typeof m=="object"&&typeof m.set=="function"&&typeof h=="number")typeof m.setScalar=="function"?m.setScalar(h):m.set(h);else{var l;p[g]=h,s&&!s.linear&&CJ.includes(g)&&(l=p[g])!=null&&l.isTexture&&p[g].format===tr&&p[g].type===Sr&&(p[g].colorSpace=er)}}if(i!=null&&i.parent&&s!=null&&s.internal&&(t=i.object)!=null&&t.isObject3D&&a!==i.eventCount){const u=i.object,h=s.internal.interaction.indexOf(u);h>-1&&s.internal.interaction.splice(h,1),i.eventCount&&u.raycast!==null&&s.internal.interaction.push(u)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Zp(i),n}function Zp(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function qU(n,e){n.manual||(GU(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Zr=n=>n?.isObject3D;function Wx(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function YU(n,e,t,i){const s=t.get(e);s&&(t.delete(e),t.size===0&&(n.delete(i),s.target.releasePointerCapture(i)))}function NJ(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,s)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(s)}),t.capturedMap.forEach((i,s)=>{YU(t.capturedMap,e,i,s)})}function DJ(n){function e(h){const{internal:p}=n.getState(),g=h.offsetX-p.initialClick[0],m=h.offsetY-p.initialClick[1];return Math.round(Math.sqrt(g*g+m*m))}function t(h){return h.filter(p=>["Move","Over","Enter","Out","Leave"].some(g=>{var m;return(m=p.__r3f)==null?void 0:m.handlers["onPointer"+g]}))}function i(h,p){const g=n.getState(),m=new Set,x=[],b=p?p(g.internal.interaction):g.internal.interaction;for(let M=0;M<b.length;M++){const N=Qh(b[M]);N&&(N.raycaster.camera=void 0)}g.previousRoot||g.events.compute==null||g.events.compute(h,g);function w(M){const N=Qh(M);if(!N||!N.events.enabled||N.raycaster.camera===null)return[];if(N.raycaster.camera===void 0){var D;N.events.compute==null||N.events.compute(h,N,(D=N.previousRoot)==null?void 0:D.getState()),N.raycaster.camera===void 0&&(N.raycaster.camera=null)}return N.raycaster.camera?N.raycaster.intersectObject(M,!0):[]}let A=b.flatMap(w).sort((M,N)=>{const D=Qh(M.object),I=Qh(N.object);return!D||!I?M.distance-N.distance:I.events.priority-D.events.priority||M.distance-N.distance}).filter(M=>{const N=Wx(M);return m.has(N)?!1:(m.add(N),!0)});g.events.filter&&(A=g.events.filter(A,g));for(const M of A){let N=M.object;for(;N;){var T;(T=N.__r3f)!=null&&T.eventCount&&x.push({...M,eventObject:N}),N=N.parent}}if("pointerId"in h&&g.internal.capturedMap.has(h.pointerId))for(let M of g.internal.capturedMap.get(h.pointerId).values())m.has(Wx(M.intersection))||x.push(M.intersection);return x}function s(h,p,g,m){if(h.length){const x={stopped:!1};for(const b of h){let w=Qh(b.object);if(w||b.object.traverseAncestors(A=>{const T=Qh(A);if(T)return w=T,!1}),w){const{raycaster:A,pointer:T,camera:M,internal:N}=w,D=new K(T.x,T.y,0).unproject(M),I=z=>{var k,$;return(k=($=N.capturedMap.get(z))==null?void 0:$.has(b.eventObject))!=null?k:!1},O=z=>{const k={intersection:b,target:p.target};N.capturedMap.has(z)?N.capturedMap.get(z).set(b.eventObject,k):N.capturedMap.set(z,new Map([[b.eventObject,k]])),p.target.setPointerCapture(z)},F=z=>{const k=N.capturedMap.get(z);k&&YU(N.capturedMap,b.eventObject,k,z)};let B={};for(let z in p){let k=p[z];typeof k!="function"&&(B[z]=k)}let H={...b,...B,pointer:T,intersections:h,stopped:x.stopped,delta:g,unprojectedPoint:D,ray:A.ray,camera:M,stopPropagation(){const z="pointerId"in p&&N.capturedMap.get(p.pointerId);if((!z||z.has(b.eventObject))&&(H.stopped=x.stopped=!0,N.hovered.size&&Array.from(N.hovered.values()).find(k=>k.eventObject===b.eventObject))){const k=h.slice(0,h.indexOf(b));a([...k,b])}},target:{hasPointerCapture:I,setPointerCapture:O,releasePointerCapture:F},currentTarget:{hasPointerCapture:I,setPointerCapture:O,releasePointerCapture:F},nativeEvent:p};if(m(H),x.stopped===!0)break}}}return h}function a(h){const{internal:p}=n.getState();for(const g of p.hovered.values())if(!h.length||!h.find(m=>m.object===g.object&&m.index===g.index&&m.instanceId===g.instanceId)){const x=g.eventObject.__r3f;if(p.hovered.delete(Wx(g)),x!=null&&x.eventCount){const b=x.handlers,w={...g,intersections:h};b.onPointerOut==null||b.onPointerOut(w),b.onPointerLeave==null||b.onPointerLeave(w)}}}function l(h,p){for(let g=0;g<p.length;g++){const m=p[g].__r3f;m==null||m.handlers.onPointerMissed==null||m.handlers.onPointerMissed(h)}}function u(h){switch(h){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return p=>{const{internal:g}=n.getState();"pointerId"in p&&g.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{g.capturedMap.has(p.pointerId)&&(g.capturedMap.delete(p.pointerId),a([]))})}}return function(g){const{onPointerMissed:m,internal:x}=n.getState();x.lastEvent.current=g;const b=h==="onPointerMove",w=h==="onClick"||h==="onContextMenu"||h==="onDoubleClick",T=i(g,b?t:void 0),M=w?e(g):0;h==="onPointerDown"&&(x.initialClick=[g.offsetX,g.offsetY],x.initialHits=T.map(D=>D.eventObject)),w&&!T.length&&M<=2&&(l(g,x.interaction),m&&m(g)),b&&a(T);function N(D){const I=D.eventObject,O=I.__r3f;if(!(O!=null&&O.eventCount))return;const F=O.handlers;if(b){if(F.onPointerOver||F.onPointerEnter||F.onPointerOut||F.onPointerLeave){const B=Wx(D),H=x.hovered.get(B);H?H.stopped&&D.stopPropagation():(x.hovered.set(B,D),F.onPointerOver==null||F.onPointerOver(D),F.onPointerEnter==null||F.onPointerEnter(D))}F.onPointerMove==null||F.onPointerMove(D)}else{const B=F[h];B?(!w||x.initialHits.includes(I))&&(l(g,x.interaction.filter(H=>!x.initialHits.includes(H))),B(D)):w&&x.initialHits.includes(I)&&l(g,x.interaction.filter(H=>!x.initialHits.includes(H)))}}s(T,g,M,N)}}return{handlePointer:u}}const YN=n=>!!(n!=null&&n.render),nA=L.createContext(null),PJ=(n,e)=>{const t=BU((u,h)=>{const p=new K,g=new K,m=new K;function x(M=h().camera,N=g,D=h().size){const{width:I,height:O,top:F,left:B}=D,H=I/O;N.isVector3?m.copy(N):m.set(...N);const z=M.getWorldPosition(p).distanceTo(m);if(GU(M))return{width:I/M.zoom,height:O/M.zoom,top:F,left:B,factor:1,distance:z,aspect:H};{const k=M.fov*Math.PI/180,$=2*Math.tan(k/2)*z,se=$*(I/O);return{width:se,height:$,top:F,left:B,factor:I/se,distance:z,aspect:H}}}let b;const w=M=>u(N=>({performance:{...N.performance,current:M}})),A=new ke;return{set:u,get:h,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(M=1)=>n(h(),M),advance:(M,N)=>e(M,N,h()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new qE,pointer:A,mouse:A,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const M=h();b&&clearTimeout(b),M.performance.current!==M.performance.min&&w(M.performance.min),b=setTimeout(()=>w(h().performance.max),M.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:x},setEvents:M=>u(N=>({...N,events:{...N.events,...M}})),setSize:(M,N,D=0,I=0)=>{const O=h().camera,F={width:M,height:N,top:D,left:I};u(B=>({size:F,viewport:{...B.viewport,...x(O,g,F)}}))},setDpr:M=>u(N=>{const D=WU(M);return{viewport:{...N.viewport,dpr:D,initialDpr:N.viewport.initialDpr||D}}}),setFrameloop:(M="always")=>{const N=h().clock;N.stop(),N.elapsedTime=0,M!=="never"&&(N.start(),N.elapsedTime=0),u(()=>({frameloop:M}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:L.createRef(),active:!1,frames:0,priority:0,subscribe:(M,N,D)=>{const I=h().internal;return I.priority=I.priority+(N>0?1:0),I.subscribers.push({ref:M,priority:N,store:D}),I.subscribers=I.subscribers.sort((O,F)=>O.priority-F.priority),()=>{const O=h().internal;O!=null&&O.subscribers&&(O.priority=O.priority-(N>0?1:0),O.subscribers=O.subscribers.filter(F=>F.ref!==M))}}}}}),i=t.getState();let s=i.size,a=i.viewport.dpr,l=i.camera;return t.subscribe(()=>{const{camera:u,size:h,viewport:p,gl:g,set:m}=t.getState();if(h.width!==s.width||h.height!==s.height||p.dpr!==a){s=h,a=p.dpr,qU(u,h),p.dpr>0&&g.setPixelRatio(p.dpr);const x=typeof HTMLCanvasElement<"u"&&g.domElement instanceof HTMLCanvasElement;g.setSize(h.width,h.height,x)}u!==l&&(l=u,m(x=>({viewport:{...x.viewport,...x.viewport.getCurrentViewport(u)}})))}),t.subscribe(u=>n(u)),t};function iA(){const n=L.useContext(nA);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function $N(n=t=>t,e){return iA()(n,e)}function Bo(n,e=0){const t=iA(),i=t.getState().internal.subscribe,s=tA(n);return iy(()=>i(s,e,t),[e,i,t]),null}const IJ=1,LJ=8,OJ=32,UJ=2;var zJ={version:"9.5.0"};function FJ(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ZN={exports:{}},KN={exports:{}},QN;function BJ(){return QN||(QN=1,(function(n){n.exports=function(e){function t(c,f,v,_){return new _m(c,f,v,_)}function i(){}function s(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(c){var f=c,v=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(v=f.return),c=f.return;while(c)}return f.tag===3?v:null}function l(c){if(a(c)!==c)throw Error(s(188))}function u(c){var f=c.alternate;if(!f){if(f=a(c),f===null)throw Error(s(188));return f!==c?null:c}for(var v=c,_=f;;){var R=v.return;if(R===null)break;var P=R.alternate;if(P===null){if(_=R.return,_!==null){v=_;continue}break}if(R.child===P.child){for(P=R.child;P;){if(P===v)return l(R),c;if(P===_)return l(R),f;P=P.sibling}throw Error(s(188))}if(v.return!==_.return)v=R,_=P;else{for(var j=!1,re=R.child;re;){if(re===v){j=!0,v=R,_=P;break}if(re===_){j=!0,_=R,v=P;break}re=re.sibling}if(!j){for(re=P.child;re;){if(re===v){j=!0,v=P,_=R;break}if(re===_){j=!0,_=P,v=R;break}re=re.sibling}if(!j)throw Error(s(189))}}if(v.alternate!==_)throw Error(s(190))}if(v.tag!==3)throw Error(s(188));return v.stateNode.current===v?c:f}function h(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=h(c),f!==null)return f;c=c.sibling}return null}function p(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(c.tag!==4&&(f=p(c),f!==null))return f;c=c.sibling}return null}function g(c){return c===null||typeof c!="object"?null:(c=fo&&c[fo]||c["@@iterator"],typeof c=="function"?c:null)}function m(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===tl?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case Zl:return"Fragment";case Ql:return"Profiler";case Kl:return"StrictMode";case Qd:return"Suspense";case uo:return"SuspenseList";case xf:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case $l:return"Portal";case Or:return c.displayName||"Context";case vf:return(c._context.displayName||"Context")+".Consumer";case Jc:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case Jd:return f=c.displayName||null,f!==null?f:m(c.type)||"Memo";case Ps:f=c._payload,c=c._init;try{return m(c(f))}catch{}}return null}function x(c){return{current:c}}function b(c){0>ic||(c.current=dh[ic],dh[ic]=null,ic--)}function w(c,f){ic++,dh[ic]=c.current,c.current=f}function A(c){return c>>>=0,c===0?32:31-(hh(c)/bv|0)|0}function T(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function M(c,f,v){var _=c.pendingLanes;if(_===0)return 0;var R=0,P=c.suspendedLanes,j=c.pingedLanes;c=c.warmLanes;var re=_&134217727;return re!==0?(_=re&~P,_!==0?R=T(_):(j&=re,j!==0?R=T(j):v||(v=re&~c,v!==0&&(R=T(v))))):(re=_&~P,re!==0?R=T(re):j!==0?R=T(j):v||(v=_&~c,v!==0&&(R=T(v)))),R===0?0:f!==0&&f!==R&&(f&P)===0&&(P=R&-R,v=f&-f,P>=v||P===32&&(v&4194048)!==0)?f:R}function N(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function D(c,f){switch(c){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I(){var c=au;return au<<=1,(au&62914560)===0&&(au=4194304),c}function O(c){for(var f=[],v=0;31>v;v++)f.push(c);return f}function F(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function B(c,f,v,_,R,P){var j=c.pendingLanes;c.pendingLanes=v,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=v,c.entangledLanes&=v,c.errorRecoveryDisabledLanes&=v,c.shellSuspendCounter=0;var re=c.entanglements,De=c.expirationTimes,We=c.hiddenUpdates;for(v=j&~v;0<v;){var st=31-Ws(v),Ye=1<<st;re[st]=0,De[st]=-1;var vt=We[st];if(vt!==null)for(We[st]=null,st=0;st<vt.length;st++){var en=vt[st];en!==null&&(en.lane&=-536870913)}v&=~Ye}_!==0&&H(c,_,0),P!==0&&R===0&&c.tag!==0&&(c.suspendedLanes|=P&~(j&~f))}function H(c,f,v){c.pendingLanes|=f,c.suspendedLanes&=~f;var _=31-Ws(f);c.entangledLanes|=f,c.entanglements[_]=c.entanglements[_]|1073741824|v&261930}function z(c,f){var v=c.entangledLanes|=f;for(c=c.entanglements;v;){var _=31-Ws(v),R=1<<_;R&f|c[_]&f&&(c[_]|=f),v&=~R}}function k(c,f){var v=f&-f;return v=(v&42)!==0?1:$(v),(v&(c.suspendedLanes|f))!==0?0:v}function $(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function se(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function ee(c){if(typeof ag=="function"&&wv(c),Xs&&typeof Xs.setStrictMode=="function")try{Xs.setStrictMode(rc,c)}catch{}}function ne(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}function ae(c){if(xh===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);xh=f&&f[1]||"",za=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xh+c+za}function X(c,f){if(!c||Cf)return"";Cf=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var _={DetermineComponentFrameRoot:function(){try{if(f){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(en){var vt=en}Reflect.construct(c,[],Ye)}else{try{Ye.call()}catch(en){vt=en}c.call(Ye.prototype)}}else{try{throw Error()}catch(en){vt=en}(Ye=c())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(en){if(en&&vt&&typeof en.stack=="string")return[en.stack,vt.stack]}return[null,null]}};_.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(_.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(_.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=_.DetermineComponentFrameRoot(),j=P[0],re=P[1];if(j&&re){var De=j.split(`
`),We=re.split(`
`);for(R=_=0;_<De.length&&!De[_].includes("DetermineComponentFrameRoot");)_++;for(;R<We.length&&!We[R].includes("DetermineComponentFrameRoot");)R++;if(_===De.length||R===We.length)for(_=De.length-1,R=We.length-1;1<=_&&0<=R&&De[_]!==We[R];)R--;for(;1<=_&&0<=R;_--,R--)if(De[_]!==We[R]){if(_!==1||R!==1)do if(_--,R--,0>R||De[_]!==We[R]){var st=`
`+De[_].replace(" at new "," at ");return c.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",c.displayName)),st}while(1<=_&&0<=R);break}}}finally{Cf=!1,Error.prepareStackTrace=v}return(v=c?c.displayName||c.name:"")?ae(v):""}function Z(c,f){switch(c.tag){case 26:case 27:case 5:return ae(c.type);case 16:return ae("Lazy");case 13:return c.child!==f&&f!==null?ae("Suspense Fallback"):ae("Suspense");case 19:return ae("SuspenseList");case 0:case 15:return X(c.type,!1);case 11:return X(c.type.render,!1);case 1:return X(c.type,!0);case 31:return ae("Activity");default:return""}}function Q(c){try{var f="",v=null;do f+=Z(c,v),v=c,c=c.return;while(c);return f}catch(_){return`
Error generating stack: `+_.message+`
`+_.stack}}function ye(c,f){if(typeof c=="object"&&c!==null){var v=og.get(c);return v!==void 0?v:(f={value:c,source:f,stack:Q(f)},og.set(c,f),f)}return{value:c,source:f,stack:Q(f)}}function Se(c,f){mo[Fa++]=Rf,mo[Fa++]=Wn,Wn=c,Rf=f}function q(c,f,v){Fr[pr++]=us,Fr[pr++]=ca,Fr[pr++]=Br,Br=c;var _=us;c=ca;var R=32-Ws(_)-1;_&=~(1<<R),v+=1;var P=32-Ws(f)+R;if(30<P){var j=R-R%5;P=(_&(1<<j)-1).toString(32),_>>=j,R-=j,us=1<<32-Ws(f)+R|v<<R|_,ca=P+c}else us=1<<P|v<<R|_,ca=c}function ue(c){c.return!==null&&(Se(c,1),q(c,1,0))}function fe(c){for(;c===Wn;)Wn=mo[--Fa],mo[Fa]=null,Rf=mo[--Fa],mo[Fa]=null;for(;c===Br;)Br=Fr[--pr],Fr[pr]=null,ca=Fr[--pr],Fr[pr]=null,us=Fr[--pr],Fr[pr]=null}function Te(c,f){Fr[pr++]=us,Fr[pr++]=ca,Fr[pr++]=Br,us=f.id,ca=f.overflow,Br=c}function Ve(c,f){w(fs,f),w(go,c),w(ns,null),c=Uy(f),b(ns),w(ns,c)}function he(){b(ns),b(go),b(fs)}function ve(c){c.memoizedState!==null&&w(Nf,c);var f=ns.current,v=nu(f,c.type);f!==v&&(w(go,c),w(ns,v))}function Fe(c){go.current===c&&(b(ns),b(go)),Nf.current===c&&(b(Nf),_i?tc._currentValue=ec:tc._currentValue2=ec)}function Ze(c){var f=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qe(ye(f,c)),bh}function rt(c,f){if(!ri)throw Error(s(175));lv(c.stateNode,c.type,c.memoizedProps,f,c)||Ze(c,!0)}function kt(c){for(Xi=c.return;Xi;)switch(Xi.tag){case 5:case 31:case 13:Ls=!1;return;case 27:case 3:Ls=!0;return;default:Xi=Xi.return}}function Vt(c){if(!ri||c!==Xi)return!1;if(!vn)return kt(c),vn=!0,!1;var f=c.tag;if(Wi?f!==3&&f!==27&&(f!==5||ru(c.type)&&!Is(c.type,c.memoizedProps))&&ai&&Ze(c):f!==3&&(f!==5||ru(c.type)&&!Is(c.type,c.memoizedProps))&&ai&&Ze(c),kt(c),f===13){if(!ri)throw Error(s(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));ai=$m(c)}else if(f===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));ai=uv(c)}else ai=Wi&&f===27?ev(c.type,ai):Xi?Jy(c.stateNode):null;return!0}function Pt(){ri&&(ai=Xi=null,vn=!1)}function Le(){var c=Ba;return c!==null&&($s===null?$s=c:$s.push.apply($s,c),Ba=null),c}function qe(c){Ba===null?Ba=[c]:Ba.push(c)}function Oe(c,f,v){_i?(w(kr,f._currentValue),f._currentValue=v):(w(kr,f._currentValue2),f._currentValue2=v)}function et(c){var f=kr.current;_i?c._currentValue=f:c._currentValue2=f,b(kr)}function J(c,f,v){for(;c!==null;){var _=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,_!==null&&(_.childLanes|=f)):_!==null&&(_.childLanes&f)!==f&&(_.childLanes|=f),c===v)break;c=c.return}}function xt(c,f,v,_){var R=c.child;for(R!==null&&(R.return=c);R!==null;){var P=R.dependencies;if(P!==null){var j=R.child;P=P.firstContext;e:for(;P!==null;){var re=P;P=R;for(var De=0;De<f.length;De++)if(re.context===f[De]){P.lanes|=v,re=P.alternate,re!==null&&(re.lanes|=v),J(P.return,v,c),_||(j=null);break e}P=re.next}}else if(R.tag===18){if(j=R.return,j===null)throw Error(s(341));j.lanes|=v,P=j.alternate,P!==null&&(P.lanes|=v),J(j,v,c),j=null}else j=R.child;if(j!==null)j.return=R;else for(j=R;j!==null;){if(j===c){j=null;break}if(R=j.sibling,R!==null){R.return=j.return,j=R;break}j=j.return}R=j}}function ot(c,f,v,_){c=null;for(var R=f,P=!1;R!==null;){if(!P){if((R.flags&524288)!==0)P=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var j=R.alternate;if(j===null)throw Error(s(387));if(j=j.memoizedProps,j!==null){var re=R.type;wi(R.pendingProps.value,j.value)||(c!==null?c.push(re):c=[re])}}else if(R===Nf.current){if(j=R.alternate,j===null)throw Error(s(387));j.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(c!==null?c.push(tc):c=[tc])}R=R.return}c!==null&&xt(f,c,v,_),f.flags|=262144}function Nt(c){for(c=c.firstContext;c!==null;){var f=c.context;if(!wi(_i?f._currentValue:f._currentValue2,c.memoizedValue))return!0;c=c.next}return!1}function He(c){Qn=c,ua=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Y(c){return ce(Qn,c)}function V(c,f){return Qn===null&&He(c),ce(c,f)}function ce(c,f){var v=_i?f._currentValue:f._currentValue2;if(f={context:f,memoizedValue:v,next:null},ua===null){if(c===null)throw Error(s(308));ua=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else ua=ua.next=f;return v}function Ce(){return{controller:new Mv,data:new Map,refCount:0}}function Ue(c){c.refCount--,c.refCount===0&&is(H_,function(){c.controller.abort()})}function Ne(){}function ft(c){c!==Bn&&c.next===null&&(Bn===null?Df=Bn=c:Bn=Bn.next=c),Vr=!0,Ss||(Ss=!0,dt())}function Ke(c,f){if(!_h&&Vr){_h=!0;do for(var v=!1,_=Df;_!==null;){if(c!==0){var R=_.pendingLanes;if(R===0)var P=0;else{var j=_.suspendedLanes,re=_.pingedLanes;P=(1<<31-Ws(42|c)+1)-1,P&=R&~(j&~re),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(v=!0,pt(_,P))}else P=xn,P=M(_,_===cn?P:0,_.cancelPendingCommit!==null||_.timeoutHandle!==Gs),(P&3)===0||N(_,P)||(v=!0,pt(_,P));_=_.next}while(v);_h=!1}}function bt(){Dt()}function Dt(){Vr=Ss=!1;var c=0;al!==0&&Jl()&&(c=al);for(var f=_s(),v=null,_=Df;_!==null;){var R=_.next,P=Xe(_,f);P===0?(_.next=null,v===null?Df=R:v.next=R,R===null&&(Bn=v)):(v=_,(c!==0||(P&3)!==0)&&(Vr=!0)),_=R}zi!==0&&zi!==5||Ke(c),al!==0&&(al=0)}function Xe(c,f){for(var v=c.suspendedLanes,_=c.pingedLanes,R=c.expirationTimes,P=c.pendingLanes&-62914561;0<P;){var j=31-Ws(P),re=1<<j,De=R[j];De===-1?((re&v)===0||(re&_)!==0)&&(R[j]=D(re,f)):De<=f&&(c.expiredLanes|=re),P&=~re}if(f=cn,v=xn,v=M(c,c===f?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==Gs),_=c.callbackNode,v===0||c===f&&(Vn===2||Vn===9)||c.cancelPendingCommit!==null)return _!==null&&_!==null&&mh(_),c.callbackNode=null,c.callbackPriority=0;if((v&3)===0||N(c,v)){if(f=v&-v,f===c.callbackPriority)return f;switch(_!==null&&mh(_),se(v)){case 2:case 8:v=Sv;break;case 32:v=Af;break;case 268435456:v=yh;break;default:v=Af}return _=Je.bind(null,c),v=Ef(v,_),c.callbackPriority=f,c.callbackNode=v,f}return _!==null&&_!==null&&mh(_),c.callbackPriority=2,c.callbackNode=null,2}function Je(c,f){if(zi!==0&&zi!==5)return c.callbackNode=null,c.callbackPriority=0,null;var v=c.callbackNode;if(La()&&c.callbackNode!==v)return null;var _=xn;return _=M(c,c===cn?_:0,c.cancelPendingCommit!==null||c.timeoutHandle!==Gs),_===0?null:(la(c,_,f),Xe(c,_s()),c.callbackNode!=null&&c.callbackNode===v?Je.bind(null,c):null)}function pt(c,f){if(La())return null;la(c,f,!0)}function dt(){Im?Lm(function(){(pn&6)!==0?Ef(gh,bt):Dt()}):Ef(gh,bt)}function at(){if(al===0){var c=yo;c===0&&(c=ph,ph<<=1,(ph&261888)===0&&(ph=256)),al=c}return al}function Kt(c,f){if(ou===null){var v=ou=[];lg=0,yo=at(),qi={status:"pending",value:void 0,then:function(_){v.push(_)}}}return lg++,f.then(oe,oe),f}function oe(){if(--lg===0&&ou!==null){qi!==null&&(qi.status="fulfilled");var c=ou;ou=null,yo=0,qi=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function lt(c,f){var v=[],_={status:"pending",value:null,reason:null,then:function(R){v.push(R)}};return c.then(function(){_.status="fulfilled",_.value=f;for(var R=0;R<v.length;R++)(0,v[R])(f)},function(R){for(_.status="rejected",_.reason=R,R=0;R<v.length;R++)(0,v[R])(void 0)}),_}function Qe(){var c=ol.current;return c!==null?c:cn.pooledCache}function ct(c,f){f===null?w(ol,ol.current):w(ol,f.pool)}function je(){var c=Qe();return c===null?null:{parent:_i?oi._currentValue:oi._currentValue2,pool:c}}function xe(c,f){if(wi(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var v=Object.keys(c),_=Object.keys(f);if(v.length!==_.length)return!1;for(_=0;_<v.length;_++){var R=v[_];if(!V_.call(f,R)||!wi(c[R],f[R]))return!1}return!0}function Ge(c){return c=c.status,c==="fulfilled"||c==="rejected"}function wt(c,f,v){switch(v=c[v],v===void 0?c.push(f):v!==f&&(f.then(Ne,Ne),f=v),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,wn(c),c;default:if(typeof f.status=="string")f.then(Ne,Ne);else{if(c=cn,c!==null&&100<c.shellSuspendCounter)throw Error(s(482));c=f,c.status="pending",c.then(function(_){if(f.status==="pending"){var R=f;R.status="fulfilled",R.value=_}},function(_){if(f.status==="pending"){var R=f;R.status="rejected",R.reason=_}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,wn(c),c}throw Os=f,Yi}}function Gt(c){try{var f=c._init;return f(c._payload)}catch(v){throw v!==null&&typeof v=="object"&&typeof v.then=="function"?(Os=v,Yi):v}}function fn(){if(Os===null)throw Error(s(459));var c=Os;return Os=null,c}function wn(c){if(c===Yi||c===jr)throw Error(s(483))}function Yn(c){var f=ac;return ac+=1,ll===null&&(ll=[]),wt(ll,c,f)}function sr(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function Di(c,f){throw f.$$typeof===Yl?Error(s(525)):(c=Object.prototype.toString.call(f),Error(s(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function Vi(c){function f(Me,ge){if(c){var Re=Me.deletions;Re===null?(Me.deletions=[ge],Me.flags|=16):Re.push(ge)}}function v(Me,ge){if(!c)return null;for(;ge!==null;)f(Me,ge),ge=ge.sibling;return null}function _(Me){for(var ge=new Map;Me!==null;)Me.key!==null?ge.set(Me.key,Me):ge.set(Me.index,Me),Me=Me.sibling;return ge}function R(Me,ge){return Me=dr(Me,ge),Me.index=0,Me.sibling=null,Me}function P(Me,ge,Re){return Me.index=Re,c?(Re=Me.alternate,Re!==null?(Re=Re.index,Re<ge?(Me.flags|=67108866,ge):Re):(Me.flags|=67108866,ge)):(Me.flags|=1048576,ge)}function j(Me){return c&&Me.alternate===null&&(Me.flags|=67108866),Me}function re(Me,ge,Re,nt){return ge===null||ge.tag!==6?(ge=Sm(Re,Me.mode,nt),ge.return=Me,ge):(ge=R(ge,Re),ge.return=Me,ge)}function De(Me,ge,Re,nt){var Bt=Re.type;return Bt===Zl?st(Me,ge,Re.props.children,nt,Re.key):ge!==null&&(ge.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===Ps&&Gt(Bt)===ge.type)?(ge=R(ge,Re.props),sr(ge,Re),ge.return=Me,ge):(ge=co(Re.type,Re.key,Re.props,null,Me.mode,nt),sr(ge,Re),ge.return=Me,ge)}function We(Me,ge,Re,nt){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Re.containerInfo||ge.stateNode.implementation!==Re.implementation?(ge=Mm(Re,Me.mode,nt),ge.return=Me,ge):(ge=R(ge,Re.children||[]),ge.return=Me,ge)}function st(Me,ge,Re,nt,Bt){return ge===null||ge.tag!==7?(ge=Lr(Re,Me.mode,nt,Bt),ge.return=Me,ge):(ge=R(ge,Re),ge.return=Me,ge)}function Ye(Me,ge,Re){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ge=Sm(""+ge,Me.mode,Re),ge.return=Me,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case Oa:return Re=co(ge.type,ge.key,ge.props,null,Me.mode,Re),sr(Re,ge),Re.return=Me,Re;case $l:return ge=Mm(ge,Me.mode,Re),ge.return=Me,ge;case Ps:return ge=Gt(ge),Ye(Me,ge,Re)}if(nl(ge)||g(ge))return ge=Lr(ge,Me.mode,Re,null),ge.return=Me,ge;if(typeof ge.then=="function")return Ye(Me,Yn(ge),Re);if(ge.$$typeof===Or)return Ye(Me,V(Me,ge),Re);Di(Me,ge)}return null}function vt(Me,ge,Re,nt){var Bt=ge!==null?ge.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return Bt!==null?null:re(Me,ge,""+Re,nt);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case Oa:return Re.key===Bt?De(Me,ge,Re,nt):null;case $l:return Re.key===Bt?We(Me,ge,Re,nt):null;case Ps:return Re=Gt(Re),vt(Me,ge,Re,nt)}if(nl(Re)||g(Re))return Bt!==null?null:st(Me,ge,Re,nt,null);if(typeof Re.then=="function")return vt(Me,ge,Yn(Re),nt);if(Re.$$typeof===Or)return vt(Me,ge,V(Me,Re),nt);Di(Me,Re)}return null}function en(Me,ge,Re,nt,Bt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return Me=Me.get(Re)||null,re(ge,Me,""+nt,Bt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case Oa:return Me=Me.get(nt.key===null?Re:nt.key)||null,De(ge,Me,nt,Bt);case $l:return Me=Me.get(nt.key===null?Re:nt.key)||null,We(ge,Me,nt,Bt);case Ps:return nt=Gt(nt),en(Me,ge,Re,nt,Bt)}if(nl(nt)||g(nt))return Me=Me.get(Re)||null,st(ge,Me,nt,Bt,null);if(typeof nt.then=="function")return en(Me,ge,Re,Yn(nt),Bt);if(nt.$$typeof===Or)return en(Me,ge,Re,V(ge,nt),Bt);Di(ge,nt)}return null}function Ei(Me,ge,Re,nt){for(var Bt=null,mi=null,jt=ge,An=ge=0,ss=null;jt!==null&&An<Re.length;An++){jt.index>An?(ss=jt,jt=null):ss=jt.sibling;var In=vt(Me,jt,Re[An],nt);if(In===null){jt===null&&(jt=ss);break}c&&jt&&In.alternate===null&&f(Me,jt),ge=P(In,ge,An),mi===null?Bt=In:mi.sibling=In,mi=In,jt=ss}if(An===Re.length)return v(Me,jt),vn&&Se(Me,An),Bt;if(jt===null){for(;An<Re.length;An++)jt=Ye(Me,Re[An],nt),jt!==null&&(ge=P(jt,ge,An),mi===null?Bt=jt:mi.sibling=jt,mi=jt);return vn&&Se(Me,An),Bt}for(jt=_(jt);An<Re.length;An++)ss=en(jt,Me,An,Re[An],nt),ss!==null&&(c&&ss.alternate!==null&&jt.delete(ss.key===null?An:ss.key),ge=P(ss,ge,An),mi===null?Bt=ss:mi.sibling=ss,mi=ss);return c&&jt.forEach(function(Xr){return f(Me,Xr)}),vn&&Se(Me,An),Bt}function mu(Me,ge,Re,nt){if(Re==null)throw Error(s(151));for(var Bt=null,mi=null,jt=ge,An=ge=0,ss=null,In=Re.next();jt!==null&&!In.done;An++,In=Re.next()){jt.index>An?(ss=jt,jt=null):ss=jt.sibling;var Xr=vt(Me,jt,In.value,nt);if(Xr===null){jt===null&&(jt=ss);break}c&&jt&&Xr.alternate===null&&f(Me,jt),ge=P(Xr,ge,An),mi===null?Bt=Xr:mi.sibling=Xr,mi=Xr,jt=ss}if(In.done)return v(Me,jt),vn&&Se(Me,An),Bt;if(jt===null){for(;!In.done;An++,In=Re.next())In=Ye(Me,In.value,nt),In!==null&&(ge=P(In,ge,An),mi===null?Bt=In:mi.sibling=In,mi=In);return vn&&Se(Me,An),Bt}for(jt=_(jt);!In.done;An++,In=Re.next())In=en(jt,Me,An,In.value,nt),In!==null&&(c&&In.alternate!==null&&jt.delete(In.key===null?An:In.key),ge=P(In,ge,An),mi===null?Bt=In:mi.sibling=In,mi=In);return c&&jt.forEach(function(j_){return f(Me,j_)}),vn&&Se(Me,An),Bt}function gl(Me,ge,Re,nt){if(typeof Re=="object"&&Re!==null&&Re.type===Zl&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case Oa:e:{for(var Bt=Re.key;ge!==null;){if(ge.key===Bt){if(Bt=Re.type,Bt===Zl){if(ge.tag===7){v(Me,ge.sibling),nt=R(ge,Re.props.children),nt.return=Me,Me=nt;break e}}else if(ge.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===Ps&&Gt(Bt)===ge.type){v(Me,ge.sibling),nt=R(ge,Re.props),sr(nt,Re),nt.return=Me,Me=nt;break e}v(Me,ge);break}else f(Me,ge);ge=ge.sibling}Re.type===Zl?(nt=Lr(Re.props.children,Me.mode,nt,Re.key),nt.return=Me,Me=nt):(nt=co(Re.type,Re.key,Re.props,null,Me.mode,nt),sr(nt,Re),nt.return=Me,Me=nt)}return j(Me);case $l:e:{for(Bt=Re.key;ge!==null;){if(ge.key===Bt)if(ge.tag===4&&ge.stateNode.containerInfo===Re.containerInfo&&ge.stateNode.implementation===Re.implementation){v(Me,ge.sibling),nt=R(ge,Re.children||[]),nt.return=Me,Me=nt;break e}else{v(Me,ge);break}else f(Me,ge);ge=ge.sibling}nt=Mm(Re,Me.mode,nt),nt.return=Me,Me=nt}return j(Me);case Ps:return Re=Gt(Re),gl(Me,ge,Re,nt)}if(nl(Re))return Ei(Me,ge,Re,nt);if(g(Re)){if(Bt=g(Re),typeof Bt!="function")throw Error(s(150));return Re=Bt.call(Re),mu(Me,ge,Re,nt)}if(typeof Re.then=="function")return gl(Me,ge,Yn(Re),nt);if(Re.$$typeof===Or)return gl(Me,ge,V(Me,Re),nt);Di(Me,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint"?(Re=""+Re,ge!==null&&ge.tag===6?(v(Me,ge.sibling),nt=R(ge,Re),nt.return=Me,Me=nt):(v(Me,ge),nt=Sm(Re,Me.mode,nt),nt.return=Me,Me=nt),j(Me)):v(Me,ge)}return function(Me,ge,Re,nt){try{ac=0;var Bt=gl(Me,ge,Re,nt);return ll=null,Bt}catch(jt){if(jt===Yi||jt===jr)throw jt;var mi=t(29,jt,null,Me.mode);return mi.lanes=nt,mi.return=Me,mi}}}function ra(){for(var c=Va,f=oc=Va=0;f<c;){var v=hs[f];hs[f++]=null;var _=hs[f];hs[f++]=null;var R=hs[f];hs[f++]=null;var P=hs[f];if(hs[f++]=null,_!==null&&R!==null){var j=_.pending;j===null?R.next=R:(R.next=j.next,j.next=R),_.pending=R}P!==0&&rr(v,R,P)}}function ls(c,f,v,_){hs[Va++]=c,hs[Va++]=f,hs[Va++]=v,hs[Va++]=_,oc|=_,c.lanes|=_,c=c.alternate,c!==null&&(c.lanes|=_)}function ko(c,f,v,_){return ls(c,f,v,_),li(c)}function xs(c,f){return ls(c,null,null,f),li(c)}function rr(c,f,v){c.lanes|=v;var _=c.alternate;_!==null&&(_.lanes|=v);for(var R=!1,P=c.return;P!==null;)P.childLanes|=v,_=P.alternate,_!==null&&(_.childLanes|=v),P.tag===22&&(c=P.stateNode,c===null||c._visibility&1||(R=!0)),c=P,P=P.return;return c.tag===3?(P=c.stateNode,R&&f!==null&&(R=31-Ws(v),c=P.hiddenUpdates,_=c[R],_===null?c[R]=[f]:_.push(f),f.lane=v|536870912),P):null}function li(c){if(50<Pn)throw Pn=0,zf=null,Error(s(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}function Hi(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ar(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function or(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function lr(c,f,v){var _=c.updateQueue;if(_===null)return null;if(_=_.shared,(pn&2)!==0){var R=_.pending;return R===null?f.next=f:(f.next=R.next,R.next=f),_.pending=f,f=li(c),rr(c,null,v),f}return ls(c,_,f,v),li(c)}function Vo(c,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194048)!==0)){var _=f.lanes;_&=c.pendingLanes,v|=_,f.lanes=v,z(c,v)}}function zl(c,f){var v=c.updateQueue,_=c.alternate;if(_!==null&&(_=_.updateQueue,v===_)){var R=null,P=null;if(v=v.firstBaseUpdate,v!==null){do{var j={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};P===null?R=P=j:P=P.next=j,v=v.next}while(v!==null);P===null?R=P=f:P=P.next=f}else R=P=f;v={baseState:_.baseState,firstBaseUpdate:R,lastBaseUpdate:P,shared:_.shared,callbacks:_.callbacks},c.updateQueue=v;return}c=v.lastBaseUpdate,c===null?v.firstBaseUpdate=f:c.next=f,v.lastBaseUpdate=f}function aa(){if(wh){var c=qi;if(c!==null)throw c}}function eo(c,f,v,_){wh=!1;var R=c.updateQueue;mr=!1;var P=R.firstBaseUpdate,j=R.lastBaseUpdate,re=R.shared.pending;if(re!==null){R.shared.pending=null;var De=re,We=De.next;De.next=null,j===null?P=We:j.next=We,j=De;var st=c.alternate;st!==null&&(st=st.updateQueue,re=st.lastBaseUpdate,re!==j&&(re===null?st.firstBaseUpdate=We:re.next=We,st.lastBaseUpdate=De))}if(P!==null){var Ye=R.baseState;j=0,st=We=De=null,re=P;do{var vt=re.lane&-536870913,en=vt!==re.lane;if(en?(xn&vt)===vt:(_&vt)===vt){vt!==0&&vt===yo&&(wh=!0),st!==null&&(st=st.next={lane:0,tag:re.tag,payload:re.payload,callback:null,next:null});e:{var Ei=c,mu=re;vt=f;var gl=v;switch(mu.tag){case 1:if(Ei=mu.payload,typeof Ei=="function"){Ye=Ei.call(gl,Ye,vt);break e}Ye=Ei;break e;case 3:Ei.flags=Ei.flags&-65537|128;case 0:if(Ei=mu.payload,vt=typeof Ei=="function"?Ei.call(gl,Ye,vt):Ei,vt==null)break e;Ye=Kd({},Ye,vt);break e;case 2:mr=!0}}vt=re.callback,vt!==null&&(c.flags|=64,en&&(c.flags|=8192),en=R.callbacks,en===null?R.callbacks=[vt]:en.push(vt))}else en={lane:vt,tag:re.tag,payload:re.payload,callback:re.callback,next:null},st===null?(We=st=en,De=Ye):st=st.next=en,j|=vt;if(re=re.next,re===null){if(re=R.shared.pending,re===null)break;en=re,re=en.next,en.next=null,R.lastBaseUpdate=en,R.shared.pending=null}}while(!0);st===null&&(De=Ye),R.baseState=De,R.firstBaseUpdate=We,R.lastBaseUpdate=st,P===null&&(R.shared.lanes=0),xo|=j,c.lanes=j,c.memoizedState=Ye}}function to(c,f){if(typeof c!="function")throw Error(s(191,c));c.call(f)}function no(c,f){var v=c.callbacks;if(v!==null)for(c.callbacks=null,c=0;c<v.length;c++)to(v[c],f)}function Ho(c,f){c=ja,w(cl,c),w(lc,f),ja=c|f.baseLanes}function Sa(){w(cl,ja),w(lc,lc.current)}function G(){ja=cl.current,b(lc),b(cl)}function de(c){var f=c.alternate;w(vi,vi.current&1),w(qs,c),Ys===null&&(f===null||lc.current!==null||f.memoizedState!==null)&&(Ys=c)}function Ae(c){w(vi,vi.current),w(qs,c),Ys===null&&(Ys=c)}function we(c){c.tag===22?(w(vi,vi.current),w(qs,c),Ys===null&&(Ys=c)):me()}function me(){w(vi,vi.current),w(qs,qs.current)}function tt(c){b(qs),Ys===c&&(Ys=null),b(vi)}function gt(c){for(var f=c;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||sl(v)||rh(v)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function $e(){throw Error(s(321))}function _t(c,f){if(f===null)return!1;for(var v=0;v<f.length&&v<c.length;v++)if(!wi(c[v],f[v]))return!1;return!0}function Mt(c,f,v,_,R,P){return vo=P,nn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,zt.H=c===null||c.memoizedState===null?di:Ha,Mn=!1,P=v(_,R),Mn=!1,rn&&(P=Et(f,v,_,R)),Ut(c),P}function Ut(c){zt.H=gr;var f=Lt!==null&&Lt.next!==null;if(vo=0,Zt=Lt=nn=null,ln=!1,Gr=0,fa=null,f)throw Error(s(300));c===null||ni||(c=c.dependencies,c!==null&&Nt(c)&&(ni=!0))}function Et(c,f,v,_){nn=c;var R=0;do{if(rn&&(fa=null),Gr=0,rn=!1,25<=R)throw Error(s(301));if(R+=1,Zt=Lt=null,c.updateQueue!=null){var P=c.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}zt.H=ul,P=f(v,_)}while(rn);return P}function Ht(){var c=zt.H,f=c.useState()[0];return f=typeof f.then=="function"?Wt(f):f,c=c.useState()[0],(Lt!==null?Lt.memoizedState:null)!==c&&(nn.flags|=1024),f}function Dn(){var c=ws!==0;return ws=0,c}function $n(c,f,v){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~v}function jn(c){if(ln){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}ln=!1}vo=0,Zt=Lt=nn=null,rn=!1,Gr=ws=0,fa=null}function Qt(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?nn.memoizedState=Zt=c:Zt=Zt.next=c,Zt}function ut(){if(Lt===null){var c=nn.alternate;c=c!==null?c.memoizedState:null}else c=Lt.next;var f=Zt===null?nn.memoizedState:Zt.next;if(f!==null)Zt=f,Lt=c;else{if(c===null)throw nn.alternate===null?Error(s(467)):Error(s(310));Lt=c,c={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Zt===null?nn.memoizedState=Zt=c:Zt=Zt.next=c}return Zt}function En(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wt(c){var f=Gr;return Gr+=1,fa===null&&(fa=[]),c=wt(fa,c,f),f=nn,(Zt===null?f.memoizedState:Zt.next)===null&&(f=f.alternate,zt.H=f===null||f.memoizedState===null?di:Ha),c}function Pi(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Wt(c);if(c.$$typeof===Or)return Y(c)}throw Error(s(438,String(c)))}function oa(c){var f=null,v=nn.updateQueue;if(v!==null&&(f=v.memoCache),f==null){var _=nn.alternate;_!==null&&(_=_.updateQueue,_!==null&&(_=_.memoCache,_!=null&&(f={data:_.data.map(function(R){return R.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),v===null&&(v=En(),nn.updateQueue=v),v.memoCache=f,v=f.data[f.index],v===void 0)for(v=f.data[f.index]=Array(c),_=0;_<c;_++)v[_]=Em;return f.index++,v}function ti(c,f){return typeof f=="function"?f(c):f}function Cs(c){var f=ut();return On(f,Lt,c)}function On(c,f,v){var _=c.queue;if(_===null)throw Error(s(311));_.lastRenderedReducer=v;var R=c.baseQueue,P=_.pending;if(P!==null){if(R!==null){var j=R.next;R.next=P.next,P.next=j}f.baseQueue=R=P,_.pending=null}if(P=c.baseState,R===null)c.memoizedState=P;else{f=R.next;var re=j=null,De=null,We=f,st=!1;do{var Ye=We.lane&-536870913;if(Ye!==We.lane?(xn&Ye)===Ye:(vo&Ye)===Ye){var vt=We.revertLane;if(vt===0)De!==null&&(De=De.next={lane:0,revertLane:0,gesture:null,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),Ye===yo&&(st=!0);else if((vo&vt)===vt){We=We.next,vt===yo&&(st=!0);continue}else Ye={lane:0,revertLane:We.revertLane,gesture:null,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},De===null?(re=De=Ye,j=P):De=De.next=Ye,nn.lanes|=vt,xo|=vt;Ye=We.action,Mn&&v(P,Ye),P=We.hasEagerState?We.eagerState:v(P,Ye)}else vt={lane:Ye,revertLane:We.revertLane,gesture:We.gesture,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},De===null?(re=De=vt,j=P):De=De.next=vt,nn.lanes|=Ye,xo|=Ye;We=We.next}while(We!==null&&We!==f);if(De===null?j=P:De.next=re,!wi(P,c.memoizedState)&&(ni=!0,st&&(v=qi,v!==null)))throw v;c.memoizedState=P,c.baseState=j,c.baseQueue=De,_.lastRenderedState=P}return R===null&&(_.lanes=0),[c.memoizedState,_.dispatch]}function ji(c){var f=ut(),v=f.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=c;var _=v.dispatch,R=v.pending,P=f.memoizedState;if(R!==null){v.pending=null;var j=R=R.next;do P=c(P,j.action),j=j.next;while(j!==R);wi(P,f.memoizedState)||(ni=!0),f.memoizedState=P,f.baseQueue===null&&(f.baseState=P),v.lastRenderedState=P}return[P,_]}function Ii(c,f,v){var _=nn,R=ut(),P=vn;if(P){if(v===void 0)throw Error(s(407));v=v()}else v=f();var j=!wi((Lt||R).memoizedState,v);if(j&&(R.memoizedState=v,ni=!0),R=R.queue,Oc(Fl.bind(null,_,R,c),[c]),R.getSnapshot!==f||j||Zt!==null&&Zt.memoizedState.tag&1){if(_.flags|=2048,cr(9,{destroy:void 0},Qi.bind(null,_,R,v,f),null),cn===null)throw Error(s(349));P||(vo&127)!==0||Ki(_,f,v)}return v}function Ki(c,f,v){c.flags|=16384,c={getSnapshot:f,value:v},f=nn.updateQueue,f===null?(f=En(),nn.updateQueue=f,f.stores=[c]):(v=f.stores,v===null?f.stores=[c]:v.push(c))}function Qi(c,f,v,_){f.value=v,f.getSnapshot=_,Cr(f)&&sy(c)}function Fl(c,f,v){return v(function(){Cr(f)&&sy(c)})}function Cr(c){var f=c.getSnapshot;c=c.value;try{var v=f();return!wi(c,v)}catch{return!0}}function sy(c){var f=xs(c,2);f!==null&&ui(f,c,2)}function Kp(c){var f=Qt();if(typeof c=="function"){var v=c;if(c=v(),Mn){ee(!0);try{v()}finally{ee(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:c},f}function Qu(c,f,v,_){return c.baseState=v,On(c,Lt,typeof _=="function"?_:ti)}function io(c,f,v,_,R){if(Dd(c))throw Error(s(485));if(c=f.action,c!==null){var P={payload:R,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){P.listeners.push(j)}};zt.T!==null?v(!0):P.isTransition=!1,_(P),v=f.pending,v===null?(P.next=f.pending=P,Md(f,P)):(P.next=v.next,f.pending=v.next=P)}}function Md(c,f){var v=f.action,_=f.payload,R=c.state;if(f.isTransition){var P=zt.T,j={};zt.T=j;try{var re=v(R,_),De=zt.S;De!==null&&De(j,re),Td(c,f,re)}catch(We){jo(c,f,We)}finally{P!==null&&j.types!==null&&(P.types=j.types),zt.T=P}}else try{P=v(R,_),Td(c,f,P)}catch(We){jo(c,f,We)}}function Td(c,f,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(_){Bl(c,f,_)},function(_){return jo(c,f,_)}):Bl(c,f,v)}function Bl(c,f,v){f.status="fulfilled",f.value=v,Qp(f),c.state=v,f=c.pending,f!==null&&(v=f.next,v===f?c.pending=null:(v=v.next,f.next=v,Md(c,v)))}function jo(c,f,v){var _=c.pending;if(c.pending=null,_!==null){_=_.next;do f.status="rejected",f.reason=v,Qp(f),f=f.next;while(f!==_)}c.action=null}function Qp(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function Ed(c,f){return f}function Jp(c,f){if(vn){var v=cn.formState;if(v!==null){e:{var _=nn;if(vn){if(ai){var R=Qy(ai,Ls);if(R){ai=Jy(R),_=Wm(R);break e}}Ze(_)}_=!1}_&&(f=v[0])}}v=Qt(),v.memoizedState=v.baseState=f,_={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ed,lastRenderedState:f},v.queue=_,v=uy.bind(null,nn,_),_.dispatch=v,_=Kp(!1);var P=Nd.bind(null,nn,!1,_.queue);return _=Qt(),R={state:f,dispatch:null,action:c,pending:null},_.queue=R,v=io.bind(null,nn,R,P,v),R.dispatch=v,_.memoizedState=c,[f,v,!1]}function Ic(c){var f=ut();return wa(f,Lt,c)}function wa(c,f,v){if(f=On(c,f,Ed)[0],c=Cs(ti)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var _=Wt(f)}catch(j){throw j===Yi?jr:j}else _=f;f=ut();var R=f.queue,P=R.dispatch;return v!==f.memoizedState&&(nn.flags|=2048,cr(9,{destroy:void 0},em.bind(null,R,v),null)),[_,P,c]}function em(c,f){c.action=f}function Lc(c){var f=ut(),v=Lt;if(v!==null)return wa(f,v,c);ut(),f=f.memoizedState,v=ut();var _=v.queue.dispatch;return v.memoizedState=c,[f,_,!1]}function cr(c,f,v,_){return c={tag:c,create:v,deps:_,inst:f,next:null},f=nn.updateQueue,f===null&&(f=En(),nn.updateQueue=f),v=f.lastEffect,v===null?f.lastEffect=c.next=c:(_=v.next,v.next=c,c.next=_,f.lastEffect=c),c}function Ad(){return ut().memoizedState}function kl(c,f,v,_){var R=Qt();nn.flags|=c,R.memoizedState=cr(1|f,{destroy:void 0},v,_===void 0?null:_)}function Ju(c,f,v,_){var R=ut();_=_===void 0?null:_;var P=R.memoizedState.inst;Lt!==null&&_!==null&&_t(_,Lt.memoizedState.deps)?R.memoizedState=cr(f,P,v,_):(nn.flags|=c,R.memoizedState=cr(1|f,P,v,_))}function ef(c,f){kl(8390656,8,c,f)}function Oc(c,f){Ju(2048,8,c,f)}function ry(c){nn.flags|=4;var f=nn.updateQueue;if(f===null)f=En(),nn.updateQueue=f,f.events=[c];else{var v=f.events;v===null?f.events=[c]:v.push(c)}}function Rs(c){var f=ut().memoizedState;return ry({ref:f,nextImpl:c}),function(){if((pn&2)!==0)throw Error(s(440));return f.impl.apply(void 0,arguments)}}function Go(c,f){return Ju(4,2,c,f)}function tf(c,f){return Ju(4,4,c,f)}function Uc(c,f){if(typeof f=="function"){c=c();var v=f(c);return function(){typeof v=="function"?v():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function ay(c,f,v){v=v!=null?v.concat([c]):null,Ju(4,4,Uc.bind(null,f,c),v)}function nf(){}function Cd(c,f){var v=ut();f=f===void 0?null:f;var _=v.memoizedState;return f!==null&&_t(f,_[1])?_[0]:(v.memoizedState=[c,f],c)}function zc(c,f){var v=ut();f=f===void 0?null:f;var _=v.memoizedState;if(f!==null&&_t(f,_[1]))return _[0];if(_=c(),Mn){ee(!0);try{c()}finally{ee(!1)}}return v.memoizedState=[_,f],_}function Fc(c,f,v){return v===void 0||(vo&1073741824)!==0&&(xn&261930)===0?c.memoizedState=f:(c.memoizedState=v,c=ao(),nn.lanes|=c,xo|=c,v)}function tm(c,f,v,_){return wi(v,f)?v:lc.current!==null?(c=Fc(c,v,_),wi(c,f)||(ni=!0),c):(vo&42)===0||(vo&1073741824)!==0&&(xn&261930)===0?(ni=!0,c.memoizedState=v):(c=ao(),nn.lanes|=c,xo|=c,f)}function oy(c,f,v,_,R){var P=Ur();yn(P!==0&&8>P?P:8);var j=zt.T,re={};zt.T=re,Nd(c,!1,f,v);try{var De=R(),We=zt.S;if(We!==null&&We(re,De),De!==null&&typeof De=="object"&&typeof De.then=="function"){var st=lt(De,_);sf(c,f,st,si(c))}else sf(c,f,_,si(c))}catch(Ye){sf(c,f,{then:function(){},status:"rejected",reason:Ye},si())}finally{yn(P),j!==null&&re.types!==null&&(j.types=re.types),zt.T=j}}function ly(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:ec,baseState:ec,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:ec},next:null};var v={};return f.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:v},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function nm(){return Y(tc)}function Rd(){return ut().memoizedState}function cy(){return ut().memoizedState}function D_(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var v=si();c=or(v);var _=lr(f,c,v);_!==null&&(ui(_,f,v),Vo(_,f,v)),f={cache:Ce()},c.payload=f;return}f=f.return}}function P_(c,f,v){var _=si();v={lane:_,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Dd(c)?fy(f,v):(v=ko(c,f,v,_),v!==null&&(ui(v,c,_),dy(v,f,_)))}function uy(c,f,v){var _=si();sf(c,f,v,_)}function sf(c,f,v,_){var R={lane:_,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null};if(Dd(c))fy(f,R);else{var P=c.alternate;if(c.lanes===0&&(P===null||P.lanes===0)&&(P=f.lastRenderedReducer,P!==null))try{var j=f.lastRenderedState,re=P(j,v);if(R.hasEagerState=!0,R.eagerState=re,wi(re,j))return ls(c,f,R,0),cn===null&&ra(),!1}catch{}if(v=ko(c,f,R,_),v!==null)return ui(v,c,_),dy(v,f,_),!0}return!1}function Nd(c,f,v,_){if(_={lane:2,revertLane:at(),gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null},Dd(c)){if(f)throw Error(s(479))}else f=ko(c,v,_,2),f!==null&&ui(f,c,2)}function Dd(c){var f=c.alternate;return c===nn||f!==null&&f===nn}function fy(c,f){rn=ln=!0;var v=c.pending;v===null?f.next=f:(f.next=v.next,v.next=f),c.pending=f}function dy(c,f,v){if((v&4194048)!==0){var _=f.lanes;_&=c.pendingLanes,v|=_,f.lanes=v,z(c,v)}}function im(c,f,v,_){f=c.memoizedState,v=v(_,f),v=v==null?f:Kd({},f,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}function Pd(c,f,v,_,R,P,j){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(_,P,j):f.prototype&&f.prototype.isPureReactComponent?!xe(v,_)||!xe(R,P):!0}function hy(c,f,v,_){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,_),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,_),f.state!==c&&Pf.enqueueReplaceState(f,f.state,null)}function Vl(c,f){var v=f;if("ref"in f){v={};for(var _ in f)_!=="ref"&&(v[_]=f[_])}if(c=c.defaultProps){v===f&&(v=Kd({},v));for(var R in c)v[R]===void 0&&(v[R]=c[R])}return v}function Id(c,f){try{var v=c.onUncaughtError;v(f.value,{componentStack:f.stack})}catch(_){setTimeout(function(){throw _})}}function sm(c,f,v){try{var _=c.onCaughtError;_(v.value,{componentStack:v.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function rm(c,f,v){return v=or(v),v.tag=3,v.payload={element:null},v.callback=function(){Id(c,f)},v}function py(c){return c=or(c),c.tag=3,c}function my(c,f,v,_){var R=v.type.getDerivedStateFromError;if(typeof R=="function"){var P=_.value;c.payload=function(){return R(P)},c.callback=function(){sm(f,v,_)}}var j=v.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(c.callback=function(){sm(f,v,_),typeof R!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var re=_.stack;this.componentDidCatch(_.value,{componentStack:re!==null?re:""})})}function I_(c,f,v,_,R){if(v.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){if(f=v.alternate,f!==null&&ot(f,v,R,!0),v=qs.current,v!==null){switch(v.tag){case 31:case 13:return Ys===null?$c():v.alternate===null&&pi===0&&(pi=3),v.flags&=-257,v.flags|=65536,v.lanes=R,_===ka?v.flags|=16384:(f=v.updateQueue,f===null?v.updateQueue=new Set([_]):f.add(_),Qc(c,_,R)),!1;case 22:return v.flags|=65536,_===ka?v.flags|=16384:(f=v.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([_])},v.updateQueue=f):(v=f.retryQueue,v===null?f.retryQueue=new Set([_]):v.add(_)),Qc(c,_,R)),!1}throw Error(s(435,v.tag))}return Qc(c,_,R),$c(),!1}if(vn)return f=qs.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=R,_!==bh&&(c=Error(s(422),{cause:_}),qe(ye(c,v)))):(_!==bh&&(f=Error(s(423),{cause:_}),qe(ye(f,v))),c=c.current.alternate,c.flags|=65536,R&=-R,c.lanes|=R,_=ye(_,v),R=rm(c.stateNode,_,R),zl(c,R),pi!==4&&(pi=2)),!1;var P=Error(s(520),{cause:_});if(P=ye(P,v),Lf===null?Lf=[P]:Lf.push(P),pi!==4&&(pi=2),f===null)return!0;_=ye(_,v),v=f;do{switch(v.tag){case 3:return v.flags|=65536,c=R&-R,v.lanes|=c,c=rm(v.stateNode,_,c),zl(v,c),!1;case 1:if(f=v.type,P=v.stateNode,(v.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(bo===null||!bo.has(P))))return v.flags|=65536,R&=-R,v.lanes|=R,R=py(R),my(R,c,v,_),zl(v,R),!1}v=v.return}while(v!==null);return!1}function cs(c,f,v,_){f.child=c===null?cg(f,null,v,_):ds(f,c.child,v,_)}function gy(c,f,v,_,R){v=v.render;var P=f.ref;if("ref"in _){var j={};for(var re in _)re!=="ref"&&(j[re]=_[re])}else j=_;return He(f),_=Mt(c,f,v,j,P,R),re=Dn(),c!==null&&!ni?($n(c,f,R),Ma(c,f,R)):(vn&&re&&ue(f),f.flags|=1,cs(c,f,_,R),f.child)}function yy(c,f,v,_,R){if(c===null){var P=v.type;return typeof P=="function"&&!Xl(P)&&P.defaultProps===void 0&&v.compare===null?(f.tag=15,f.type=P,vy(c,f,P,_,R)):(c=co(v.type,null,_,f,f.mode,R),c.ref=f.ref,c.return=f,f.child=c)}if(P=c.child,!af(c,R)){var j=P.memoizedProps;if(v=v.compare,v=v!==null?v:xe,v(j,_)&&c.ref===f.ref)return Ma(c,f,R)}return f.flags|=1,c=dr(P,_),c.ref=f.ref,c.return=f,f.child=c}function vy(c,f,v,_,R){if(c!==null){var P=c.memoizedProps;if(xe(P,_)&&c.ref===f.ref)if(ni=!1,f.pendingProps=_=P,af(c,R))(c.flags&131072)!==0&&(ni=!0);else return f.lanes=c.lanes,Ma(c,f,R)}return Od(c,f,v,_,R)}function xy(c,f,v,_){var R=_.children,P=c!==null?c.memoizedState:null;if(c===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),_.mode==="hidden"){if((f.flags&128)!==0){if(P=P!==null?P.baseLanes|v:v,c!==null){for(_=f.child=c.child,R=0;_!==null;)R=R|_.lanes|_.childLanes,_=_.sibling;_=R&~P}else _=0,f.child=null;return Bc(c,f,P,v,_)}if((v&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&ct(f,P!==null?P.cachePool:null),P!==null?Ho(f,P):Sa(),we(f);else return _=f.lanes=536870912,Bc(c,f,P!==null?P.baseLanes|v:v,v,_)}else P!==null?(ct(f,P.cachePool),Ho(f,P),me(),f.memoizedState=null):(c!==null&&ct(f,null),Sa(),me());return cs(c,f,R,v),f.child}function Hl(c,f){return c!==null&&c.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function Bc(c,f,v,_,R){var P=Qe();return P=P===null?null:{parent:_i?oi._currentValue:oi._currentValue2,pool:P},f.memoizedState={baseLanes:v,cachePool:P},c!==null&&ct(f,null),Sa(),we(f),c!==null&&ot(c,f,_,!0),f.childLanes=R,null}function Ld(c,f){return f=Wo({mode:f.mode,children:f.children},c.mode),f.ref=c.ref,c.child=f,f.return=c,f}function am(c,f,v){return ds(f,c.child,null,v),c=Ld(f,f.pendingProps),c.flags|=2,tt(f),f.memoizedState=null,c}function by(c,f,v){var _=f.pendingProps,R=(f.flags&128)!==0;if(f.flags&=-129,c===null){if(vn){if(_.mode==="hidden")return c=Ld(f,_),f.lanes=536870912,Hl(null,c);if(Ae(f),(c=ai)?(c=qm(c,Ls),c!==null&&(f.memoizedState={dehydrated:c,treeContext:Br!==null?{id:us,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},v=wm(c),v.return=f,f.child=v,Xi=f,ai=null)):c=null,c===null)throw Ze(f);return f.lanes=536870912,null}return Ld(f,_)}var P=c.memoizedState;if(P!==null){var j=P.dehydrated;if(Ae(f),R)if(f.flags&256)f.flags&=-257,f=am(c,f,v);else if(f.memoizedState!==null)f.child=c.child,f.flags|=128,f=null;else throw Error(s(558));else if(ni||ot(c,f,v,!1),R=(v&c.childLanes)!==0,ni||R){if(_=cn,_!==null&&(j=k(_,v),j!==0&&j!==P.retryLane))throw P.retryLane=j,xs(c,j),ui(_,c,j),Us;$c(),f=am(c,f,v)}else c=P.treeContext,ri&&(ai=iv(j),Xi=f,vn=!0,Ba=null,Ls=!1,c!==null&&Te(f,c)),f=Ld(f,_),f.flags|=4096;return f}return c=dr(c.child,{mode:_.mode,children:_.children}),c.ref=f.ref,f.child=c,c.return=f,c}function rf(c,f){var v=f.ref;if(v===null)c!==null&&c.ref!==null&&(f.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(s(284));(c===null||c.ref!==v)&&(f.flags|=4194816)}}function Od(c,f,v,_,R){return He(f),v=Mt(c,f,v,_,void 0,R),_=Dn(),c!==null&&!ni?($n(c,f,R),Ma(c,f,R)):(vn&&_&&ue(f),f.flags|=1,cs(c,f,v,R),f.child)}function om(c,f,v,_,R,P){return He(f),f.updateQueue=null,v=Et(f,_,v,R),Ut(c),_=Dn(),c!==null&&!ni?($n(c,f,P),Ma(c,f,P)):(vn&&_&&ue(f),f.flags|=1,cs(c,f,v,P),f.child)}function jl(c,f,v,_,R){if(He(f),f.stateNode===null){var P=Ua,j=v.contextType;typeof j=="object"&&j!==null&&(P=Y(j)),P=new v(_,P),f.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=Pf,f.stateNode=P,P._reactInternals=f,P=f.stateNode,P.props=_,P.state=f.memoizedState,P.refs={},Hi(f),j=v.contextType,P.context=typeof j=="object"&&j!==null?Y(j):Ua,P.state=f.memoizedState,j=v.getDerivedStateFromProps,typeof j=="function"&&(im(f,v,j,_),P.state=f.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(j=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),j!==P.state&&Pf.enqueueReplaceState(P,P.state,null),eo(f,_,P,R),aa(),P.state=f.memoizedState),typeof P.componentDidMount=="function"&&(f.flags|=4194308),_=!0}else if(c===null){P=f.stateNode;var re=f.memoizedProps,De=Vl(v,re);P.props=De;var We=P.context,st=v.contextType;j=Ua,typeof st=="object"&&st!==null&&(j=Y(st));var Ye=v.getDerivedStateFromProps;st=typeof Ye=="function"||typeof P.getSnapshotBeforeUpdate=="function",re=f.pendingProps!==re,st||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(re||We!==j)&&hy(f,P,_,j),mr=!1;var vt=f.memoizedState;P.state=vt,eo(f,_,P,R),aa(),We=f.memoizedState,re||vt!==We||mr?(typeof Ye=="function"&&(im(f,v,Ye,_),We=f.memoizedState),(De=mr||Pd(f,v,De,_,vt,We,j))?(st||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(f.flags|=4194308)):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=_,f.memoizedState=We),P.props=_,P.state=We,P.context=j,_=De):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),_=!1)}else{P=f.stateNode,ar(c,f),j=f.memoizedProps,st=Vl(v,j),P.props=st,Ye=f.pendingProps,vt=P.context,We=v.contextType,De=Ua,typeof We=="object"&&We!==null&&(De=Y(We)),re=v.getDerivedStateFromProps,(We=typeof re=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(j!==Ye||vt!==De)&&hy(f,P,_,De),mr=!1,vt=f.memoizedState,P.state=vt,eo(f,_,P,R),aa();var en=f.memoizedState;j!==Ye||vt!==en||mr||c!==null&&c.dependencies!==null&&Nt(c.dependencies)?(typeof re=="function"&&(im(f,v,re,_),en=f.memoizedState),(st=mr||Pd(f,v,st,_,vt,en,De)||c!==null&&c.dependencies!==null&&Nt(c.dependencies))?(We||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(_,en,De),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(_,en,De)),typeof P.componentDidUpdate=="function"&&(f.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof P.componentDidUpdate!="function"||j===c.memoizedProps&&vt===c.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||j===c.memoizedProps&&vt===c.memoizedState||(f.flags|=1024),f.memoizedProps=_,f.memoizedState=en),P.props=_,P.state=en,P.context=De,_=st):(typeof P.componentDidUpdate!="function"||j===c.memoizedProps&&vt===c.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||j===c.memoizedProps&&vt===c.memoizedState||(f.flags|=1024),_=!1)}return P=_,rf(c,f),_=(f.flags&128)!==0,P||_?(P=f.stateNode,v=_&&typeof v.getDerivedStateFromError!="function"?null:P.render(),f.flags|=1,c!==null&&_?(f.child=ds(f,c.child,null,R),f.child=ds(f,null,v,R)):cs(c,f,v,R),f.memoizedState=P.state,c=f.child):c=Ma(c,f,R),c}function _y(c,f,v,_){return Pt(),f.flags|=256,cs(c,f,v,_),f.child}function lm(c){return{baseLanes:c,cachePool:je()}}function cm(c,f,v){return c=c!==null?c.childLanes&~v:0,f&&(c|=zs),c}function um(c,f,v){var _=f.pendingProps,R=!1,P=(f.flags&128)!==0,j;if((j=P)||(j=c!==null&&c.memoizedState===null?!1:(vi.current&2)!==0),j&&(R=!0,f.flags&=-129),j=(f.flags&32)!==0,f.flags&=-33,c===null){if(vn){if(R?de(f):me(),(c=ai)?(c=ov(c,Ls),c!==null&&(f.memoizedState={dehydrated:c,treeContext:Br!==null?{id:us,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},v=wm(c),v.return=f,f.child=v,Xi=f,ai=null)):c=null,c===null)throw Ze(f);return rh(c)?f.lanes=32:f.lanes=536870912,null}var re=_.children;return _=_.fallback,R?(me(),R=f.mode,re=Wo({mode:"hidden",children:re},R),_=Lr(_,R,v,null),re.return=f,_.return=f,re.sibling=_,f.child=re,_=f.child,_.memoizedState=lm(v),_.childLanes=cm(c,j,v),f.memoizedState=cc,Hl(null,_)):(de(f),Ud(f,re))}var De=c.memoizedState;if(De!==null&&(re=De.dehydrated,re!==null)){if(P)f.flags&256?(de(f),f.flags&=-257,f=Gl(c,f,v)):f.memoizedState!==null?(me(),f.child=c.child,f.flags|=128,f=null):(me(),re=_.fallback,R=f.mode,_=Wo({mode:"visible",children:_.children},R),re=Lr(re,R,v,null),re.flags|=2,_.return=f,re.return=f,_.sibling=re,f.child=_,ds(f,c.child,null,v),_=f.child,_.memoizedState=lm(v),_.childLanes=cm(c,j,v),f.memoizedState=cc,f=Hl(null,_));else if(de(f),rh(re))j=ah(re).digest,_=Error(s(419)),_.stack="",_.digest=j,qe({value:_,source:null,stack:null}),f=Gl(c,f,v);else if(ni||ot(c,f,v,!1),j=(v&c.childLanes)!==0,ni||j){if(j=cn,j!==null&&(_=k(j,v),_!==0&&_!==De.retryLane))throw De.retryLane=_,xs(c,_),ui(j,c,_),Us;sl(re)||$c(),f=Gl(c,f,v)}else sl(re)?(f.flags|=192,f.child=c.child,f=null):(c=De.treeContext,ri&&(ai=sv(re),Xi=f,vn=!0,Ba=null,Ls=!1,c!==null&&Te(f,c)),f=Ud(f,_.children),f.flags|=4096);return f}return R?(me(),re=_.fallback,R=f.mode,De=c.child,P=De.sibling,_=dr(De,{mode:"hidden",children:_.children}),_.subtreeFlags=De.subtreeFlags&65011712,P!==null?re=dr(P,re):(re=Lr(re,R,v,null),re.flags|=2),re.return=f,_.return=f,_.sibling=re,f.child=_,Hl(null,_),_=f.child,re=c.child.memoizedState,re===null?re=lm(v):(R=re.cachePool,R!==null?(De=_i?oi._currentValue:oi._currentValue2,R=R.parent!==De?{parent:De,pool:De}:R):R=je(),re={baseLanes:re.baseLanes|v,cachePool:R}),_.memoizedState=re,_.childLanes=cm(c,j,v),f.memoizedState=cc,Hl(c.child,_)):(de(f),v=c.child,c=v.sibling,v=dr(v,{mode:"visible",children:_.children}),v.return=f,v.sibling=null,c!==null&&(j=f.deletions,j===null?(f.deletions=[c],f.flags|=16):j.push(c)),f.child=v,f.memoizedState=null,v)}function Ud(c,f){return f=Wo({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function Wo(c,f){return c=t(22,c,null,f),c.lanes=0,c}function Gl(c,f,v){return ds(f,c.child,null,v),c=Ud(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function Sy(c,f,v){c.lanes|=f;var _=c.alternate;_!==null&&(_.lanes|=f),J(c.return,f,v)}function kc(c,f,v,_,R,P){var j=c.memoizedState;j===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:_,tail:v,tailMode:R,treeForkCount:P}:(j.isBackwards=f,j.rendering=null,j.renderingStartTime=0,j.last=_,j.tail=v,j.tailMode=R,j.treeForkCount=P)}function fm(c,f,v){var _=f.pendingProps,R=_.revealOrder,P=_.tail;_=_.children;var j=vi.current,re=(j&2)!==0;if(re?(j=j&1|2,f.flags|=128):j&=1,w(vi,j),cs(c,f,_,v),_=vn?Rf:0,!re&&c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Sy(c,v,f);else if(c.tag===19)Sy(c,v,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(R){case"forwards":for(v=f.child,R=null;v!==null;)c=v.alternate,c!==null&&gt(c)===null&&(R=v),v=v.sibling;v=R,v===null?(R=f.child,f.child=null):(R=v.sibling,v.sibling=null),kc(f,!1,R,v,P,_);break;case"backwards":case"unstable_legacy-backwards":for(v=null,R=f.child,f.child=null;R!==null;){if(c=R.alternate,c!==null&&gt(c)===null){f.child=R;break}c=R.sibling,R.sibling=v,v=R,R=c}kc(f,!0,v,null,P,_);break;case"together":kc(f,!1,null,null,void 0,_);break;default:f.memoizedState=null}return f.child}function Ma(c,f,v){if(c!==null&&(f.dependencies=c.dependencies),xo|=f.lanes,(v&f.childLanes)===0)if(c!==null){if(ot(c,f,v,!1),(v&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(s(153));if(f.child!==null){for(c=f.child,v=dr(c,c.pendingProps),f.child=v,v.return=f;c.sibling!==null;)c=c.sibling,v=v.sibling=dr(c,c.pendingProps),v.return=f;v.sibling=null}return f.child}function af(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&Nt(c)))}function dm(c,f,v){switch(f.tag){case 3:Ve(f,f.stateNode.containerInfo),Oe(f,oi,c.memoizedState.cache),Pt();break;case 27:case 5:ve(f);break;case 4:Ve(f,f.stateNode.containerInfo);break;case 10:Oe(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Ae(f),null;break;case 13:var _=f.memoizedState;if(_!==null)return _.dehydrated!==null?(de(f),f.flags|=128,null):(v&f.child.childLanes)!==0?um(c,f,v):(de(f),c=Ma(c,f,v),c!==null?c.sibling:null);de(f);break;case 19:var R=(c.flags&128)!==0;if(_=(v&f.childLanes)!==0,_||(ot(c,f,v,!1),_=(v&f.childLanes)!==0),R){if(_)return fm(c,f,v);f.flags|=128}if(R=f.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),w(vi,vi.current),_)break;return null;case 22:return f.lanes=0,xy(c,f,v,f.pendingProps);case 24:Oe(f,oi,c.memoizedState.cache)}return Ma(c,f,v)}function hm(c,f,v){if(c!==null)if(c.memoizedProps!==f.pendingProps)ni=!0;else{if(!af(c,v)&&(f.flags&128)===0)return ni=!1,dm(c,f,v);ni=(c.flags&131072)!==0}else ni=!1,vn&&(f.flags&1048576)!==0&&q(f,Rf,f.index);switch(f.lanes=0,f.tag){case 16:e:{var _=f.pendingProps;if(c=Gt(f.elementType),f.type=c,typeof c=="function")Xl(c)?(_=Vl(c,_),f.tag=1,f=jl(null,f,c,_,v)):(f.tag=0,f=Od(null,f,c,_,v));else{if(c!=null){var R=c.$$typeof;if(R===Jc){f.tag=11,f=gy(null,f,c,_,v);break e}else if(R===Jd){f.tag=14,f=yy(null,f,c,_,v);break e}}throw f=m(c)||c,Error(s(306,f,""))}}return f;case 0:return Od(c,f,f.type,f.pendingProps,v);case 1:return _=f.type,R=Vl(_,f.pendingProps),jl(c,f,_,R,v);case 3:e:{if(Ve(f,f.stateNode.containerInfo),c===null)throw Error(s(387));var P=f.pendingProps;R=f.memoizedState,_=R.element,ar(c,f),eo(f,P,null,v);var j=f.memoizedState;if(P=j.cache,Oe(f,oi,P),P!==R.cache&&xt(f,[oi],v,!0),aa(),P=j.element,ri&&R.isDehydrated)if(R={element:P,isDehydrated:!1,cache:j.cache},f.updateQueue.baseState=R,f.memoizedState=R,f.flags&256){f=_y(c,f,P,v);break e}else if(P!==_){_=ye(Error(s(424)),f),qe(_),f=_y(c,f,P,v);break e}else for(ri&&(ai=nv(f.stateNode.containerInfo),Xi=f,vn=!0,Ba=null,Ls=!0),v=cg(f,null,P,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Pt(),P===_){f=Ma(c,f,v);break e}cs(c,f,P,v)}f=f.child}return f;case 26:if(zr)return rf(c,f),c===null?(v=Qm(f.type,null,f.pendingProps,null))?f.memoizedState=v:vn||(f.stateNode=uh(f.type,f.pendingProps,fs.current,f)):f.memoizedState=Qm(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:if(Wi)return ve(f),c===null&&Wi&&vn&&(_=f.stateNode=fh(f.type,f.pendingProps,fs.current,ns.current,!1),Xi=f,Ls=!0,ai=Xm(f.type,_,ai)),cs(c,f,f.pendingProps.children,v),rf(c,f),c===null&&(f.flags|=4194304),f.child;case 5:return c===null&&vn&&(gv(f.type,f.pendingProps,ns.current),(R=_=ai)&&(_=rv(_,f.type,f.pendingProps,Ls),_!==null?(f.stateNode=_,Xi=f,ai=tv(_),Ls=!1,R=!0):R=!1),R||Ze(f)),ve(f),R=f.type,P=f.pendingProps,j=c!==null?c.memoizedProps:null,_=P.children,Is(R,P)?_=null:j!==null&&Is(R,j)&&(f.flags|=32),f.memoizedState!==null&&(R=Mt(c,f,Ht,null,null,v),_i?tc._currentValue=R:tc._currentValue2=R),rf(c,f),cs(c,f,_,v),f.child;case 6:return c===null&&vn&&(Km(f.pendingProps,ns.current),(c=v=ai)&&(v=av(v,f.pendingProps,Ls),v!==null?(f.stateNode=v,Xi=f,ai=null,c=!0):c=!1),c||Ze(f)),null;case 13:return um(c,f,v);case 4:return Ve(f,f.stateNode.containerInfo),_=f.pendingProps,c===null?f.child=ds(f,null,_,v):cs(c,f,_,v),f.child;case 11:return gy(c,f,f.type,f.pendingProps,v);case 7:return cs(c,f,f.pendingProps,v),f.child;case 8:return cs(c,f,f.pendingProps.children,v),f.child;case 12:return cs(c,f,f.pendingProps.children,v),f.child;case 10:return _=f.pendingProps,Oe(f,f.type,_.value),cs(c,f,_.children,v),f.child;case 9:return R=f.type._context,_=f.pendingProps.children,He(f),R=Y(R),_=_(R),f.flags|=1,cs(c,f,_,v),f.child;case 14:return yy(c,f,f.type,f.pendingProps,v);case 15:return vy(c,f,f.type,f.pendingProps,v);case 19:return fm(c,f,v);case 31:return by(c,f,v);case 22:return xy(c,f,v,f.pendingProps);case 24:return He(f),_=Y(oi),c===null?(R=Qe(),R===null&&(R=cn,P=Ce(),R.pooledCache=P,P.refCount++,P!==null&&(R.pooledCacheLanes|=v),R=P),f.memoizedState={parent:_,cache:R},Hi(f),Oe(f,oi,R)):((c.lanes&v)!==0&&(ar(c,f),eo(f,null,null,v),aa()),R=c.memoizedState,P=f.memoizedState,R.parent!==_?(R={parent:_,cache:_},f.memoizedState=R,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=R),Oe(f,oi,_)):(_=P.cache,Oe(f,oi,_),_!==R.cache&&xt(f,[oi],v,!0))),cs(c,f,f.pendingProps.children,v),f.child;case 29:throw f.pendingProps}throw Error(s(156,f.tag))}function Rr(c){c.flags|=4}function of(c){hr&&(c.flags|=8)}function wy(c,f){if(c!==null&&c.child===f.child)return!1;if((f.flags&16)!==0)return!0;for(c=f.child;c!==null;){if((c.flags&8218)!==0||(c.subtreeFlags&8218)!==0)return!0;c=c.sibling}return!1}function pm(c,f,v,_){if(Sn)for(v=f.child;v!==null;){if(v.tag===5||v.tag===6)_f(c,v.stateNode);else if(!(v.tag===4||Wi&&v.tag===27)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}else if(hr)for(var R=f.child;R!==null;){if(R.tag===5){var P=R.stateNode;v&&_&&(P=Ky(P,R.type,R.memoizedProps)),_f(c,P)}else if(R.tag===6)P=R.stateNode,v&&_&&(P=Gm(P,R.memoizedProps)),_f(c,P);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)P=R.child,P!==null&&(P.return=R),pm(c,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===f)break;for(;R.sibling===null;){if(R.return===null||R.return===f)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function My(c,f,v,_){var R=!1;if(hr)for(var P=f.child;P!==null;){if(P.tag===5){var j=P.stateNode;v&&_&&(j=Ky(j,P.type,P.memoizedProps)),Hm(c,j)}else if(P.tag===6)j=P.stateNode,v&&_&&(j=Gm(j,P.memoizedProps)),Hm(c,j);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)R=P.child,R!==null&&(R.return=P),My(c,P,!0,!0),R=!0;else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===f)break;for(;P.sibling===null;){if(P.return===null||P.return===f)return R;P=P.return}P.sibling.return=P.return,P=P.sibling}return R}function Ty(c,f){if(hr&&wy(c,f)){c=f.stateNode;var v=c.containerInfo,_=Vm();My(_,f,!1,!1),c.pendingChildren=_,Rr(f),Zy(v,_)}}function mm(c,f,v,_){if(Sn)c.memoizedProps!==_&&Rr(f);else if(hr){var R=c.stateNode,P=c.memoizedProps;if((c=wy(c,f))||P!==_){var j=ns.current;P=$y(R,v,P,_,!c,null),P===R?f.stateNode=R:(of(f),js(P,v,_,j)&&Rr(f),f.stateNode=P,c&&pm(P,f,!1,!1))}else f.stateNode=R}}function Ns(c,f,v,_,R){if((c.mode&32)!==0&&(v===null?Sf(f,_):su(f,v,_))){if(c.flags|=16777216,(R&335544128)===R||Nm(f,_))if(fi(c.stateNode,f,_))c.flags|=8192;else if(_n())c.flags|=8192;else throw Os=ka,Sh}else c.flags&=-16777217}function Vc(c,f){if(ng(f)){if(c.flags|=16777216,!ig(f))if(_n())c.flags|=8192;else throw Os=ka,Sh}else c.flags&=-16777217}function lf(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?I():536870912,c.lanes|=f,hu|=f)}function Hc(c,f){if(!vn)switch(c.tailMode){case"hidden":f=c.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var _=null;v!==null;)v.alternate!==null&&(_=v),v=v.sibling;_===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:_.sibling=null}}function Zn(c){var f=c.alternate!==null&&c.alternate.child===c.child,v=0,_=0;if(f)for(var R=c.child;R!==null;)v|=R.lanes|R.childLanes,_|=R.subtreeFlags&65011712,_|=R.flags&65011712,R.return=c,R=R.sibling;else for(R=c.child;R!==null;)v|=R.lanes|R.childLanes,_|=R.subtreeFlags,_|=R.flags,R.return=c,R=R.sibling;return c.subtreeFlags|=_,c.childLanes=v,f}function Ey(c,f,v){var _=f.pendingProps;switch(fe(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(f),null;case 1:return Zn(f),null;case 3:return v=f.stateNode,_=null,c!==null&&(_=c.memoizedState.cache),f.memoizedState.cache!==_&&(f.flags|=2048),et(oi),he(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(c===null||c.child===null)&&(Vt(f)?Rr(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Le())),Ty(c,f),Zn(f),null;case 26:if(zr){var R=f.type,P=f.memoizedState;return c===null?(Rr(f),P!==null?(Zn(f),Vc(f,P)):(Zn(f),Ns(f,R,null,_,v))):P?P!==c.memoizedState?(Rr(f),Zn(f),Vc(f,P)):(Zn(f),f.flags&=-16777217):(P=c.memoizedProps,Sn?P!==_&&Rr(f):mm(c,f,R,_),Zn(f),Ns(f,R,P,_,v)),null}case 27:if(Wi){if(Fe(f),v=fs.current,R=f.type,c!==null&&f.stateNode!=null)Sn?c.memoizedProps!==_&&Rr(f):mm(c,f,R,_);else{if(!_){if(f.stateNode===null)throw Error(s(166));return Zn(f),null}c=ns.current,Vt(f)?rt(f,c):(c=fh(R,_,v,c,!0),f.stateNode=c,Rr(f))}return Zn(f),null}case 5:if(Fe(f),R=f.type,c!==null&&f.stateNode!=null)mm(c,f,R,_);else{if(!_){if(f.stateNode===null)throw Error(s(166));return Zn(f),null}if(P=ns.current,Vt(f))rt(f,P),hv(f.stateNode,R,_,P)&&(f.flags|=64);else{var j=Cm(R,_,fs.current,P,f);of(f),pm(j,f,!1,!1),f.stateNode=j,js(j,R,_,P)&&Rr(f)}}return Zn(f),Ns(f,f.type,c===null?null:c.memoizedProps,f.pendingProps,v),null;case 6:if(c&&f.stateNode!=null)v=c.memoizedProps,Sn?v!==_&&Rr(f):hr&&(v!==_?(c=fs.current,v=ns.current,of(f),f.stateNode=ho(_,c,v,f)):f.stateNode=c.stateNode);else{if(typeof _!="string"&&f.stateNode===null)throw Error(s(166));if(c=fs.current,v=ns.current,Vt(f)){if(!ri)throw Error(s(176));if(c=f.stateNode,v=f.memoizedProps,_=null,R=Xi,R!==null)switch(R.tag){case 27:case 5:_=R.memoizedProps}F_(c,v,f,_)||Ze(f,!0)}else of(f),f.stateNode=ho(_,c,v,f)}return Zn(f),null;case 31:if(v=f.memoizedState,c===null||c.memoizedState!==null){if(_=Vt(f),v!==null){if(c===null){if(!_)throw Error(s(318));if(!ri)throw Error(s(556));if(c=f.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(557));Ym(c,f)}else Pt(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Zn(f),c=!1}else v=Le(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=v),c=!0;if(!c)return f.flags&256?(tt(f),f):(tt(f),null);if((f.flags&128)!==0)throw Error(s(558))}return Zn(f),null;case 13:if(_=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(R=Vt(f),_!==null&&_.dehydrated!==null){if(c===null){if(!R)throw Error(s(318));if(!ri)throw Error(s(344));if(R=f.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(s(317));cv(R,f)}else Pt(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Zn(f),R=!1}else R=Le(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=R),R=!0;if(!R)return f.flags&256?(tt(f),f):(tt(f),null)}return tt(f),(f.flags&128)!==0?(f.lanes=v,f):(v=_!==null,c=c!==null&&c.memoizedState!==null,v&&(_=f.child,R=null,_.alternate!==null&&_.alternate.memoizedState!==null&&_.alternate.memoizedState.cachePool!==null&&(R=_.alternate.memoizedState.cachePool.pool),P=null,_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(P=_.memoizedState.cachePool.pool),P!==R&&(_.flags|=2048)),v!==c&&v&&(f.child.flags|=8192),lf(f,f.updateQueue),Zn(f),null);case 4:return he(),Ty(c,f),c===null&&Gn(f.stateNode.containerInfo),Zn(f),null;case 10:return et(f.type),Zn(f),null;case 19:if(b(vi),_=f.memoizedState,_===null)return Zn(f),null;if(R=(f.flags&128)!==0,P=_.rendering,P===null)if(R)Hc(_,!1);else{if(pi!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(P=gt(c),P!==null){for(f.flags|=128,Hc(_,!1),c=P.updateQueue,f.updateQueue=c,lf(f,c),f.subtreeFlags=0,c=v,v=f.child;v!==null;)Yd(v,c),v=v.sibling;return w(vi,vi.current&1|2),vn&&Se(f,_.treeForkCount),f.child}c=c.sibling}_.tail!==null&&_s()>ml&&(f.flags|=128,R=!0,Hc(_,!1),f.lanes=4194304)}else{if(!R)if(c=gt(P),c!==null){if(f.flags|=128,R=!0,c=c.updateQueue,f.updateQueue=c,lf(f,c),Hc(_,!0),_.tail===null&&_.tailMode==="hidden"&&!P.alternate&&!vn)return Zn(f),null}else 2*_s()-_.renderingStartTime>ml&&v!==536870912&&(f.flags|=128,R=!0,Hc(_,!1),f.lanes=4194304);_.isBackwards?(P.sibling=f.child,f.child=P):(c=_.last,c!==null?c.sibling=P:f.child=P,_.last=P)}return _.tail!==null?(c=_.tail,_.rendering=c,_.tail=c.sibling,_.renderingStartTime=_s(),c.sibling=null,v=vi.current,w(vi,R?v&1|2:v&1),vn&&Se(f,_.treeForkCount),c):(Zn(f),null);case 22:case 23:return tt(f),G(),_=f.memoizedState!==null,c!==null?c.memoizedState!==null!==_&&(f.flags|=8192):_&&(f.flags|=8192),_?(v&536870912)!==0&&(f.flags&128)===0&&(Zn(f),f.subtreeFlags&6&&(f.flags|=8192)):Zn(f),v=f.updateQueue,v!==null&&lf(f,v.retryQueue),v=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),_=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==v&&(f.flags|=2048),c!==null&&b(ol),null;case 24:return v=null,c!==null&&(v=c.memoizedState.cache),f.memoizedState.cache!==v&&(f.flags|=2048),et(oi),Zn(f),null;case 25:return null;case 30:return null}throw Error(s(156,f.tag))}function gm(c,f){switch(fe(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return et(oi),he(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return Fe(f),null;case 31:if(f.memoizedState!==null){if(tt(f),f.alternate===null)throw Error(s(340));Pt()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 13:if(tt(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(s(340));Pt()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return b(vi),null;case 4:return he(),null;case 10:return et(f.type),null;case 22:case 23:return tt(f),G(),c!==null&&b(ol),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return et(oi),null;case 25:return null;default:return null}}function Ay(c,f){switch(fe(f),f.tag){case 3:et(oi),he();break;case 26:case 27:case 5:Fe(f);break;case 4:he();break;case 31:f.memoizedState!==null&&tt(f);break;case 13:tt(f);break;case 19:b(vi);break;case 10:et(f.type);break;case 22:case 23:tt(f),G(),c!==null&&b(ol);break;case 24:et(oi)}}function Ta(c,f){try{var v=f.updateQueue,_=v!==null?v.lastEffect:null;if(_!==null){var R=_.next;v=R;do{if((v.tag&c)===c){_=void 0;var P=v.create,j=v.inst;_=P(),j.destroy=_}v=v.next}while(v!==R)}}catch(re){qt(f,f.return,re)}}function Ea(c,f,v){try{var _=f.updateQueue,R=_!==null?_.lastEffect:null;if(R!==null){var P=R.next;_=P;do{if((_.tag&c)===c){var j=_.inst,re=j.destroy;if(re!==void 0){j.destroy=void 0,R=f;var De=v,We=re;try{We()}catch(st){qt(R,De,st)}}}_=_.next}while(_!==P)}}catch(st){qt(f,f.return,st)}}function jc(c){var f=c.updateQueue;if(f!==null){var v=c.stateNode;try{no(f,v)}catch(_){qt(c,c.return,_)}}}function zd(c,f,v){v.props=Vl(c.type,c.memoizedProps),v.state=c.memoizedState;try{v.componentWillUnmount()}catch(_){qt(c,f,_)}}function Gc(c,f){try{var v=c.ref;if(v!==null){switch(c.tag){case 26:case 27:case 5:var _=tu(c.stateNode);break;case 30:_=c.stateNode;break;default:_=c.stateNode}typeof v=="function"?c.refCleanup=v(_):v.current=_}}catch(R){qt(c,f,R)}}function bs(c,f){var v=c.ref,_=c.refCleanup;if(v!==null)if(typeof _=="function")try{_()}catch(R){qt(c,f,R)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(R){qt(c,f,R)}else v.current=null}function Wl(c){var f=c.type,v=c.memoizedProps,_=c.stateNode;try{Vy(_,f,v,c)}catch(R){qt(c,c.return,R)}}function cf(c,f,v){try{Hy(c.stateNode,c.type,v,f,c)}catch(_){qt(c,c.return,_)}}function ym(c){return c.tag===5||c.tag===3||(zr?c.tag===26:!1)||(Wi?c.tag===27&&nc(c.type):!1)||c.tag===4}function so(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||ym(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(Wi&&c.tag===27&&nc(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Fd(c,f,v){var _=c.tag;if(_===5||_===6)c=c.stateNode,f?Gy(v,c,f):zm(v,c);else if(_!==4&&(Wi&&_===27&&nc(c.type)&&(v=c.stateNode,f=null),c=c.child,c!==null))for(Fd(c,f,v),c=c.sibling;c!==null;)Fd(c,f,v),c=c.sibling}function uf(c,f,v){var _=c.tag;if(_===5||_===6)c=c.stateNode,f?jy(v,c,f):Um(v,c);else if(_!==4&&(Wi&&_===27&&nc(c.type)&&(v=c.stateNode),c=c.child,c!==null))for(uf(c,f,v),c=c.sibling;c!==null;)uf(c,f,v),c=c.sibling}function vm(c,f,v){c=c.containerInfo;try{jm(c,v)}catch(_){qt(f,f.return,_)}}function Cy(c){var f=c.stateNode,v=c.memoizedProps;try{Oi(c.type,v,f,c)}catch(_){qt(c,c.return,_)}}function L_(c,f){for(eh(c.containerInfo),Mi=f;Mi!==null;)if(c=Mi,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,Mi=f;else for(;Mi!==null;){c=Mi;var v=c.alternate;switch(f=c.flags,c.tag){case 0:if((f&4)!==0&&(f=c.updateQueue,f=f!==null?f.events:null,f!==null))for(var _=0;_<f.length;_++){var R=f[_];R.ref.impl=R.nextImpl}break;case 11:case 15:break;case 1:if((f&1024)!==0&&v!==null){f=void 0,_=c,R=v.memoizedProps,v=v.memoizedState;var P=_.stateNode;try{var j=Vl(_.type,R);f=P.getSnapshotBeforeUpdate(j,v),P.__reactInternalSnapshotBeforeUpdate=f}catch(re){qt(_,_.return,re)}}break;case 3:(f&1024)!==0&&Sn&&km(c.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(s(163))}if(f=c.sibling,f!==null){f.return=c.return,Mi=f;break}Mi=c.return}}function Ry(c,f,v){var _=v.flags;switch(v.tag){case 0:case 11:case 15:Ds(c,v),_&4&&Ta(5,v);break;case 1:if(Ds(c,v),_&4)if(c=v.stateNode,f===null)try{c.componentDidMount()}catch(j){qt(v,v.return,j)}else{var R=Vl(v.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(R,f,c.__reactInternalSnapshotBeforeUpdate)}catch(j){qt(v,v.return,j)}}_&64&&jc(v),_&512&&Gc(v,v.return);break;case 3:if(Ds(c,v),_&64&&(_=v.updateQueue,_!==null)){if(c=null,v.child!==null)switch(v.child.tag){case 27:case 5:c=tu(v.child.stateNode);break;case 1:c=v.child.stateNode}try{no(_,c)}catch(j){qt(v,v.return,j)}}break;case 27:Wi&&f===null&&_&4&&Cy(v);case 26:case 5:if(Ds(c,v),f===null){if(_&4)Wl(v);else if(_&64){c=v.type,f=v.memoizedProps,R=v.stateNode;try{fv(R,c,f,v)}catch(j){qt(v,v.return,j)}}}_&512&&Gc(v,v.return);break;case 12:Ds(c,v);break;case 31:Ds(c,v),_&4&&Dr(c,v);break;case 13:Ds(c,v),_&4&&df(c,v),_&64&&(_=v.memoizedState,_!==null&&(_=_.dehydrated,_!==null&&(v=O_.bind(null,v),oh(_,v))));break;case 22:if(_=v.memoizedState!==null||xi,!_){f=f!==null&&f.memoizedState!==null||bi,R=xi;var P=bi;xi=_,(bi=f)&&!P?Ir(c,v,(v.subtreeFlags&8772)!==0):Ds(c,v),xi=R,bi=P}break;case 30:break;default:Ds(c,v)}}function xm(c){var f=c.alternate;f!==null&&(c.alternate=null,xm(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&th(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function Nr(c,f,v){for(v=v.child;v!==null;)ff(c,f,v),v=v.sibling}function ff(c,f,v){if(Xs&&typeof Xs.onCommitFiberUnmount=="function")try{Xs.onCommitFiberUnmount(rc,v)}catch{}switch(v.tag){case 26:if(zr){bi||bs(v,f),Nr(c,f,v),v.memoizedState?rl(v.memoizedState):v.stateNode&&tg(v.stateNode);break}case 27:if(Wi){bi||bs(v,f);var _=hi,R=Ti;nc(v.type)&&(hi=v.stateNode,Ti=!1),Nr(c,f,v),ts(v.stateNode),hi=_,Ti=R;break}case 5:bi||bs(v,f);case 6:if(Sn){if(_=hi,R=Ti,hi=null,Nr(c,f,v),hi=_,Ti=R,hi!==null)if(Ti)try{Fm(hi,v.stateNode)}catch(P){qt(v,f,P)}else try{Wy(hi,v.stateNode)}catch(P){qt(v,f,P)}}else Nr(c,f,v);break;case 18:Sn&&hi!==null&&(Ti?lh(hi,v.stateNode):Zm(hi,v.stateNode));break;case 4:Sn?(_=hi,R=Ti,hi=v.stateNode.containerInfo,Ti=!0,Nr(c,f,v),hi=_,Ti=R):(hr&&vm(v.stateNode,v,Vm()),Nr(c,f,v));break;case 0:case 11:case 14:case 15:Ea(2,v,f),bi||Ea(4,v,f),Nr(c,f,v);break;case 1:bi||(bs(v,f),_=v.stateNode,typeof _.componentWillUnmount=="function"&&zd(v,f,_)),Nr(c,f,v);break;case 21:Nr(c,f,v);break;case 22:bi=(_=bi)||v.memoizedState!==null,Nr(c,f,v),bi=_;break;default:Nr(c,f,v)}}function Dr(c,f){if(ri&&f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{B_(c)}catch(v){qt(f,f.return,v)}}}function df(c,f){if(ri&&f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{k_(c)}catch(v){qt(f,f.return,v)}}function Pr(c){switch(c.tag){case 31:case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new fg),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new fg),f;default:throw Error(s(435,c.tag))}}function ro(c,f){var v=Pr(c);f.forEach(function(_){if(!v.has(_)){v.add(_);var R=U_.bind(null,c,_);_.then(R,R)}})}function Ji(c,f){var v=f.deletions;if(v!==null)for(var _=0;_<v.length;_++){var R=v[_],P=c,j=f;if(Sn){var re=j;e:for(;re!==null;){switch(re.tag){case 27:if(Wi){if(nc(re.type)){hi=re.stateNode,Ti=!1;break e}break}case 5:hi=re.stateNode,Ti=!1;break e;case 3:case 4:hi=re.stateNode.containerInfo,Ti=!0;break e}re=re.return}if(hi===null)throw Error(s(160));ff(P,j,R),hi=null,Ti=!1}else ff(P,j,R);P=R.alternate,P!==null&&(P.return=null),R.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)hf(f,c),f=f.sibling}function hf(c,f){var v=c.alternate,_=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Ji(f,c),es(c),_&4&&(Ea(3,c,c.return),Ta(3,c),Ea(5,c,c.return));break;case 1:Ji(f,c),es(c),_&512&&(bi||v===null||bs(v,v.return)),_&64&&xi&&(c=c.updateQueue,c!==null&&(_=c.callbacks,_!==null&&(v=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=v===null?_:v.concat(_))));break;case 26:if(zr){var R=kn;if(Ji(f,c),es(c),_&512&&(bi||v===null||bs(v,v.return)),_&4){_=v!==null?v.memoizedState:null;var P=c.memoizedState;v===null?P===null?c.stateNode===null?c.stateNode=yv(R,c.type,c.memoizedProps,c):eg(R,c.type,c.stateNode):c.stateNode=Jm(R,P,c.memoizedProps):_!==P?(_===null?v.stateNode!==null&&tg(v.stateNode):rl(_),P===null?eg(R,c.type,c.stateNode):Jm(R,P,c.memoizedProps)):P===null&&c.stateNode!==null&&cf(c,c.memoizedProps,v.memoizedProps)}break}case 27:if(Wi){Ji(f,c),es(c),_&512&&(bi||v===null||bs(v,v.return)),v!==null&&_&4&&cf(c,c.memoizedProps,v.memoizedProps);break}case 5:if(Ji(f,c),es(c),_&512&&(bi||v===null||bs(v,v.return)),Sn){if(c.flags&32){R=c.stateNode;try{Bm(R)}catch(Ye){qt(c,c.return,Ye)}}_&4&&c.stateNode!=null&&(R=c.memoizedProps,cf(c,R,v!==null?v.memoizedProps:R)),_&1024&&(lu=!0)}else hr&&c.alternate!==null&&(c.alternate.stateNode=c.stateNode);break;case 6:if(Ji(f,c),es(c),_&4&&Sn){if(c.stateNode===null)throw Error(s(162));_=c.memoizedProps,v=v!==null?v.memoizedProps:_,R=c.stateNode;try{ky(R,v,_)}catch(Ye){qt(c,c.return,Ye)}}break;case 3:if(zr?(vv(),R=kn,kn=Tf(f.containerInfo),Ji(f,c),kn=R):Ji(f,c),es(c),_&4){if(Sn&&ri&&v!==null&&v.memoizedState.isDehydrated)try{dv(f.containerInfo)}catch(Ye){qt(c,c.return,Ye)}if(hr){_=f.containerInfo,v=f.pendingChildren;try{jm(_,v)}catch(Ye){qt(c,c.return,Ye)}}}lu&&(lu=!1,Bd(c));break;case 4:zr?(v=kn,kn=Tf(c.stateNode.containerInfo),Ji(f,c),es(c),kn=v):(Ji(f,c),es(c)),_&4&&hr&&vm(c.stateNode,c,c.stateNode.pendingChildren);break;case 12:Ji(f,c),es(c);break;case 31:Ji(f,c),es(c),_&4&&(_=c.updateQueue,_!==null&&(c.updateQueue=null,ro(c,_)));break;case 13:Ji(f,c),es(c),c.child.flags&8192&&c.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(Of=_s()),_&4&&(_=c.updateQueue,_!==null&&(c.updateQueue=null,ro(c,_)));break;case 22:R=c.memoizedState!==null;var j=v!==null&&v.memoizedState!==null,re=xi,De=bi;if(xi=re||R,bi=De||j,Ji(f,c),bi=De,xi=re,es(c),_&8192&&(f=c.stateNode,f._visibility=R?f._visibility&-2:f._visibility|1,R&&(v===null||j||xi||bi||Xo(c)),Sn)){e:if(v=null,Sn)for(f=c;;){if(f.tag===5||zr&&f.tag===26){if(v===null){j=v=f;try{P=j.stateNode,R?z_(P):qy(j.stateNode,j.memoizedProps)}catch(Ye){qt(j,j.return,Ye)}}}else if(f.tag===6){if(v===null){j=f;try{var We=j.stateNode;R?Xy(We):Yy(We,j.memoizedProps)}catch(Ye){qt(j,j.return,Ye)}}}else if(f.tag===18){if(v===null){j=f;try{var st=j.stateNode;R?pv(st):mv(j.stateNode)}catch(Ye){qt(j,j.return,Ye)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;v===f&&(v=null),f=f.return}v===f&&(v=null),f.sibling.return=f.return,f=f.sibling}}_&4&&(_=c.updateQueue,_!==null&&(v=_.retryQueue,v!==null&&(_.retryQueue=null,ro(c,v))));break;case 19:Ji(f,c),es(c),_&4&&(_=c.updateQueue,_!==null&&(c.updateQueue=null,ro(c,_)));break;case 30:break;case 21:break;default:Ji(f,c),es(c)}}function es(c){var f=c.flags;if(f&2){try{for(var v,_=c.return;_!==null;){if(ym(_)){v=_;break}_=_.return}if(Sn){if(v==null)throw Error(s(160));switch(v.tag){case 27:if(Wi){var R=v.stateNode,P=so(c);uf(c,P,R);break}case 5:var j=v.stateNode;v.flags&32&&(Bm(j),v.flags&=-33);var re=so(c);uf(c,re,j);break;case 3:case 4:var De=v.stateNode.containerInfo,We=so(c);Fd(c,We,De);break;default:throw Error(s(161))}}}catch(st){qt(c,c.return,st)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function Bd(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;Bd(f),f.tag===5&&f.flags&1024&&Pm(f.stateNode),c=c.sibling}}function Ds(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Ry(c,f.alternate,f),f=f.sibling}function Xo(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:Ea(4,f,f.return),Xo(f);break;case 1:bs(f,f.return);var v=f.stateNode;typeof v.componentWillUnmount=="function"&&zd(f,f.return,v),Xo(f);break;case 27:Wi&&ts(f.stateNode);case 26:case 5:bs(f,f.return),Xo(f);break;case 22:f.memoizedState===null&&Xo(f);break;case 30:Xo(f);break;default:Xo(f)}c=c.sibling}}function Ir(c,f,v){for(v=v&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var _=f.alternate,R=c,P=f,j=P.flags;switch(P.tag){case 0:case 11:case 15:Ir(R,P,v),Ta(4,P);break;case 1:if(Ir(R,P,v),_=P,R=_.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(We){qt(_,_.return,We)}if(_=P,R=_.updateQueue,R!==null){var re=_.stateNode;try{var De=R.shared.hiddenCallbacks;if(De!==null)for(R.shared.hiddenCallbacks=null,R=0;R<De.length;R++)to(De[R],re)}catch(We){qt(_,_.return,We)}}v&&j&64&&jc(P),Gc(P,P.return);break;case 27:Wi&&Cy(P);case 26:case 5:Ir(R,P,v),v&&_===null&&j&4&&Wl(P),Gc(P,P.return);break;case 12:Ir(R,P,v);break;case 31:Ir(R,P,v),v&&j&4&&Dr(R,P);break;case 13:Ir(R,P,v),v&&j&4&&df(R,P);break;case 22:P.memoizedState===null&&Ir(R,P,v),Gc(P,P.return);break;case 30:break;default:Ir(R,P,v)}f=f.sibling}}function qo(c,f){var v=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==v&&(c!=null&&c.refCount++,v!=null&&Ue(v))}function bm(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&Ue(c))}function ci(c,f,v,_){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)kd(c,f,v,_),f=f.sibling}function kd(c,f,v,_){var R=f.flags;switch(f.tag){case 0:case 11:case 15:ci(c,f,v,_),R&2048&&Ta(9,f);break;case 1:ci(c,f,v,_);break;case 3:ci(c,f,v,_),R&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&Ue(c)));break;case 12:if(R&2048){ci(c,f,v,_),c=f.stateNode;try{var P=f.memoizedProps,j=P.id,re=P.onPostCommit;typeof re=="function"&&re(j,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(De){qt(f,f.return,De)}}else ci(c,f,v,_);break;case 31:ci(c,f,v,_);break;case 13:ci(c,f,v,_);break;case 23:break;case 22:P=f.stateNode,j=f.alternate,f.memoizedState!==null?P._visibility&2?ci(c,f,v,_):Wc(c,f):P._visibility&2?ci(c,f,v,_):(P._visibility|=2,ks(c,f,v,_,(f.subtreeFlags&10256)!==0||!1)),R&2048&&qo(j,f);break;case 24:ci(c,f,v,_),R&2048&&bm(f.alternate,f);break;default:ci(c,f,v,_)}}function ks(c,f,v,_,R){for(R=R&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var P=c,j=f,re=v,De=_,We=j.flags;switch(j.tag){case 0:case 11:case 15:ks(P,j,re,De,R),Ta(8,j);break;case 23:break;case 22:var st=j.stateNode;j.memoizedState!==null?st._visibility&2?ks(P,j,re,De,R):Wc(P,j):(st._visibility|=2,ks(P,j,re,De,R)),R&&We&2048&&qo(j.alternate,j);break;case 24:ks(P,j,re,De,R),R&&We&2048&&bm(j.alternate,j);break;default:ks(P,j,re,De,R)}f=f.sibling}}function Wc(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var v=c,_=f,R=_.flags;switch(_.tag){case 22:Wc(v,_),R&2048&&qo(_.alternate,_);break;case 24:Wc(v,_),R&2048&&bm(_.alternate,_);break;default:Wc(v,_)}f=f.sibling}}function Aa(c,f,v){if(c.subtreeFlags&yr)for(c=c.child;c!==null;)Yo(c,f,v),c=c.sibling}function Yo(c,f,v){switch(c.tag){case 26:if(Aa(c,f,v),c.flags&yr)if(c.memoizedState!==null)xv(v,kn,c.memoizedState,c.memoizedProps);else{var _=c.stateNode,R=c.type;c=c.memoizedProps,((f&335544128)===f||Nm(R,c))&&nh(v,_,R,c)}break;case 5:Aa(c,f,v),c.flags&yr&&(_=c.stateNode,R=c.type,c=c.memoizedProps,((f&335544128)===f||Nm(R,c))&&nh(v,_,R,c));break;case 3:case 4:zr?(_=kn,kn=Tf(c.stateNode.containerInfo),Aa(c,f,v),kn=_):Aa(c,f,v);break;case 22:c.memoizedState===null&&(_=c.alternate,_!==null&&_.memoizedState!==null?(_=yr,yr=16777216,Aa(c,f,v),yr=_):Aa(c,f,v));break;default:Aa(c,f,v)}}function Vd(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function Xc(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var _=f[v];Mi=_,ur(_,c)}Vd(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Hd(c),c=c.sibling}function Hd(c){switch(c.tag){case 0:case 11:case 15:Xc(c),c.flags&2048&&Ea(9,c,c.return);break;case 3:Xc(c);break;case 12:Xc(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&2&&(c.return===null||c.return.tag!==13)?(f._visibility&=-3,pf(c)):Xc(c);break;default:Xc(c)}}function pf(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var _=f[v];Mi=_,ur(_,c)}Vd(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:Ea(8,f,f.return),pf(f);break;case 22:v=f.stateNode,v._visibility&2&&(v._visibility&=-3,pf(f));break;default:pf(f)}c=c.sibling}}function ur(c,f){for(;Mi!==null;){var v=Mi;switch(v.tag){case 0:case 11:case 15:Ea(8,v,f);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var _=v.memoizedState.cachePool.pool;_!=null&&_.refCount++}break;case 24:Ue(v.memoizedState.cache)}if(_=v.child,_!==null)_.return=v,Mi=_;else e:for(v=c;Mi!==null;){_=Mi;var R=_.sibling,P=_.return;if(xm(_),_===v){Mi=null;break e}if(R!==null){R.return=P,Mi=R;break e}Mi=P}}}function $o(c){var f=tn(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(s(364));return f}if(c=Si(c),c===null)throw Error(s(362));return c.stateNode.current}function Zo(c,f){var v=c.tag;switch(f.$$typeof){case Wr:if(c.type===f.value)return!0;break;case uu:e:{for(f=f.value,c=[c,0],v=0;v<c.length;){var _=c[v++],R=_.tag,P=c[v++],j=f[P];if(R!==5&&R!==26&&R!==27||!il(_)){for(;j!=null&&Zo(_,j);)P++,j=f[P];if(P===f.length){f=!0;break e}else for(_=_.child;_!==null;)c.push(_,P),_=_.sibling}}f=!1}return f;case fu:if((v===5||v===26||v===27)&&Om(c.stateNode,f.value))return!0;break;case fl:if((v===5||v===6||v===26||v===27)&&(c=wf(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case If:if((v===5||v===26||v===27)&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function qc(c){switch(c.$$typeof){case Wr:return"<"+(m(c.value)||"Unknown")+">";case uu:return":has("+(qc(c)||"")+")";case fu:return'[role="'+c.value+'"]';case fl:return'"'+c.value+'"';case If:return'[data-testname="'+c.value+'"]';default:throw Error(s(365))}}function Yc(c,f){var v=[];c=[c,0];for(var _=0;_<c.length;){var R=c[_++],P=R.tag,j=c[_++],re=f[j];if(P!==5&&P!==26&&P!==27||!il(R)){for(;re!=null&&Zo(R,re);)j++,re=f[j];if(j===f.length)v.push(R);else for(R=R.child;R!==null;)c.push(R,j),R=R.sibling}}return v}function Vs(c,f){if(!Gi)throw Error(s(363));c=$o(c),c=Yc(c,f),f=[],c=Array.from(c);for(var v=0;v<c.length;){var _=c[v++],R=_.tag;if(R===5||R===26||R===27)il(_)||f.push(_.stateNode);else for(_=_.child;_!==null;)c.push(_),_=_.sibling}return f}function si(){return(pn&2)!==0&&xn!==0?xn&-xn:zt.T!==null?at():iu()}function ao(){if(zs===0)if((xn&536870912)===0||vn){var c=sc;sc<<=1,(sc&3932160)===0&&(sc=262144),zs=c}else zs=536870912;return c=qs.current,c!==null&&(c.flags|=32),zs}function ui(c,f,v){(c===cn&&(Vn===2||Vn===9)||c.cancelPendingCommit!==null)&&(yi(c,0),Ra(c,xn,zs,!1)),F(c,v),((pn&2)===0||c!==cn)&&(c===cn&&((pn&2)===0&&(pl|=v),pi===4&&Ra(c,xn,zs,!1)),ft(c))}function la(c,f,v){if((pn&6)!==0)throw Error(s(327));var _=!v&&(f&127)===0&&(f&c.expiredLanes)===0||N(c,f),R=_?Py(c,f):Na(c,f,!0),P=_;do{if(R===0){dl&&!_&&Ra(c,f,0,!1);break}else{if(v=c.current.alternate,P&&!Ny(v)){R=Na(c,f,!1),P=!1;continue}if(R===2){if(P=f,c.errorRecoveryDisabledLanes&P)var j=0;else j=c.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){f=j;e:{var re=c;R=Lf;var De=ri&&re.current.memoizedState.isDehydrated;if(De&&(yi(re,j).flags|=256),j=Na(re,j,!1),j!==2){if(hl&&!De){re.errorRecoveryDisabledLanes|=P,pl|=P,R=4;break e}P=$s,$s=R,P!==null&&($s===null?$s=P:$s.push.apply($s,P))}R=j}if(P=!1,R!==2)continue}}if(R===1){yi(c,0),Ra(c,f,0,!0);break}e:{switch(_=c,P=R,P){case 0:case 1:throw Error(s(345));case 4:if((f&4194048)!==f)break;case 6:Ra(_,f,zs,!da);break e;case 2:$s=null;break;case 3:case 5:break;default:throw Error(s(329))}if((f&62914560)===f&&(R=Of+300-_s(),10<R)){if(Ra(_,f,zs,!da),M(_,0,!0)!==0)break e;Ga=f,_.timeoutHandle=Rm(Ca.bind(null,_,v,$s,Uf,Mh,f,zs,pl,hu,da,P,"Throttled",-0,0),R);break e}Ca(_,v,$s,Uf,Mh,f,zs,pl,hu,da,P,null,-0,0)}}break}while(!0);ft(c)}function Ca(c,f,v,_,R,P,j,re,De,We,st,Ye,vt,en){if(c.timeoutHandle=Gs,Ye=f.subtreeFlags,Ye&8192||(Ye&16785408)===16785408){Ye=Dm(),Yo(f,P,Ye);var Ei=(P&62914560)===P?Of-_s():(P&4194048)===P?fc-_s():0;if(Ei=By(Ye,Ei),Ei!==null){Ga=P,c.cancelPendingCommit=Ei(Pa.bind(null,c,f,P,v,_,R,j,re,De,st,Ye,null,vt,en)),Ra(c,P,j,!We);return}}Pa(c,f,P,v,_,R,j,re,De)}function Ny(c){for(var f=c;;){var v=f.tag;if((v===0||v===11||v===15)&&f.flags&16384&&(v=f.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var _=0;_<v.length;_++){var R=v[_],P=R.getSnapshot;R=R.value;try{if(!wi(P(),R))return!1}catch{return!1}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Ra(c,f,v,_){f&=~du,f&=~pl,c.suspendedLanes|=f,c.pingedLanes&=~f,_&&(c.warmLanes|=f),_=c.expirationTimes;for(var R=f;0<R;){var P=31-Ws(R),j=1<<P;_[P]=-1,R&=~j}v!==0&&H(c,v,f)}function jd(){return(pn&6)===0?(Ke(0),!1):!0}function Gd(){if(mn!==null){if(Vn===0)var c=mn.return;else c=mn,ua=Qn=null,jn(c),ll=null,ac=0,c=mn;for(;c!==null;)Ay(c.alternate,c),c=c.return;mn=null}}function yi(c,f){var v=c.timeoutHandle;v!==Gs&&(c.timeoutHandle=Gs,Fy(v)),v=c.cancelPendingCommit,v!==null&&(c.cancelPendingCommit=null,v()),Ga=0,Gd(),cn=c,mn=v=dr(c.current,null),xn=f,Vn=0,Ui=null,da=!1,dl=N(c,f),hl=!1,hu=zs=du=pl=xo=pi=0,$s=Lf=null,Mh=!1,(f&8)!==0&&(f|=f&32);var _=c.entangledLanes;if(_!==0)for(c=c.entanglements,_&=f;0<_;){var R=31-Ws(_),P=1<<R;f|=c[R],_&=~P}return ja=f,ra(),v}function Kn(c,f){nn=null,zt.H=gr,f===Yi||f===jr?(f=fn(),Vn=3):f===Sh?(f=fn(),Vn=4):Vn=f===Us?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Ui=f,mn===null&&(pi=1,Id(c,ye(f,c.current)))}function _n(){var c=qs.current;return c===null?!0:(xn&4194048)===xn?Ys===null:(xn&62914560)===xn||(xn&536870912)!==0?c===Ys:!1}function oo(){var c=zt.H;return zt.H=gr,c===null?gr:c}function fr(){var c=zt.A;return zt.A=cu,c}function $c(){pi=4,da||(xn&4194048)!==xn&&qs.current!==null||(dl=!0),(xo&134217727)===0&&(pl&134217727)===0||cn===null||Ra(cn,xn,zs,!1)}function Na(c,f,v){var _=pn;pn|=2;var R=oo(),P=fr();(cn!==c||xn!==f)&&(Uf=null,yi(c,f)),f=!1;var j=pi;e:do try{if(Vn!==0&&mn!==null){var re=mn,De=Ui;switch(Vn){case 8:Gd(),j=6;break e;case 3:case 2:case 9:case 6:qs.current===null&&(f=!0);var We=Vn;if(Vn=0,Ui=null,Da(c,re,De,We),v&&dl){j=0;break e}break;default:We=Vn,Vn=0,Ui=null,Da(c,re,De,We)}}Dy(),j=pi;break}catch(st){Kn(c,st)}while(!0);return f&&c.shellSuspendCounter++,ua=Qn=null,pn=_,zt.H=R,zt.A=P,mn===null&&(cn=null,xn=0,ra()),j}function Dy(){for(;mn!==null;)Ko(mn)}function Py(c,f){var v=pn;pn|=2;var _=oo(),R=fr();cn!==c||xn!==f?(Uf=null,ml=_s()+500,yi(c,f)):dl=N(c,f);e:do try{if(Vn!==0&&mn!==null){f=mn;var P=Ui;t:switch(Vn){case 1:Vn=0,Ui=null,Da(c,f,P,1);break;case 2:case 9:if(Ge(P)){Vn=0,Ui=null,Wd(f);break}f=function(){Vn!==2&&Vn!==9||cn!==c||(Vn=7),ft(c)},P.then(f,f);break e;case 3:Vn=7;break e;case 4:Vn=5;break e;case 7:Ge(P)?(Vn=0,Ui=null,Wd(f)):(Vn=0,Ui=null,Da(c,f,P,7));break;case 5:var j=null;switch(mn.tag){case 26:j=mn.memoizedState;case 5:case 27:var re=mn,De=re.type,We=re.pendingProps;if(j?ig(j):fi(re.stateNode,De,We)){Vn=0,Ui=null;var st=re.sibling;if(st!==null)mn=st;else{var Ye=re.return;Ye!==null?(mn=Ye,Kc(Ye)):mn=null}break t}}Vn=0,Ui=null,Da(c,f,P,5);break;case 6:Vn=0,Ui=null,Da(c,f,P,6);break;case 8:Gd(),pi=6;break e;default:throw Error(s(462))}}Zc();break}catch(vt){Kn(c,vt)}while(!0);return ua=Qn=null,zt.H=_,zt.A=R,pn=v,mn!==null?0:(cn=null,xn=0,ra(),pi)}function Zc(){for(;mn!==null&&!_v();)Ko(mn)}function Ko(c){var f=hm(c.alternate,c,ja);c.memoizedProps=c.pendingProps,f===null?Kc(c):mn=f}function Wd(c){var f=c,v=f.alternate;switch(f.tag){case 15:case 0:f=om(v,f,f.pendingProps,f.type,void 0,xn);break;case 11:f=om(v,f,f.pendingProps,f.type.render,f.ref,xn);break;case 5:jn(f);default:Ay(v,f),f=mn=Yd(f,ja),f=hm(v,f,ja)}c.memoizedProps=c.pendingProps,f===null?Kc(c):mn=f}function Da(c,f,v,_){ua=Qn=null,jn(f),ll=null,ac=0;var R=f.return;try{if(I_(c,R,f,v,xn)){pi=1,Id(c,ye(v,c.current)),mn=null;return}}catch(P){if(R!==null)throw mn=R,P;pi=1,Id(c,ye(v,c.current)),mn=null;return}f.flags&32768?(vn||_===1?c=!0:dl||(xn&536870912)!==0?c=!1:(da=c=!0,(_===2||_===9||_===3||_===6)&&(_=qs.current,_!==null&&_.tag===13&&(_.flags|=16384))),Qo(f,c)):Kc(f)}function Kc(c){var f=c;do{if((f.flags&32768)!==0){Qo(f,da);return}c=f.return;var v=Ey(f.alternate,f,ja);if(v!==null){mn=v;return}if(f=f.sibling,f!==null){mn=f;return}mn=f=c}while(f!==null);pi===0&&(pi=5)}function Qo(c,f){do{var v=gm(c.alternate,c);if(v!==null){v.flags&=32767,mn=v;return}if(v=c.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!f&&(c=c.sibling,c!==null)){mn=c;return}mn=c=v}while(c!==null);pi=6,mn=null}function Pa(c,f,v,_,R,P,j,re,De){c.cancelPendingCommit=null;do La();while(zi!==0);if((pn&6)!==0)throw Error(s(327));if(f!==null){if(f===c.current)throw Error(s(177));if(P=f.lanes|f.childLanes,P|=oc,B(c,v,P,j,re,De),c===cn&&(mn=cn=null,xn=0),dc=f,_o=c,Ga=v,pu=P,Th=R,dg=_,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,Li(Af,function(){return mf(),null})):(c.callbackNode=null,c.callbackPriority=0),_=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||_){_=zt.T,zt.T=null,R=Ur(),yn(2),j=pn,pn|=4;try{L_(c,f,v)}finally{pn=j,yn(R),zt.T=_}}zi=1,lo(),Ia(),Xd()}}function lo(){if(zi===1){zi=0;var c=_o,f=dc,v=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||v){v=zt.T,zt.T=null;var _=Ur();yn(2);var R=pn;pn|=4;try{hf(f,c),zy(c.containerInfo)}finally{pn=R,yn(_),zt.T=v}}c.current=f,zi=2}}function Ia(){if(zi===2){zi=0;var c=_o,f=dc,v=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||v){v=zt.T,zt.T=null;var _=Ur();yn(2);var R=pn;pn|=4;try{Ry(c,f.alternate,f)}finally{pn=R,yn(_),zt.T=v}}zi=3}}function Xd(){if(zi===4||zi===3){zi=0,rg();var c=_o,f=dc,v=Ga,_=dg;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?zi=5:(zi=0,dc=_o=null,qd(c,c.pendingLanes));var R=c.pendingLanes;if(R===0&&(bo=null),se(v),f=f.stateNode,Xs&&typeof Xs.onCommitFiberRoot=="function")try{Xs.onCommitFiberRoot(rc,f,void 0,(f.current.flags&128)===128)}catch{}if(_!==null){f=zt.T,R=Ur(),yn(2),zt.T=null;try{for(var P=c.onRecoverableError,j=0;j<_.length;j++){var re=_[j];P(re.value,{componentStack:re.stack})}}finally{zt.T=f,yn(R)}}(Ga&3)!==0&&La(),ft(c),R=c.pendingLanes,(v&261930)!==0&&(R&42)!==0?c===zf?Pn++:(Pn=0,zf=c):Pn=0,ri&&Mf(),Ke(0)}}function qd(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,Ue(f)))}function La(){return lo(),Ia(),Xd(),mf()}function mf(){if(zi!==5)return!1;var c=_o,f=pu;pu=0;var v=se(Ga),_=32>v?32:v;v=zt.T;var R=Ur();try{yn(_),zt.T=null,_=Th,Th=null;var P=_o,j=Ga;if(zi=0,dc=_o=null,Ga=0,(pn&6)!==0)throw Error(s(331));var re=pn;if(pn|=4,Hd(P.current),kd(P,P.current,j,_),pn=re,Ke(0,!1),Xs&&typeof Xs.onPostCommitFiberRoot=="function")try{Xs.onPostCommitFiberRoot(rc,P)}catch{}return!0}finally{yn(R),zt.T=v,qd(c,f)}}function Jo(c,f,v){f=ye(v,f),f=rm(c.stateNode,f,2),c=lr(c,f,2),c!==null&&(F(c,2),ft(c))}function qt(c,f,v){if(c.tag===3)Jo(c,c,v);else for(;f!==null;){if(f.tag===3){Jo(f,c,v);break}else if(f.tag===1){var _=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(bo===null||!bo.has(_))){c=ye(v,c),v=py(2),_=lr(f,v,2),_!==null&&(my(v,_,f,c),F(_,2),ft(_));break}}f=f.return}}function Qc(c,f,v){var _=c.pingCache;if(_===null){_=c.pingCache=new vr;var R=new Set;_.set(f,R)}else R=_.get(f),R===void 0&&(R=new Set,_.set(f,R));R.has(v)||(hl=!0,R.add(v),c=Iy.bind(null,c,f,v),f.then(c,c))}function Iy(c,f,v){var _=c.pingCache;_!==null&&_.delete(f),c.pingedLanes|=c.suspendedLanes&v,c.warmLanes&=~v,cn===c&&(xn&v)===v&&(pi===4||pi===3&&(xn&62914560)===xn&&300>_s()-Of?(pn&2)===0&&yi(c,0):du|=v,hu===xn&&(hu=0)),ft(c)}function Ly(c,f){f===0&&(f=I()),c=xs(c,f),c!==null&&(F(c,f),ft(c))}function O_(c){var f=c.memoizedState,v=0;f!==null&&(v=f.retryLane),Ly(c,v)}function U_(c,f){var v=0;switch(c.tag){case 31:case 13:var _=c.stateNode,R=c.memoizedState;R!==null&&(v=R.retryLane);break;case 19:_=c.stateNode;break;case 22:_=c.stateNode._retryCache;break;default:throw Error(s(314))}_!==null&&_.delete(f),Ly(c,v)}function Li(c,f){return Ef(c,f)}function _m(c,f,v,_){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xl(c){return c=c.prototype,!(!c||!c.isReactComponent)}function dr(c,f){var v=c.alternate;return v===null?(v=t(c.tag,f,c.key,c.mode),v.elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=f,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=c.flags&65011712,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,f=c.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v.refCleanup=c.refCleanup,v}function Yd(c,f){c.flags&=65011714;var v=c.alternate;return v===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=v.childLanes,c.lanes=v.lanes,c.child=v.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=v.memoizedProps,c.memoizedState=v.memoizedState,c.updateQueue=v.updateQueue,c.type=v.type,f=v.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function co(c,f,v,_,R,P){var j=0;if(_=c,typeof c=="function")Xl(c)&&(j=1);else if(typeof c=="string")j=zr&&Wi?ch(c,v,ns.current)?26:sg(c)?27:5:zr?ch(c,v,ns.current)?26:5:Wi&&sg(c)?27:5;else e:switch(c){case xf:return c=t(31,v,f,R),c.elementType=xf,c.lanes=P,c;case Zl:return Lr(v.children,R,P,f);case Kl:j=8,R|=24;break;case Ql:return c=t(12,v,f,R|2),c.elementType=Ql,c.lanes=P,c;case Qd:return c=t(13,v,f,R),c.elementType=Qd,c.lanes=P,c;case uo:return c=t(19,v,f,R),c.elementType=uo,c.lanes=P,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case Or:j=10;break e;case vf:j=9;break e;case Jc:j=11;break e;case Jd:j=14;break e;case Ps:j=16,_=null;break e}j=29,v=Error(s(130,c===null?"null":typeof c,"")),_=null}return f=t(j,v,f,R),f.elementType=c,f.type=_,f.lanes=P,f}function Lr(c,f,v,_){return c=t(7,c,_,f),c.lanes=v,c}function Sm(c,f,v){return c=t(6,c,null,f),c.lanes=v,c}function wm(c){var f=t(18,null,null,0);return f.stateNode=c,f}function Mm(c,f,v){return f=t(4,c.children!==null?c.children:[],c.key,f),f.lanes=v,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function Oy(c,f,v,_,R,P,j,re,De){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Gs,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=O(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O(0),this.hiddenUpdates=O(null),this.identifierPrefix=_,this.onUncaughtError=R,this.onCaughtError=P,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=De,this.incompleteTransitions=new Map}function el(c,f,v,_,R,P,j,re,De,We,st,Ye){return c=new Oy(c,f,v,j,De,We,st,Ye,re),f=1,P===!0&&(f|=24),P=t(3,null,null,f),c.current=P,P.stateNode=c,f=Ce(),f.refCount++,c.pooledCache=f,f.refCount++,P.memoizedState={element:_,isDehydrated:v,cache:f},Hi(P),c}function $d(c){return c?(c=Ua,c):Ua}function gf(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(s(188)):(c=Object.keys(c).join(","),Error(s(268,c)));return c=u(f),c=c!==null?h(c):null,c===null?null:tu(c.stateNode)}function Tm(c,f,v,_,R,P){R=$d(R),_.context===null?_.context=R:_.pendingContext=R,_=or(f),_.payload={element:v},P=P===void 0?null:P,P!==null&&(_.callback=P),v=lr(c,_,f),v!==null&&(ui(v,c,f),Vo(v,c,f))}function ql(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<f?v:f}}function yf(c,f){ql(c,f),(c=c.alternate)&&ql(c,f)}var on={},Zd=it,Hs=pJ,Kd=Object.assign,Yl=Symbol.for("react.element"),Oa=Symbol.for("react.transitional.element"),$l=Symbol.for("react.portal"),Zl=Symbol.for("react.fragment"),Kl=Symbol.for("react.strict_mode"),Ql=Symbol.for("react.profiler"),vf=Symbol.for("react.consumer"),Or=Symbol.for("react.context"),Jc=Symbol.for("react.forward_ref"),Qd=Symbol.for("react.suspense"),uo=Symbol.for("react.suspense_list"),Jd=Symbol.for("react.memo"),Ps=Symbol.for("react.lazy"),xf=Symbol.for("react.activity"),Em=Symbol.for("react.memo_cache_sentinel"),fo=Symbol.iterator,tl=Symbol.for("react.client.reference"),nl=Array.isArray,zt=Zd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Am=e.rendererVersion,bf=e.rendererPackageName,eu=e.extraDevToolsConfig,tu=e.getPublicInstance,Uy=e.getRootHostContext,nu=e.getChildHostContext,eh=e.prepareForCommit,zy=e.resetAfterCommit,Cm=e.createInstance;e.cloneMutableInstance;var _f=e.appendInitialChild,js=e.finalizeInitialChildren,Is=e.shouldSetTextContent,ho=e.createTextInstance;e.cloneMutableTextInstance;var Rm=e.scheduleTimeout,Fy=e.cancelTimeout,Gs=e.noTimeout,_i=e.isPrimaryRenderer;e.warnsIfNotActing;var Sn=e.supportsMutation,hr=e.supportsPersistence,ri=e.supportsHydration,tn=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var Gn=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var yn=e.setCurrentUpdatePriority,Ur=e.getCurrentUpdatePriority,iu=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var Jl=e.shouldAttemptEagerTransition,th=e.detachDeletedInstance;e.requestPostPaintCallback;var Sf=e.maySuspendCommit,su=e.maySuspendCommitOnUpdate,Nm=e.maySuspendCommitInSyncRender,fi=e.preloadInstance,Dm=e.startSuspendingCommit,nh=e.suspendInstance;e.suspendOnActiveViewTransition;var By=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var ec=e.NotPendingTransition,tc=e.HostTransitionContext,Pm=e.resetFormInstance;e.bindToConsole;var Im=e.supportsMicrotasks,Lm=e.scheduleMicrotask,Gi=e.supportsTestSelectors,Si=e.findFiberRoot,ih=e.getBoundingRect,wf=e.getTextContent,il=e.isHiddenSubtree,Om=e.matchAccessibilityRole,po=e.setFocusIfFocusable,sh=e.setupIntersectionObserver,Um=e.appendChild,zm=e.appendChildToContainer,ky=e.commitTextUpdate,Vy=e.commitMount,Hy=e.commitUpdate,jy=e.insertBefore,Gy=e.insertInContainerBefore,Wy=e.removeChild,Fm=e.removeChildFromContainer,Bm=e.resetTextContent,z_=e.hideInstance,Xy=e.hideTextInstance,qy=e.unhideInstance,Yy=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var km=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var $y=e.cloneInstance,Vm=e.createContainerChildSet,Hm=e.appendChildToContainerChildSet,Zy=e.finalizeContainerChildren,jm=e.replaceContainerChildren,Ky=e.cloneHiddenInstance,Gm=e.cloneHiddenTextInstance,sl=e.isSuspenseInstancePending,rh=e.isSuspenseInstanceFallback,ah=e.getSuspenseInstanceFallbackErrorDetails,oh=e.registerSuspenseInstanceRetry,Qy=e.canHydrateFormStateMarker,Wm=e.isFormStateMarkerMatching,Jy=e.getNextHydratableSibling,ev=e.getNextHydratableSiblingAfterSingleton,tv=e.getFirstHydratableChild,nv=e.getFirstHydratableChildWithinContainer,iv=e.getFirstHydratableChildWithinActivityInstance,sv=e.getFirstHydratableChildWithinSuspenseInstance,Xm=e.getFirstHydratableChildWithinSingleton,rv=e.canHydrateInstance,av=e.canHydrateTextInstance,qm=e.canHydrateActivityInstance,ov=e.canHydrateSuspenseInstance,lv=e.hydrateInstance,F_=e.hydrateTextInstance,Ym=e.hydrateActivityInstance,cv=e.hydrateSuspenseInstance,uv=e.getNextHydratableInstanceAfterActivityInstance,$m=e.getNextHydratableInstanceAfterSuspenseInstance,fv=e.commitHydratedInstance,dv=e.commitHydratedContainer,B_=e.commitHydratedActivityInstance,k_=e.commitHydratedSuspenseInstance,hv=e.finalizeHydratedChildren,Mf=e.flushHydrationEvents;e.clearActivityBoundary;var Zm=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var lh=e.clearSuspenseBoundaryFromContainer,pv=e.hideDehydratedBoundary,mv=e.unhideDehydratedBoundary,ru=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var gv=e.validateHydratableInstance,Km=e.validateHydratableTextInstance,zr=e.supportsResources,ch=e.isHostHoistableType,Tf=e.getHoistableRoot,Qm=e.getResource,Jm=e.acquireResource,rl=e.releaseResource,yv=e.hydrateHoistable,eg=e.mountHoistable,tg=e.unmountHoistable,uh=e.createHoistableInstance,vv=e.prepareToCommitHoistables,ng=e.mayResourceSuspendCommit,ig=e.preloadResource,xv=e.suspendResource,Wi=e.supportsSingletons,fh=e.resolveSingletonInstance,Oi=e.acquireSingletonInstance,ts=e.releaseSingletonInstance,sg=e.isHostSingletonType,nc=e.isSingletonScope,dh=[],ic=-1,Ua={},Ws=Math.clz32?Math.clz32:A,hh=Math.log,bv=Math.LN2,ph=256,sc=262144,au=4194304,Ef=Hs.unstable_scheduleCallback,mh=Hs.unstable_cancelCallback,_v=Hs.unstable_shouldYield,rg=Hs.unstable_requestPaint,_s=Hs.unstable_now,gh=Hs.unstable_ImmediatePriority,Sv=Hs.unstable_UserBlockingPriority,Af=Hs.unstable_NormalPriority,yh=Hs.unstable_IdlePriority,ag=Hs.log,wv=Hs.unstable_setDisableYieldValue,rc=null,Xs=null,wi=typeof Object.is=="function"?Object.is:ne,vh=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},V_=Object.prototype.hasOwnProperty,xh,za,Cf=!1,og=new WeakMap,mo=[],Fa=0,Wn=null,Rf=0,Fr=[],pr=0,Br=null,us=1,ca="",ns=x(null),go=x(null),fs=x(null),Nf=x(null),Xi=null,ai=null,vn=!1,Ba=null,Ls=!1,bh=Error(s(519)),kr=x(null),Qn=null,ua=null,Mv=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(v,_){c.push(_)}};this.abort=function(){f.aborted=!0,c.forEach(function(v){return v()})}},is=Hs.unstable_scheduleCallback,H_=Hs.unstable_NormalPriority,oi={$$typeof:Or,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Df=null,Bn=null,Ss=!1,Vr=!1,_h=!1,al=0,ou=null,lg=0,yo=0,qi=null,Hr=zt.S;zt.S=function(c,f){fc=_s(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&Kt(c,f),Hr!==null&&Hr(c,f)};var ol=x(null),Yi=Error(s(460)),Sh=Error(s(474)),jr=Error(s(542)),ka={then:function(){}},Os=null,ll=null,ac=0,ds=Vi(!0),cg=Vi(!1),hs=[],Va=0,oc=0,mr=!1,wh=!1,lc=x(null),cl=x(0),qs=x(null),Ys=null,vi=x(0),vo=0,nn=null,Lt=null,Zt=null,ln=!1,rn=!1,Mn=!1,ws=0,Gr=0,fa=null,ug=0,gr={readContext:Y,use:Pi,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e,useHostTransitionStatus:$e,useFormState:$e,useActionState:$e,useOptimistic:$e,useMemoCache:$e,useCacheRefresh:$e};gr.useEffectEvent=$e;var di={readContext:Y,use:Pi,useCallback:function(c,f){return Qt().memoizedState=[c,f===void 0?null:f],c},useContext:Y,useEffect:ef,useImperativeHandle:function(c,f,v){v=v!=null?v.concat([c]):null,kl(4194308,4,Uc.bind(null,f,c),v)},useLayoutEffect:function(c,f){return kl(4194308,4,c,f)},useInsertionEffect:function(c,f){kl(4,2,c,f)},useMemo:function(c,f){var v=Qt();f=f===void 0?null:f;var _=c();if(Mn){ee(!0);try{c()}finally{ee(!1)}}return v.memoizedState=[_,f],_},useReducer:function(c,f,v){var _=Qt();if(v!==void 0){var R=v(f);if(Mn){ee(!0);try{v(f)}finally{ee(!1)}}}else R=f;return _.memoizedState=_.baseState=R,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:R},_.queue=c,c=c.dispatch=P_.bind(null,nn,c),[_.memoizedState,c]},useRef:function(c){var f=Qt();return c={current:c},f.memoizedState=c},useState:function(c){c=Kp(c);var f=c.queue,v=uy.bind(null,nn,f);return f.dispatch=v,[c.memoizedState,v]},useDebugValue:nf,useDeferredValue:function(c,f){var v=Qt();return Fc(v,c,f)},useTransition:function(){var c=Kp(!1);return c=oy.bind(null,nn,c.queue,!0,!1),Qt().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,v){var _=nn,R=Qt();if(vn){if(v===void 0)throw Error(s(407));v=v()}else{if(v=f(),cn===null)throw Error(s(349));(xn&127)!==0||Ki(_,f,v)}R.memoizedState=v;var P={value:v,getSnapshot:f};return R.queue=P,ef(Fl.bind(null,_,P,c),[c]),_.flags|=2048,cr(9,{destroy:void 0},Qi.bind(null,_,P,v,f),null),v},useId:function(){var c=Qt(),f=cn.identifierPrefix;if(vn){var v=ca,_=us;v=(_&~(1<<32-Ws(_)-1)).toString(32)+v,f="_"+f+"R_"+v,v=ws++,0<v&&(f+="H"+v.toString(32)),f+="_"}else v=ug++,f="_"+f+"r_"+v.toString(32)+"_";return c.memoizedState=f},useHostTransitionStatus:nm,useFormState:Jp,useActionState:Jp,useOptimistic:function(c){var f=Qt();f.memoizedState=f.baseState=c;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=v,f=Nd.bind(null,nn,!0,v),v.dispatch=f,[c,f]},useMemoCache:oa,useCacheRefresh:function(){return Qt().memoizedState=D_.bind(null,nn)},useEffectEvent:function(c){var f=Qt(),v={impl:c};return f.memoizedState=v,function(){if((pn&2)!==0)throw Error(s(440));return v.impl.apply(void 0,arguments)}}},Ha={readContext:Y,use:Pi,useCallback:Cd,useContext:Y,useEffect:Oc,useImperativeHandle:ay,useInsertionEffect:Go,useLayoutEffect:tf,useMemo:zc,useReducer:Cs,useRef:Ad,useState:function(){return Cs(ti)},useDebugValue:nf,useDeferredValue:function(c,f){var v=ut();return tm(v,Lt.memoizedState,c,f)},useTransition:function(){var c=Cs(ti)[0],f=ut().memoizedState;return[typeof c=="boolean"?c:Wt(c),f]},useSyncExternalStore:Ii,useId:Rd,useHostTransitionStatus:nm,useFormState:Ic,useActionState:Ic,useOptimistic:function(c,f){var v=ut();return Qu(v,Lt,c,f)},useMemoCache:oa,useCacheRefresh:cy};Ha.useEffectEvent=Rs;var ul={readContext:Y,use:Pi,useCallback:Cd,useContext:Y,useEffect:Oc,useImperativeHandle:ay,useInsertionEffect:Go,useLayoutEffect:tf,useMemo:zc,useReducer:ji,useRef:Ad,useState:function(){return ji(ti)},useDebugValue:nf,useDeferredValue:function(c,f){var v=ut();return Lt===null?Fc(v,c,f):tm(v,Lt.memoizedState,c,f)},useTransition:function(){var c=ji(ti)[0],f=ut().memoizedState;return[typeof c=="boolean"?c:Wt(c),f]},useSyncExternalStore:Ii,useId:Rd,useHostTransitionStatus:nm,useFormState:Lc,useActionState:Lc,useOptimistic:function(c,f){var v=ut();return Lt!==null?Qu(v,Lt,c,f):(v.baseState=c,[c,v.queue.dispatch])},useMemoCache:oa,useCacheRefresh:cy};ul.useEffectEvent=Rs;var Pf={enqueueSetState:function(c,f,v){c=c._reactInternals;var _=si(),R=or(_);R.payload=f,v!=null&&(R.callback=v),f=lr(c,R,_),f!==null&&(ui(f,c,_),Vo(f,c,_))},enqueueReplaceState:function(c,f,v){c=c._reactInternals;var _=si(),R=or(_);R.tag=1,R.payload=f,v!=null&&(R.callback=v),f=lr(c,R,_),f!==null&&(ui(f,c,_),Vo(f,c,_))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var v=si(),_=or(v);_.tag=2,f!=null&&(_.callback=f),f=lr(c,_,v),f!==null&&(ui(f,c,v),Vo(f,c,v))}},Us=Error(s(461)),ni=!1,cc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},xi=!1,bi=!1,lu=!1,fg=typeof WeakSet=="function"?WeakSet:Set,Mi=null,hi=null,Ti=!1,kn=null,yr=8192,cu={getCacheForType:function(c){var f=Y(oi),v=f.data.get(c);return v===void 0&&(v=c(),f.data.set(c,v)),v},cacheSignal:function(){return Y(oi).controller.signal}},Wr=0,uu=1,fu=2,If=3,fl=4;if(typeof Symbol=="function"&&Symbol.for){var uc=Symbol.for;Wr=uc("selector.component"),uu=uc("selector.has_pseudo_class"),fu=uc("selector.role"),If=uc("selector.test_id"),fl=uc("selector.text")}var vr=typeof WeakMap=="function"?WeakMap:Map,pn=0,cn=null,mn=null,xn=0,Vn=0,Ui=null,da=!1,dl=!1,hl=!1,ja=0,pi=0,xo=0,pl=0,du=0,zs=0,hu=0,Lf=null,$s=null,Mh=!1,Of=0,fc=0,ml=1/0,Uf=null,bo=null,zi=0,_o=null,dc=null,Ga=0,pu=0,Th=null,dg=null,Pn=0,zf=null;return on.attemptContinuousHydration=function(c){if(c.tag===13||c.tag===31){var f=xs(c,67108864);f!==null&&ui(f,c,67108864),yf(c,67108864)}},on.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13||c.tag===31){var f=si();f=$(f);var v=xs(c,f);v!==null&&ui(v,c,f),yf(c,f)}},on.attemptSynchronousHydration=function(c){switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var f=T(c.pendingLanes);if(f!==0){for(c.pendingLanes|=2,c.entangledLanes|=2;f;){var v=1<<31-Ws(f);c.entanglements[1]|=v,f&=~v}ft(c),(pn&6)===0&&(ml=_s()+500,Ke(0))}}break;case 31:case 13:f=xs(c,2),f!==null&&ui(f,c,2),jd(),yf(c,2)}},on.batchedUpdates=function(c,f){return c(f)},on.createComponentSelector=function(c){return{$$typeof:Wr,value:c}},on.createContainer=function(c,f,v,_,R,P,j,re,De,We){return el(c,f,!1,null,v,_,P,null,j,re,De,We)},on.createHasPseudoClassSelector=function(c){return{$$typeof:uu,value:c}},on.createHydrationContainer=function(c,f,v,_,R,P,j,re,De,We,st,Ye,vt,en){var Ei;return c=el(v,_,!0,c,R,P,re,en,De,We,st,Ye),c.context=$d(null),v=c.current,_=si(),_=$(_),R=or(_),R.callback=(Ei=f)!=null?Ei:null,lr(v,R,_),f=_,c.current.lanes=f,F(c,f),ft(c),c},on.createPortal=function(c,f,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$l,key:_==null?null:""+_,children:c,containerInfo:f,implementation:v}},on.createRoleSelector=function(c){return{$$typeof:fu,value:c}},on.createTestNameSelector=function(c){return{$$typeof:If,value:c}},on.createTextSelector=function(c){return{$$typeof:fl,value:c}},on.defaultOnCaughtError=function(c){console.error(c)},on.defaultOnRecoverableError=function(c){vh(c)},on.defaultOnUncaughtError=function(c){vh(c)},on.deferredUpdates=function(c){var f=zt.T,v=Ur();try{return yn(32),zt.T=null,c()}finally{yn(v),zt.T=f}},on.discreteUpdates=function(c,f,v,_,R){var P=zt.T,j=Ur();try{return yn(2),zt.T=null,c(f,v,_,R)}finally{yn(j),zt.T=P,pn===0&&(ml=_s()+500)}},on.findAllNodes=Vs,on.findBoundingRects=function(c,f){if(!Gi)throw Error(s(363));f=Vs(c,f),c=[];for(var v=0;v<f.length;v++)c.push(ih(f[v]));for(f=c.length-1;0<f;f--){v=c[f];for(var _=v.x,R=_+v.width,P=v.y,j=P+v.height,re=f-1;0<=re;re--)if(f!==re){var De=c[re],We=De.x,st=We+De.width,Ye=De.y,vt=Ye+De.height;if(_>=We&&P>=Ye&&R<=st&&j<=vt){c.splice(f,1);break}else if(_!==We||v.width!==De.width||vt<P||Ye>j){if(!(P!==Ye||v.height!==De.height||st<_||We>R)){We>_&&(De.width+=We-_,De.x=_),st<R&&(De.width=R-We),c.splice(f,1);break}}else{Ye>P&&(De.height+=Ye-P,De.y=P),vt<j&&(De.height=j-Ye),c.splice(f,1);break}}}return c},on.findHostInstance=gf,on.findHostInstanceWithNoPortals=function(c){return c=u(c),c=c!==null?p(c):null,c===null?null:tu(c.stateNode)},on.findHostInstanceWithWarning=function(c){return gf(c)},on.flushPassiveEffects=La,on.flushSyncFromReconciler=function(c){var f=pn;pn|=1;var v=zt.T,_=Ur();try{if(yn(2),zt.T=null,c)return c()}finally{yn(_),zt.T=v,pn=f,(pn&6)===0&&Ke(0)}},on.flushSyncWork=jd,on.focusWithin=function(c,f){if(!Gi)throw Error(s(363));for(c=$o(c),f=Yc(c,f),f=Array.from(f),c=0;c<f.length;){var v=f[c++],_=v.tag;if(!il(v)){if((_===5||_===26||_===27)&&po(v.stateNode))return!0;for(v=v.child;v!==null;)f.push(v),v=v.sibling}}return!1},on.getFindAllNodesFailureDescription=function(c,f){if(!Gi)throw Error(s(363));var v=0,_=[];c=[$o(c),0];for(var R=0;R<c.length;){var P=c[R++],j=P.tag,re=c[R++],De=f[re];if((j!==5&&j!==26&&j!==27||!il(P))&&(Zo(P,De)&&(_.push(qc(De)),re++,re>v&&(v=re)),re<f.length))for(P=P.child;P!==null;)c.push(P,re),P=P.sibling}if(v<f.length){for(c=[];v<f.length;v++)c.push(qc(f[v]));return`findAllNodes was able to match part of the selector:
  `+(_.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},on.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 27:case 5:return tu(c.child.stateNode);default:return c.child.stateNode}},on.injectIntoDevTools=function(){var c={bundleType:0,version:Am,rendererPackageName:bf,currentDispatcherRef:zt,reconcilerVersion:"19.2.0"};if(eu!==null&&(c.rendererConfig=eu),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{rc=f.inject(c),Xs=f}catch{}c=!!f.checkDCE}}return c},on.isAlreadyRendering=function(){return(pn&6)!==0},on.observeVisibleRects=function(c,f,v,_){if(!Gi)throw Error(s(363));c=Vs(c,f);var R=sh(c,v,_).disconnect;return{disconnect:function(){R()}}},on.shouldError=function(){return null},on.shouldSuspend=function(){return!1},on.startHostTransition=function(c,f,v,_){if(c.tag!==5)throw Error(s(476));var R=ly(c).queue;oy(c,R,f,ec,v===null?i:function(){var P=ly(c);return P.next===null&&(P=c.alternate.memoizedState),sf(c,P.next.queue,{},si()),v(_)})},on.updateContainer=function(c,f,v,_){var R=f.current,P=si();return Tm(R,P,c,f,v,_),P},on.updateContainerSync=function(c,f,v,_){return Tm(f.current,2,c,f,v,_),2},on},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(KN)),KN.exports}var JN;function kJ(){return JN||(JN=1,ZN.exports=BJ()),ZN.exports}var VJ=kJ();const HJ=FJ(VJ);function jJ(n){const e=HJ(n);return e.injectIntoDevTools(),e}const $U=0,Np={},GJ=/^three(?=[A-Z])/,N_=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let WJ=0;const XJ=n=>typeof n=="function";function qJ(n){if(XJ(n)){const e=`${WJ++}`;return Np[e]=n,e}else Object.assign(Np,n)}function ZU(n,e){const t=N_(n),i=Np[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function YJ(n,e,t){var i;return n=N_(n)in Np?n:n.replace(GJ,""),ZU(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,x1(e.object,t,n,e)}function $J(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?_1(n.parent,n):Zr(n.object)&&(n.object.visible=!1),n.isHidden=!0,Zp(n)}}function KU(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?b1(n.parent,n):Zr(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,Zp(n)}}function sA(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var s,a;const l=Np[N_(e.type)];e.object=(s=e.props.object)!=null?s:new l(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(Iu(e.object,e.props),e.props.attach)b1(n,e);else if(Zr(e.object)&&Zr(n.object)){const l=n.object.children.indexOf(t?.object);if(t&&l!==-1){const u=n.object.children.indexOf(e.object);if(u!==-1){n.object.children.splice(u,1);const h=u<l?l-1:l;n.object.children.splice(h,0,e.object)}else e.object.parent=n.object,n.object.children.splice(l,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const l of e.children)sA(e,l);Zp(e)}}function zw(n,e){e&&(e.parent=n,n.children.push(e),sA(n,e))}function eD(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),sA(n,e,t)}function QU(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():$M.unstable_scheduleCallback($M.unstable_IdlePriority,e)}}function KM(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?_1(n,e):Zr(e.object)&&Zr(n.object)&&(n.object.remove(e.object),NJ(jU(e),e.object));const s=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const l=e.children[a];KM(e,l,s)}e.children.length=0,delete e.object.__r3f,s&&e.type!=="primitive"&&e.object.type!=="Scene"&&QU(e.object),t===void 0&&Zp(e)}function ZJ(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const lb=[];function KJ(){for(const[t]of lb){const i=t.parent;if(i){t.props.attach?_1(i,t):Zr(t.object)&&Zr(i.object)&&i.object.remove(t.object);for(const s of t.children)s.props.attach?_1(t,s):Zr(s.object)&&Zr(t.object)&&t.object.remove(s.object)}t.isHidden&&KU(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&QU(t.object)}for(const[t,i,s]of lb){t.props=i;const a=t.parent;if(a){var n,e;const l=Np[N_(t.type)];t.object=(n=t.props.object)!=null?n:new l(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,ZJ(s,t.object),Iu(t.object,t.props),t.props.attach?b1(a,t):Zr(t.object)&&Zr(a.object)&&a.object.add(t.object);for(const u of t.children)u.props.attach?b1(t,u):Zr(u.object)&&Zr(t.object)&&t.object.add(u.object);Zp(t)}}lb.length=0}const Fw=()=>{},tD={};let Xx=$U;const QJ=0,JJ=4,S1=jJ({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:YJ,removeChild:KM,appendChild:zw,appendInitialChild:zw,insertBefore:eD,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||zw(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||KM(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||eD(i,e,t)},getRootHostContext:()=>tD,getChildHostContext:()=>tD,commitUpdate(n,e,t,i,s){var a,l,u;ZU(e,i);let h=!1;if((n.type==="primitive"&&t.object!==i.object||((a=i.args)==null?void 0:a.length)!==((l=t.args)==null?void 0:l.length)||(u=i.args)!=null&&u.some((g,m)=>{var x;return g!==((x=t.args)==null?void 0:x[m])}))&&(h=!0),h)lb.push([n,{...i},s]);else{const g=AJ(n,i);Object.keys(g).length&&(Object.assign(n.props,g),Iu(n.object,g))}(s.sibling===null||(s.flags&JJ)===QJ)&&KJ()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n?.object,prepareForCommit:()=>null,preparePortalMount:n=>x1(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:$J,unhideInstance:KU,createTextInstance:Fw,hideTextInstance:Fw,unhideTextInstance:Fw,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:L.createContext(null),setCurrentUpdatePriority(n){Xx=n},getCurrentUpdatePriority(){return Xx},resolveUpdatePriority(){var n;if(Xx!==$U)return Xx;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return UJ;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return LJ;default:return OJ}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:zJ.version,applyViewTransitionName(n,e,t){},restoreViewTransitionName(n,e){},cancelViewTransitionName(n,e,t){},cancelRootViewTransitionName(n){},restoreRootViewTransitionName(n){},InstanceMeasurement:null,measureInstance:n=>null,wasInstanceInViewport:n=>!0,hasInstanceChanged:(n,e)=>!1,hasInstanceAffectedParent:(n,e)=>!1,suspendOnActiveViewTransition(n,e){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(n){},createViewTransitionInstance:n=>null,getCurrentGestureOffset(n){throw new Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance(n,e){return n},cloneMutableTextInstance(n){return n},cloneRootViewTransitionContainer(n){throw new Error("Not implemented.")},removeRootViewTransitionClone(n,e){throw new Error("Not implemented.")},createFragmentInstance:n=>null,updateFragmentInstanceFiber(n,e){},commitNewChildToFragmentInstance(n,e){},deleteChildFromFragmentInstance(n,e){},measureClonedInstance:n=>null,maySuspendCommitOnUpdate:(n,e,t)=>!1,maySuspendCommitInSyncRender:(n,e)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(n,e)=>null}),bd=new Map,Jh={objects:"shallow",strict:!1};function eee(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:s,left:a}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:s,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function tee(n){const e=bd.get(n),t=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const s=typeof reportError=="function"?reportError:console.error,a=i||PJ(eT,iD),l=t||S1.createContainer(a,IJ,null,!1,null,"",s,s,s,null);e||bd.set(n,{fiber:l,store:a});let u,h,p=!1,g=null;return{async configure(m={}){let x;g=new Promise(q=>x=q);let{gl:b,size:w,scene:A,events:T,onCreated:M,shadows:N=!1,linear:D=!1,flat:I=!1,legacy:O=!1,orthographic:F=!1,frameloop:B="always",dpr:H=[1,2],performance:z,raycaster:k,camera:$,onPointerMissed:se}=m,ee=a.getState(),ne=ee.gl;if(!ee.gl){const q={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},ue=typeof b=="function"?await b(q):b;YN(ue)?ne=ue:ne=new FU({...q,...b}),ee.set({gl:ne})}let ae=ee.raycaster;ae||ee.set({raycaster:ae=new KE});const{params:X,...Z}=k||{};if(Ai.equ(Z,ae,Jh)||Iu(ae,{...Z}),Ai.equ(X,ae.params,Jh)||Iu(ae,{params:{...ae.params,...X}}),!ee.camera||ee.camera===h&&!Ai.equ(h,$,Jh)){h=$;const q=$?.isCamera,ue=q?$:F?new Yp(0,0,0,0,.1,1e3):new Es(75,0,.1,1e3);q||(ue.position.z=5,$&&(Iu(ue,$),ue.manual||("aspect"in $||"left"in $||"right"in $||"bottom"in $||"top"in $)&&(ue.manual=!0,ue.updateProjectionMatrix())),!ee.camera&&!($!=null&&$.rotation)&&ue.lookAt(0,0,0)),ee.set({camera:ue}),ae.camera=ue}if(!ee.scene){let q;A!=null&&A.isScene?(q=A,x1(q,a,"",{})):(q=new TE,x1(q,a,"",{}),A&&Iu(q,A)),ee.set({scene:q})}T&&!ee.events.handlers&&ee.set({events:T(a)});const Q=eee(n,w);if(Ai.equ(Q,ee.size,Jh)||ee.setSize(Q.width,Q.height,Q.top,Q.left),H&&ee.viewport.dpr!==WU(H)&&ee.setDpr(H),ee.frameloop!==B&&ee.setFrameloop(B),ee.onPointerMissed||ee.set({onPointerMissed:se}),z&&!Ai.equ(z,ee.performance,Jh)&&ee.set(q=>({performance:{...q.performance,...z}})),!ee.xr){var ye;const q=(Te,Ve)=>{const he=a.getState();he.frameloop!=="never"&&iD(Te,!0,he,Ve)},ue=()=>{const Te=a.getState();Te.gl.xr.enabled=Te.gl.xr.isPresenting,Te.gl.xr.setAnimationLoop(Te.gl.xr.isPresenting?q:null),Te.gl.xr.isPresenting||eT(Te)},fe={connect(){const Te=a.getState().gl;Te.xr.addEventListener("sessionstart",ue),Te.xr.addEventListener("sessionend",ue)},disconnect(){const Te=a.getState().gl;Te.xr.removeEventListener("sessionstart",ue),Te.xr.removeEventListener("sessionend",ue)}};typeof((ye=ne.xr)==null?void 0:ye.addEventListener)=="function"&&fe.connect(),ee.set({xr:fe})}if(ne.shadowMap){const q=ne.shadowMap.enabled,ue=ne.shadowMap.type;if(ne.shadowMap.enabled=!!N,Ai.boo(N))ne.shadowMap.type=Kg;else if(Ai.str(N)){var Se;const fe={basic:ZL,percentage:dp,soft:Kg,variance:rd};ne.shadowMap.type=(Se=fe[N])!=null?Se:Kg}else Ai.obj(N)&&Object.assign(ne.shadowMap,N);(q!==ne.shadowMap.enabled||ue!==ne.shadowMap.type)&&(ne.shadowMap.needsUpdate=!0)}return Rn.enabled=!O,p||(ne.outputColorSpace=D?ju:er,ne.toneMapping=I?Za:Y1),ee.legacy!==O&&ee.set(()=>({legacy:O})),ee.linear!==D&&ee.set(()=>({linear:D})),ee.flat!==I&&ee.set(()=>({flat:I})),b&&!Ai.fun(b)&&!YN(b)&&!Ai.equ(b,ne,Jh)&&Iu(ne,b),u=M,p=!0,x(),this},render(m){return!p&&!g&&this.configure(),g.then(()=>{S1.updateContainer(C.jsx(nee,{store:a,children:m,onCreated:u,rootElement:n}),l,null,()=>{})}),a},unmount(){JU(n)}}}function nee({store:n,children:e,onCreated:t,rootElement:i}){return iy(()=>{const s=n.getState();s.set(a=>({internal:{...a.internal,active:!0}})),t&&t(s),n.getState().events.connected||s.events.connect==null||s.events.connect(i)},[]),C.jsx(nA.Provider,{value:n,children:e})}function JU(n,e){const t=bd.get(n),i=t?.fiber;if(i){const s=t?.store.getState();s&&(s.internal.active=!1),S1.updateContainer(null,i,null,()=>{s&&setTimeout(()=>{try{var a,l,u,h;s.events.disconnect==null||s.events.disconnect(),(a=s.gl)==null||(l=a.renderLists)==null||l.dispose==null||l.dispose(),(u=s.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),(h=s.gl)!=null&&h.xr&&s.xr.disconnect(),MJ(s.scene),bd.delete(n)}catch{}},500)})}}function iee(n,e,t){return C.jsx(see,{children:n,container:e,state:t})}function see({state:n={},children:e,container:t}){const{events:i,size:s,...a}=n,l=iA(),[u]=L.useState(()=>new KE),[h]=L.useState(()=>new ke),p=tA((m,x)=>{let b;if(x.camera&&s){const w=x.camera;b=m.viewport.getCurrentViewport(w,new K,s),w!==m.camera&&qU(w,s)}return{...m,...x,scene:t,raycaster:u,pointer:h,mouse:h,previousRoot:l,events:{...m.events,...x.events,...i},size:{...m.size,...s},viewport:{...m.viewport,...b},setEvents:w=>x.set(A=>({...A,events:{...A.events,...w}}))}}),g=L.useMemo(()=>{const m=BU((b,w)=>({...a,set:b,get:w})),x=b=>m.setState(w=>p.current(b,w));return x(l.getState()),l.subscribe(x),m},[l,t]);return C.jsx(C.Fragment,{children:S1.createPortal(C.jsx(nA.Provider,{value:g,children:e}),g,null)})}const ree=new Set,aee=new Set,oee=new Set;function Bw(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function o0(n,e){switch(n){case"before":return Bw(ree,e);case"after":return Bw(aee,e);case"tail":return Bw(oee,e)}}let kw,Vw;function QM(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),kw=e.internal.subscribers;for(let s=0;s<kw.length;s++)Vw=kw[s],Vw.ref.current(Vw.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let w1=!1,JM=!1,Hw,nD,ep;function e5(n){nD=requestAnimationFrame(e5),w1=!0,Hw=0,o0("before",n),JM=!0;for(const t of bd.values()){var e;ep=t.store.getState(),ep.internal.active&&(ep.frameloop==="always"||ep.internal.frames>0)&&!((e=ep.gl.xr)!=null&&e.isPresenting)&&(Hw+=QM(n,ep))}if(JM=!1,o0("after",n),Hw===0)return o0("tail",n),w1=!1,cancelAnimationFrame(nD)}function eT(n,e=1){var t;if(!n)return bd.forEach(i=>eT(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):JM?n.internal.frames=2:n.internal.frames=1,w1||(w1=!0,requestAnimationFrame(e5)))}function iD(n,e=!0,t,i){if(e&&o0("before",n),t)QM(n,t,i);else for(const s of bd.values())QM(n,s.store.getState());e&&o0("after",n)}const jw={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function lee(n){const{handlePointer:e}=DJ(n);return{priority:1,enabled:!0,compute(t,i,s){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(jw).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:s}=n.getState();(t=s.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(s.lastEvent.current)},connect:t=>{const{set:i,events:s}=n.getState();if(s.disconnect==null||s.disconnect(),i(a=>({events:{...a.events,connected:t}})),s.handlers)for(const a in s.handlers){const l=s.handlers[a],[u,h]=jw[a];t.addEventListener(u,l,{passive:h})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const s in i.handlers){const a=i.handlers[s],[l]=jw[s];i.connected.removeEventListener(l,a)}t(s=>({events:{...s.events,connected:void 0}}))}}}}function sD(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function cee({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const s=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,l]=L.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=L.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),h=n?typeof n=="number"?n:n.scroll:null,p=n?typeof n=="number"?n:n.resize:null,g=L.useRef(!1);L.useEffect(()=>(g.current=!0,()=>{g.current=!1}));const[m,x,b]=L.useMemo(()=>{const M=()=>{if(!u.current.element)return;const{left:N,top:D,width:I,height:O,bottom:F,right:B,x:H,y:z}=u.current.element.getBoundingClientRect(),k={left:N,top:D,width:I,height:O,bottom:F,right:B,x:H,y:z};u.current.element instanceof HTMLElement&&i&&(k.height=u.current.element.offsetHeight,k.width=u.current.element.offsetWidth),Object.freeze(k),g.current&&!hee(u.current.lastBounds,k)&&l(u.current.lastBounds=k)};return[M,p?sD(M,p):M,h?sD(M,h):M]},[l,i,h,p]);function w(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(M=>M.removeEventListener("scroll",b,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null),u.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",u.current.orientationHandler))}function A(){u.current.element&&(u.current.resizeObserver=new s(b),u.current.resizeObserver.observe(u.current.element),e&&u.current.scrollContainers&&u.current.scrollContainers.forEach(M=>M.addEventListener("scroll",b,{capture:!0,passive:!0})),u.current.orientationHandler=()=>{b()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",u.current.orientationHandler))}const T=M=>{!M||M===u.current.element||(w(),u.current.element=M,u.current.scrollContainers=t5(M),A())};return fee(b,!!e),uee(x),L.useEffect(()=>{w(),A()},[e,b,x]),L.useEffect(()=>w,[]),[T,a,m]}function uee(n){L.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[n])}function fee(n,e){L.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",t,!0)}}},[n,e])}function t5(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:s}=window.getComputedStyle(n);return[t,i,s].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...t5(n.parentElement)]}const dee=["x","y","top","bottom","left","right","width","height"],hee=(n,e)=>dee.every(t=>n[t]===e[t]);function pee({ref:n,children:e,fallback:t,resize:i,style:s,gl:a,events:l=lee,eventSource:u,eventPrefix:h,shadows:p,linear:g,flat:m,legacy:x,orthographic:b,frameloop:w,dpr:A,performance:T,raycaster:M,camera:N,scene:D,onPointerMissed:I,onCreated:O,...F}){L.useMemo(()=>qJ(iJ),[]);const B=_J(),[H,z]=cee({scroll:!0,debounce:{scroll:50,resize:0},...i}),k=L.useRef(null),$=L.useRef(null);L.useImperativeHandle(n,()=>k.current);const se=tA(I),[ee,ne]=L.useState(!1),[ae,X]=L.useState(!1);if(ee)throw ee;if(ae)throw ae;const Z=L.useRef(null);iy(()=>{const ye=k.current;if(z.width>0&&z.height>0&&ye){Z.current||(Z.current=tee(ye));async function Se(){await Z.current.configure({gl:a,scene:D,events:l,shadows:p,linear:g,flat:m,legacy:x,orthographic:b,frameloop:w,dpr:A,performance:T,raycaster:M,camera:N,size:z,onPointerMissed:(...q)=>se.current==null?void 0:se.current(...q),onCreated:q=>{q.events.connect==null||q.events.connect(u?xJ(u)?u.current:u:$.current),h&&q.setEvents({compute:(ue,fe)=>{const Te=ue[h+"X"],Ve=ue[h+"Y"];fe.pointer.set(Te/fe.size.width*2-1,-(Ve/fe.size.height)*2+1),fe.raycaster.setFromCamera(fe.pointer,fe.camera)}}),O?.(q)}}),Z.current.render(C.jsx(B,{children:C.jsx(wJ,{set:X,children:C.jsx(L.Suspense,{fallback:C.jsx(SJ,{set:ne}),children:e??null})})}))}Se()}}),L.useEffect(()=>{const ye=k.current;if(ye)return()=>JU(ye)},[]);const Q=u?"none":"auto";return C.jsx("div",{ref:$,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...s},...F,children:C.jsx("div",{ref:H,style:{width:"100%",height:"100%"},children:C.jsx("canvas",{ref:k,style:{display:"block"},children:t})})})}function mee(n){return C.jsx(VU,{children:C.jsx(pee,{...n})})}const gee=()=>parseInt(jp.replace(/\D+/g,"")),yee=gee();var vee=Object.defineProperty,xee=(n,e,t)=>e in n?vee(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Hn=(n,e,t)=>(xee(n,typeof e!="symbol"?e+"":e,t),t);function Gw(n,e,t,i,s){let a;if(n=n.subarray||n.slice?n:n.buffer,t=t.subarray||t.slice?t:t.buffer,n=e?n.subarray?n.subarray(e,s&&e+s):n.slice(e,s&&e+s):n,t.set)t.set(n,i);else for(a=0;a<n.length;a++)t[a+i]=n[a];return t}function bee(n){return n instanceof Float32Array?n:n instanceof Jt?n.getAttribute("position").array:n.map(e=>{const t=Array.isArray(e);return e instanceof K?[e.x,e.y,e.z]:e instanceof ke?[e.x,e.y,0]:t&&e.length===3?[e[0],e[1],e[2]]:t&&e.length===2?[e[0],e[1],0]:e}).flat()}class _ee extends Jt{constructor(){super(),Hn(this,"type","MeshLine"),Hn(this,"isMeshLine",!0),Hn(this,"positions",[]),Hn(this,"previous",[]),Hn(this,"next",[]),Hn(this,"side",[]),Hn(this,"width",[]),Hn(this,"indices_array",[]),Hn(this,"uvs",[]),Hn(this,"counters",[]),Hn(this,"widthCallback",null),Hn(this,"_attributes"),Hn(this,"_points",[]),Hn(this,"points"),Hn(this,"matrixWorld",new $t),Object.defineProperties(this,{points:{enumerable:!0,get(){return this._points},set(e){this.setPoints(e,this.widthCallback)}}})}setMatrixWorld(e){this.matrixWorld=e}setPoints(e,t){if(e=bee(e),this._points=e,this.widthCallback=t??null,this.positions=[],this.counters=[],e.length&&e[0]instanceof K)for(let i=0;i<e.length;i++){const s=e[i],a=i/(e.length-1);this.positions.push(s.x,s.y,s.z),this.positions.push(s.x,s.y,s.z),this.counters.push(a),this.counters.push(a)}else for(let i=0;i<e.length;i+=3){const s=i/(e.length-1);this.positions.push(e[i],e[i+1],e[i+2]),this.positions.push(e[i],e[i+1],e[i+2]),this.counters.push(s),this.counters.push(s)}this.process()}compareV3(e,t){const i=e*6,s=t*6;return this.positions[i]===this.positions[s]&&this.positions[i+1]===this.positions[s+1]&&this.positions[i+2]===this.positions[s+2]}copyV3(e){const t=e*6;return[this.positions[t],this.positions[t+1],this.positions[t+2]]}process(){const e=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];let t,i;this.compareV3(0,e-1)?i=this.copyV3(e-2):i=this.copyV3(0),this.previous.push(i[0],i[1],i[2]),this.previous.push(i[0],i[1],i[2]);for(let s=0;s<e;s++){if(this.side.push(1),this.side.push(-1),this.widthCallback?t=this.widthCallback(s/(e-1)):t=1,this.width.push(t),this.width.push(t),this.uvs.push(s/(e-1),0),this.uvs.push(s/(e-1),1),s<e-1){i=this.copyV3(s),this.previous.push(i[0],i[1],i[2]),this.previous.push(i[0],i[1],i[2]);const a=s*2;this.indices_array.push(a,a+1,a+2),this.indices_array.push(a+2,a+1,a+3)}s>0&&(i=this.copyV3(s),this.next.push(i[0],i[1],i[2]),this.next.push(i[0],i[1],i[2]))}this.compareV3(e-1,0)?i=this.copyV3(1):i=this.copyV3(e-1),this.next.push(i[0],i[1],i[2]),this.next.push(i[0],i[1],i[2]),!this._attributes||this._attributes.position.count!==this.counters.length?this._attributes={position:new Nn(new Float32Array(this.positions),3),previous:new Nn(new Float32Array(this.previous),3),next:new Nn(new Float32Array(this.next),3),side:new Nn(new Float32Array(this.side),1),width:new Nn(new Float32Array(this.width),1),uv:new Nn(new Float32Array(this.uvs),2),index:new Nn(new Uint16Array(this.indices_array),1),counters:new Nn(new Float32Array(this.counters),1)}:(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()}advance({x:e,y:t,z:i}){const s=this._attributes.position.array,a=this._attributes.previous.array,l=this._attributes.next.array,u=s.length;Gw(s,0,a,0,u),Gw(s,6,s,0,u-6),s[u-6]=e,s[u-5]=t,s[u-4]=i,s[u-3]=e,s[u-2]=t,s[u-1]=i,Gw(s,6,l,0,u-6),l[u-6]=e,l[u-5]=t,l[u-4]=i,l[u-3]=e,l[u-2]=t,l[u-1]=i,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0}}const See=`
  #include <common>
  #include <logdepthbuf_pars_vertex>
  #include <fog_pars_vertex>
  #include <clipping_planes_pars_vertex>

  attribute vec3 previous;
  attribute vec3 next;
  attribute float side;
  attribute float width;
  attribute float counters;
  
  uniform vec2 resolution;
  uniform float lineWidth;
  uniform vec3 color;
  uniform float opacity;
  uniform float sizeAttenuation;
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  vec2 fix(vec4 i, float aspect) {
    vec2 res = i.xy / i.w;
    res.x *= aspect;
    return res;
  }
  
  void main() {
    float aspect = resolution.x / resolution.y;
    vColor = vec4(color, opacity);
    vUV = uv;
    vCounters = counters;
  
    mat4 m = projectionMatrix * modelViewMatrix;
    vec4 finalPosition = m * vec4(position, 1.0) * aspect;
    vec4 prevPos = m * vec4(previous, 1.0);
    vec4 nextPos = m * vec4(next, 1.0);
  
    vec2 currentP = fix(finalPosition, aspect);
    vec2 prevP = fix(prevPos, aspect);
    vec2 nextP = fix(nextPos, aspect);
  
    float w = lineWidth * width;
  
    vec2 dir;
    if (nextP == currentP) dir = normalize(currentP - prevP);
    else if (prevP == currentP) dir = normalize(nextP - currentP);
    else {
      vec2 dir1 = normalize(currentP - prevP);
      vec2 dir2 = normalize(nextP - currentP);
      dir = normalize(dir1 + dir2);
  
      vec2 perp = vec2(-dir1.y, dir1.x);
      vec2 miter = vec2(-dir.y, dir.x);
      //w = clamp(w / dot(miter, perp), 0., 4. * lineWidth * width);
    }
  
    //vec2 normal = (cross(vec3(dir, 0.), vec3(0., 0., 1.))).xy;
    vec4 normal = vec4(-dir.y, dir.x, 0., 1.);
    normal.xy *= .5 * w;
    //normal *= projectionMatrix;
    if (sizeAttenuation == 0.) {
      normal.xy *= finalPosition.w;
      normal.xy /= (vec4(resolution, 0., 1.) * projectionMatrix).xy * aspect;
    }
  
    finalPosition.xy += normal.xy * side;
    gl_Position = finalPosition;
    #include <logdepthbuf_vertex>
    #include <fog_vertex>
    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
    #include <clipping_planes_vertex>
    #include <fog_vertex>
  }
`,wee=parseInt(jp.replace(/\D+/g,"")),Mee=wee>=154?"colorspace_fragment":"encodings_fragment",Tee=`
  #include <fog_pars_fragment>
  #include <logdepthbuf_pars_fragment>
  #include <clipping_planes_pars_fragment>
  
  uniform sampler2D map;
  uniform sampler2D alphaMap;
  uniform float useGradient;
  uniform float useMap;
  uniform float useAlphaMap;
  uniform float useDash;
  uniform float dashArray;
  uniform float dashOffset;
  uniform float dashRatio;
  uniform float visibility;
  uniform float alphaTest;
  uniform vec2 repeat;
  uniform vec3 gradient[2];
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  void main() {
    #include <logdepthbuf_fragment>
    vec4 diffuseColor = vColor;
    if (useGradient == 1.) diffuseColor = vec4(mix(gradient[0], gradient[1], vCounters), 1.0);
    if (useMap == 1.) diffuseColor *= texture2D(map, vUV * repeat);
    if (useAlphaMap == 1.) diffuseColor.a *= texture2D(alphaMap, vUV * repeat).a;
    if (diffuseColor.a < alphaTest) discard;
    if (useDash == 1.) diffuseColor.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));
    diffuseColor.a *= step(vCounters, visibility);
    #include <clipping_planes_fragment>
    gl_FragColor = diffuseColor;     
    #include <fog_fragment>
    #include <tonemapping_fragment>
    #include <${Mee}>
  }
`;class Eee extends na{constructor(e){super({uniforms:{...mt.fog,lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new yt(16777215)},gradient:{value:[new yt(16711680),new yt(65280)]},opacity:{value:1},resolution:{value:new ke(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},useGradient:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new ke(1,1)}},vertexShader:See,fragmentShader:Tee}),Hn(this,"lineWidth"),Hn(this,"map"),Hn(this,"useMap"),Hn(this,"alphaMap"),Hn(this,"useAlphaMap"),Hn(this,"color"),Hn(this,"gradient"),Hn(this,"resolution"),Hn(this,"sizeAttenuation"),Hn(this,"dashArray"),Hn(this,"dashOffset"),Hn(this,"dashRatio"),Hn(this,"useDash"),Hn(this,"useGradient"),Hn(this,"visibility"),Hn(this,"repeat"),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get(){return this.uniforms.lineWidth.value},set(t){this.uniforms.lineWidth.value=t}},map:{enumerable:!0,get(){return this.uniforms.map.value},set(t){this.uniforms.map.value=t}},useMap:{enumerable:!0,get(){return this.uniforms.useMap.value},set(t){this.uniforms.useMap.value=t}},alphaMap:{enumerable:!0,get(){return this.uniforms.alphaMap.value},set(t){this.uniforms.alphaMap.value=t}},useAlphaMap:{enumerable:!0,get(){return this.uniforms.useAlphaMap.value},set(t){this.uniforms.useAlphaMap.value=t}},color:{enumerable:!0,get(){return this.uniforms.color.value},set(t){this.uniforms.color.value=t}},gradient:{enumerable:!0,get(){return this.uniforms.gradient.value},set(t){this.uniforms.gradient.value=t}},opacity:{enumerable:!0,get(){return this.uniforms.opacity.value},set(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get(){return this.uniforms.resolution.value},set(t){this.uniforms.resolution.value.copy(t)}},sizeAttenuation:{enumerable:!0,get(){return this.uniforms.sizeAttenuation.value},set(t){this.uniforms.sizeAttenuation.value=t}},dashArray:{enumerable:!0,get(){return this.uniforms.dashArray.value},set(t){this.uniforms.dashArray.value=t,this.useDash=t!==0?1:0}},dashOffset:{enumerable:!0,get(){return this.uniforms.dashOffset.value},set(t){this.uniforms.dashOffset.value=t}},dashRatio:{enumerable:!0,get(){return this.uniforms.dashRatio.value},set(t){this.uniforms.dashRatio.value=t}},useDash:{enumerable:!0,get(){return this.uniforms.useDash.value},set(t){this.uniforms.useDash.value=t}},useGradient:{enumerable:!0,get(){return this.uniforms.useGradient.value},set(t){this.uniforms.useGradient.value=t}},visibility:{enumerable:!0,get(){return this.uniforms.visibility.value},set(t){this.uniforms.visibility.value=t}},alphaTest:{enumerable:!0,get(){return this.uniforms.alphaTest.value},set(t){this.uniforms.alphaTest.value=t}},repeat:{enumerable:!0,get(){return this.uniforms.repeat.value},set(t){this.uniforms.repeat.value.copy(t)}}}),this.setValues(e)}copy(e){return super.copy(e),this.lineWidth=e.lineWidth,this.map=e.map,this.useMap=e.useMap,this.alphaMap=e.alphaMap,this.useAlphaMap=e.useAlphaMap,this.color.copy(e.color),this.gradient=e.gradient,this.opacity=e.opacity,this.resolution.copy(e.resolution),this.sizeAttenuation=e.sizeAttenuation,this.dashArray=e.dashArray,this.dashOffset=e.dashOffset,this.dashRatio=e.dashRatio,this.useDash=e.useDash,this.useGradient=e.useGradient,this.visibility=e.visibility,this.alphaTest=e.alphaTest,this.repeat.copy(e.repeat),this}}const n5={width:.2,length:1,decay:1,local:!1,stride:0,interval:1},Aee=(n,e=1)=>(n.set(n.subarray(e)),n.fill(-1/0,-e),n);function Cee(n,e){const{length:t,local:i,decay:s,interval:a,stride:l}={...n5,...e},u=L.useRef(null),[h]=L.useState(()=>new K);L.useLayoutEffect(()=>{n&&(u.current=Float32Array.from({length:t*10*3},(m,x)=>n.position.getComponent(x%3)))},[t,n]);const p=L.useRef(new K),g=L.useRef(0);return Bo(()=>{if(n&&u.current){if(g.current===0){let m;i?m=n.position:(n.getWorldPosition(h),m=h);const x=1*s;for(let b=0;b<x;b++)m.distanceTo(p.current)<l||(Aee(u.current,3),u.current.set(m.toArray(),u.current.length-3));p.current.copy(m)}g.current++,g.current=g.current%a}}),u}const Ree=L.forwardRef((n,e)=>{const{children:t}=n,{width:i,length:s,decay:a,local:l,stride:u,interval:h}={...n5,...n},{color:p="hotpink",attenuation:g,target:m}=n,x=$N(I=>I.size),b=$N(I=>I.scene),w=L.useRef(null),[A,T]=L.useState(null),M=Cee(A,{length:s,decay:a,local:l,stride:u,interval:h});L.useEffect(()=>{const I=m?.current||w.current.children.find(O=>O instanceof Ln);I&&T(I)},[M,m]);const N=L.useMemo(()=>new _ee,[]),D=L.useMemo(()=>{var I,O;const F=new Eee({lineWidth:.1*i,color:p,sizeAttenuation:1,resolution:new ke(x.width,x.height)});let B;if(t)if(Array.isArray(t))B=t.find(H=>{const z=H;return typeof z.type=="string"&&z.type==="meshLineMaterial"});else{const H=t;typeof H.type=="string"&&H.type==="meshLineMaterial"&&(B=H)}return typeof((I=B)==null?void 0:I.props)=="object"&&((O=B)==null?void 0:O.props)!==null&&F.setValues(B.props),F},[i,p,x,t]);return L.useEffect(()=>{D.uniforms.resolution.value.set(x.width,x.height)},[x]),Bo(()=>{M.current&&N.setPoints(M.current,g)}),L.createElement("group",null,iee(L.createElement("mesh",{ref:e,geometry:N,material:D}),b),L.createElement("group",{ref:w},t))}),Nee=L.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:i=1,floatIntensity:s=1,floatingRange:a=[-.1,.1],autoInvalidate:l=!1,...u},h)=>{const p=L.useRef(null);L.useImperativeHandle(h,()=>p.current,[]);const g=L.useRef(Math.random()*1e4);return Bo(m=>{var x,b;if(!e||t===0)return;l&&m.invalidate();const w=g.current+m.clock.elapsedTime;p.current.rotation.x=Math.cos(w/4*t)/8*i,p.current.rotation.y=Math.sin(w/4*t)/8*i,p.current.rotation.z=Math.sin(w/4*t)/20*i;let A=Math.sin(w/4*t)/10;A=s0.mapLinear(A,-.1,.1,(x=a?.[0])!==null&&x!==void 0?x:-.1,(b=a?.[1])!==null&&b!==void 0?b:.1),p.current.position.y=A*s,p.current.updateMatrix()}),L.createElement("group",u,L.createElement("group",{ref:p,matrixAutoUpdate:!1},n))});class Dee extends na{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${yee>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const Pee=n=>new K().setFromSpherical(new NU(n,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),Iee=L.forwardRef(({radius:n=100,depth:e=50,count:t=5e3,saturation:i=0,factor:s=4,fade:a=!1,speed:l=1},u)=>{const h=L.useRef(null),[p,g,m]=L.useMemo(()=>{const b=[],w=[],A=Array.from({length:t},()=>(.5+.5*Math.random())*s),T=new yt;let M=n+e;const N=e/t;for(let D=0;D<t;D++)M-=N*Math.random(),b.push(...Pee(M).toArray()),T.setHSL(D/t,i,.9),w.push(T.r,T.g,T.b);return[new Float32Array(b),new Float32Array(w),new Float32Array(A)]},[t,e,s,n,i]);Bo(b=>h.current&&(h.current.uniforms.time.value=b.clock.elapsedTime*l));const[x]=L.useState(()=>new Dee);return L.createElement("points",{ref:u},L.createElement("bufferGeometry",null,L.createElement("bufferAttribute",{attach:"attributes-position",args:[p,3]}),L.createElement("bufferAttribute",{attach:"attributes-color",args:[g,3]}),L.createElement("bufferAttribute",{attach:"attributes-size",args:[m,1]})),L.createElement("primitive",{ref:h,object:x,attach:"material",blending:Eb,"uniforms-fade-value":a,depthWrite:!1,transparent:!0,vertexColors:!0}))}),Lee=L.memo(()=>{const n=L.useRef(null),e=L.useRef(null),t=L.useRef(null);return Bo(i=>{if(n.current&&(n.current.rotation.y+=.002),e.current){const s=1.3+Math.sin(i.clock.elapsedTime*2)*.1;e.current.scale.setScalar(s)}t.current&&(t.current.rotation.z+=.003)}),C.jsxs("group",{position:[-4,3,-5],children:[C.jsxs("mesh",{ref:n,children:[C.jsx("sphereGeometry",{args:[1.2,32,32]}),C.jsx("meshBasicMaterial",{color:"#FF6B00"})]}),C.jsxs("mesh",{ref:e,children:[C.jsx("sphereGeometry",{args:[1.4,32,32]}),C.jsx("meshBasicMaterial",{color:"#FFAA00",transparent:!0,opacity:.4})]}),C.jsxs("mesh",{children:[C.jsx("sphereGeometry",{args:[1.8,32,32]}),C.jsx("meshBasicMaterial",{color:"#FFD700",transparent:!0,opacity:.15})]}),C.jsx("group",{ref:t,children:[...Array(12)].map((i,s)=>C.jsxs("mesh",{rotation:[0,0,s*Math.PI/6],children:[C.jsx("planeGeometry",{args:[.1,3]}),C.jsx("meshBasicMaterial",{color:"#FFD700",transparent:!0,opacity:.3,side:Ro})]},s))}),C.jsx("pointLight",{color:"#FF8800",intensity:3,distance:20})]})}),Oee=L.memo(({startPos:n,endPos:e,delay:t})=>{const i=L.useRef(null);return L.useRef(null),Bo(s=>{if(i.current){const l=(s.clock.elapsedTime+t)%3/3;i.current.position.x=s0.lerp(n[0],e[0],l),i.current.position.y=s0.lerp(n[1],e[1],l)+Math.sin(l*Math.PI)*.5,i.current.position.z=s0.lerp(n[2],e[2],l);const u=.1+Math.sin(l*Math.PI)*.1;i.current.scale.setScalar(u)}}),C.jsx(Ree,{width:.5,length:8,color:"#FFD700",attenuation:s=>s*s,children:C.jsxs("mesh",{ref:i,children:[C.jsx("sphereGeometry",{args:[.1,8,8]}),C.jsx("meshBasicMaterial",{color:"#FFAA00"})]})})}),Uee=L.memo(()=>{const n=L.useRef(null),e=L.useRef(null);return Bo(t=>{n.current&&(n.current.rotation.y+=.001),e.current&&(e.current.rotation.y-=5e-4)}),C.jsxs("group",{position:[3,-1,-3],ref:n,children:[C.jsxs("mesh",{children:[C.jsx("sphereGeometry",{args:[1.5,32,32]}),C.jsx("meshStandardMaterial",{color:"#1a5f7a",roughness:.8,metalness:.2})]}),C.jsxs("mesh",{rotation:[.2,.5,0],children:[C.jsx("sphereGeometry",{args:[1.52,32,32]}),C.jsx("meshStandardMaterial",{color:"#2d6a4f",roughness:.9,transparent:!0,opacity:.7})]}),C.jsxs("mesh",{ref:e,children:[C.jsx("sphereGeometry",{args:[1.7,32,32]}),C.jsx("meshBasicMaterial",{color:"#87CEEB",transparent:!0,opacity:.15})]}),[0,1,2,3].map(t=>C.jsx(zee,{index:t},t))]})}),zee=L.memo(({index:n})=>{const e=L.useRef(null),t=L.useRef(null),i=L.useRef(null),s=n*Math.PI/2+.3,a=Math.cos(s)*1.55,l=Math.sin(s*.5)*.5+.8,u=Math.sin(s)*1.55;return Bo(h=>{t.current&&t.current.material&&"emissiveIntensity"in t.current.material&&(t.current.material.emissiveIntensity=.3+Math.sin(h.clock.elapsedTime*3+n)*.2),i.current&&(i.current.intensity=.5+Math.sin(h.clock.elapsedTime*2+n)*.3)}),C.jsxs("group",{ref:e,position:[a,l,u],rotation:[0,s,0],children:[C.jsxs("mesh",{position:[0,.05,0],children:[C.jsx("boxGeometry",{args:[.15,.1,.12]}),C.jsx("meshStandardMaterial",{color:"#E8DCC4"})]}),C.jsxs("mesh",{position:[0,.12,0],rotation:[0,0,0],children:[C.jsx("coneGeometry",{args:[.12,.08,4]}),C.jsx("meshStandardMaterial",{color:"#8B4513"})]}),C.jsxs("mesh",{ref:t,position:[0,.14,.03],rotation:[-.3,0,0],children:[C.jsx("boxGeometry",{args:[.1,.01,.06]}),C.jsx("meshStandardMaterial",{color:"#1a237e",emissive:"#4FC3F7",emissiveIntensity:.3,metalness:.8,roughness:.2})]}),C.jsx("pointLight",{ref:i,position:[0,.2,0],color:"#4FC3F7",intensity:.5,distance:.5})]})}),Fee=L.memo(()=>{const n=L.useRef(null),e=L.useMemo(()=>{const t=new Float32Array(150),i=new Float32Array(150);for(let s=0;s<50;s++)t[s*3]=2.5+Math.random()*1.5,t[s*3+1]=-.5+Math.random()*1,t[s*3+2]=-2.5+Math.random()*1,i[s*3]=.3+Math.random()*.2,i[s*3+1]=.7+Math.random()*.3,i[s*3+2]=1;return{positions:t,colors:i}},[]);return Bo(t=>{if(n.current){const i=n.current.geometry.attributes.position.array;for(let s=0;s<50;s++)i[s*3+1]+=.01,i[s*3+1]>1&&(i[s*3+1]=-.5);n.current.geometry.attributes.position.needsUpdate=!0,n.current.rotation.y+=.002}}),C.jsxs("points",{ref:n,children:[C.jsxs("bufferGeometry",{children:[C.jsx("bufferAttribute",{attach:"attributes-position",count:50,array:e.positions,itemSize:3}),C.jsx("bufferAttribute",{attach:"attributes-color",count:50,array:e.colors,itemSize:3})]}),C.jsx("pointsMaterial",{size:.05,vertexColors:!0,transparent:!0,opacity:.8,sizeAttenuation:!0})]})}),rD=L.memo(({orbitRadius:n,speed:e,offset:t})=>{const i=L.useRef(null);return Bo(s=>{if(i.current){const a=s.clock.elapsedTime*e+t;i.current.position.x=3+Math.cos(a)*n,i.current.position.z=-3+Math.sin(a)*n,i.current.rotation.y=-a}}),C.jsxs("group",{ref:i,position:[3+n,.5,-3],children:[C.jsxs("mesh",{children:[C.jsx("boxGeometry",{args:[.08,.08,.08]}),C.jsx("meshStandardMaterial",{color:"#888888",metalness:.8})]}),C.jsxs("mesh",{position:[-.15,0,0],children:[C.jsx("boxGeometry",{args:[.2,.01,.1]}),C.jsx("meshStandardMaterial",{color:"#1a237e",emissive:"#4FC3F7",emissiveIntensity:.5})]}),C.jsxs("mesh",{position:[.15,0,0],children:[C.jsx("boxGeometry",{args:[.2,.01,.1]}),C.jsx("meshStandardMaterial",{color:"#1a237e",emissive:"#4FC3F7",emissiveIntensity:.5})]})]})}),Bee=L.memo(()=>{const n=L.useRef(null);return Bo(e=>{n.current&&n.current.children.forEach((t,i)=>{t.position.y=Math.sin(e.clock.elapsedTime+i)*.3+(i%2===0?1:2),t.rotation.x+=.01,t.rotation.y+=.015})}),C.jsx("group",{ref:n,children:[...Array(5)].map((e,t)=>C.jsx(Nee,{speed:2,rotationIntensity:.5,floatIntensity:.5,children:C.jsxs("mesh",{position:[-2+t*1.5,1,-4+t*.5],children:[C.jsx("octahedronGeometry",{args:[.1]}),C.jsx("meshBasicMaterial",{color:t%2===0?"#FF8800":"#4FC3F7"})]})},t))})}),kee=()=>C.jsx("div",{className:"absolute inset-0 pointer-events-none",children:C.jsxs(mee,{camera:{position:[0,0,8],fov:60},gl:{antialias:!1,alpha:!0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},dpr:[1,1.5],frameloop:"always",performance:{min:.5},children:[C.jsx("ambientLight",{intensity:.3}),C.jsx("directionalLight",{position:[-5,5,5],intensity:.5,color:"#FFF5E1"}),C.jsx(Iee,{radius:50,depth:50,count:1e3,factor:4,saturation:0,fade:!0,speed:.5}),C.jsx(Lee,{}),C.jsx(Uee,{}),[0,.5,1,1.5,2,2.5].map((n,e)=>C.jsx(Oee,{startPos:[-3,2.5,-5],endPos:[2.5,-.5,-3],delay:n},e)),C.jsx(Fee,{}),C.jsx(rD,{orbitRadius:2.5,speed:.3,offset:0}),C.jsx(rD,{orbitRadius:3,speed:.2,offset:Math.PI}),C.jsx(Bee,{})]})}),Vee=L.memo(kee),i5=L.memo(()=>{const n=L.useRef(null),e=L.useRef(),t=L.useRef([]);return L.useEffect(()=>{const i=n.current;if(!i)return;const s=i.getContext("2d");if(!s)return;const a=()=>{i.width=window.innerWidth,i.height=window.innerHeight};a(),window.addEventListener("resize",a);const l=["#FF8800","#FFD700","#22C55E","#4FC3F7"];t.current=Array.from({length:50},()=>({x:Math.random()*i.width,y:Math.random()*i.height,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:Math.random()*3+1,opacity:Math.random()*.5+.2,color:l[Math.floor(Math.random()*l.length)]}));const u=()=>{s.clearRect(0,0,i.width,i.height),t.current.forEach(h=>{h.x+=h.vx,h.y+=h.vy,h.x<0&&(h.x=i.width),h.x>i.width&&(h.x=0),h.y<0&&(h.y=i.height),h.y>i.height&&(h.y=0),s.save(),s.globalAlpha=h.opacity,s.shadowBlur=15,s.shadowColor=h.color,s.beginPath(),s.arc(h.x,h.y,h.size,0,Math.PI*2),s.fillStyle=h.color,s.fill(),s.restore()}),s.strokeStyle="rgba(255, 136, 0, 0.1)",s.lineWidth=.5;for(let h=0;h<t.current.length;h++)for(let p=h+1;p<t.current.length;p++){const g=t.current[h].x-t.current[p].x,m=t.current[h].y-t.current[p].y,x=Math.sqrt(g*g+m*m);x<150&&(s.globalAlpha=(150-x)/150*.3,s.beginPath(),s.moveTo(t.current[h].x,t.current[h].y),s.lineTo(t.current[p].x,t.current[p].y),s.stroke())}e.current=requestAnimationFrame(u)};return u(),()=>{window.removeEventListener("resize",a),e.current&&cancelAnimationFrame(e.current)}},[]),C.jsx("canvas",{ref:n,className:"absolute inset-0 pointer-events-none opacity-60",style:{zIndex:1}})});i5.displayName="ParticleBackground";const s5=L.memo(({end:n,duration:e=2,suffix:t=""})=>{const[i,s]=L.useState(0),[a,l]=L.useState(!1);return L.useEffect(()=>{const u=new IntersectionObserver(([p])=>{p.isIntersecting&&l(!0)},{threshold:.1}),h=document.getElementById("stats-section");return h&&u.observe(h),()=>u.disconnect()},[]),L.useEffect(()=>{if(!a)return;let u;const h=p=>{u||(u=p);const g=Math.min((p-u)/(e*1e3),1);s(Math.floor(g*n)),g<1&&requestAnimationFrame(h)};requestAnimationFrame(h)},[a,n,e]),C.jsxs("span",{children:[i,t]})});s5.displayName="AnimatedCounter";const Hee=[{icon:pd,value:500,suffix:"+",label:"Projects Completed"},{icon:VD,value:1e3,suffix:"+",label:"Happy Clients"},{icon:Dz,value:15,suffix:"+",label:"Years Experience"},{icon:Dp,value:50,suffix:"+",label:"Cities Covered"}],jee={hidden:{opacity:0,y:50},visible:n=>({opacity:1,y:0,transition:{delay:n*.03,duration:.5,ease:[.6,-.05,.01,.99]}})},r5=L.memo(({text:n,className:e})=>C.jsx("span",{className:e,children:n.split("").map((t,i)=>C.jsx(te.span,{custom:i,variants:jee,initial:"hidden",animate:"visible",className:"inline-block",style:{whiteSpace:t===" "?"pre":"normal"},children:t},i))}));r5.displayName="AnimatedText";const a5=L.memo(()=>{const{scrollY:n}=jL(),e=PM(n,[0,500],[0,150]),t=PM(n,[0,300],[1,0]),i=L.useCallback(()=>{document.querySelector("#about")?.scrollIntoView({behavior:"smooth"})},[]);return C.jsxs("section",{id:"home",className:"relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-hero",children:[C.jsx(Vee,{}),C.jsx(i5,{}),C.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-background/20 to-background/70 pointer-events-none z-[2]"}),C.jsxs(te.div,{style:{y:e,opacity:t},className:"container mx-auto px-4 lg:px-8 relative z-10 pt-20",children:[C.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[C.jsxs(te.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,type:"spring"},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full glass mb-8 relative overflow-hidden group",children:[C.jsx(te.span,{animate:{scale:[1,1.3,1]},transition:{duration:2,repeat:1/0},className:"w-2 h-2 bg-secondary rounded-full"}),C.jsx("span",{className:"text-sm font-medium text-foreground/90",children:"Powering Tomorrow with Intelligent Energy Solutions"}),C.jsx(l0,{className:"w-4 h-4 text-accent"}),C.jsx(te.div,{animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent"})]}),C.jsxs(te.h1,{initial:{opacity:0},animate:{opacity:1},className:"font-display text-4xl md:text-6xl lg:text-7xl font-bold mb-6 leading-tight",children:[C.jsx(r5,{text:"Sun Power Tech",className:"text-gradient-solar block"}),C.jsx(te.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8,duration:.8,type:"spring"},className:"text-gradient-green glow-text-solar block mt-2 text-3xl md:text-5xl lg:text-6xl",children:"Advanced Solar & Automation"})]}),C.jsxs(te.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:1},className:"text-lg md:text-xl max-w-2xl mx-auto mb-10",children:[C.jsx("span",{className:"text-gradient-solar font-medium",children:"Your trusted partner"}),C.jsx("span",{className:"text-muted-foreground",children:" for intelligent power management. We deliver "}),C.jsx("span",{className:"text-gradient-green font-medium",children:"cutting-edge AI, IoT, and Cloud-enabled solutions"}),C.jsx("span",{className:"text-muted-foreground",children:" for a sustainable energy future."})]}),C.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:1.2},className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-16",children:[C.jsx(te.div,{whileHover:{scale:1.05},whileTap:{scale:.98},children:C.jsxs(ga,{size:"lg",className:"bg-gradient-solar hover:opacity-90 text-primary-foreground font-semibold px-8 py-6 text-lg shadow-lg hover:shadow-xl transition-all group relative overflow-hidden",onClick:()=>document.querySelector("#products")?.scrollIntoView({behavior:"smooth"}),children:[C.jsxs("span",{className:"relative z-10 flex items-center",children:["Explore Solutions",C.jsx(pd,{className:"w-5 h-5 ml-2 group-hover:animate-pulse"})]}),C.jsx(te.div,{className:"absolute inset-0 bg-white/20",initial:{x:"-100%",opacity:0},whileHover:{x:"100%",opacity:1},transition:{duration:.5}})]})}),C.jsx(te.div,{whileHover:{scale:1.05},whileTap:{scale:.98},children:C.jsx(ga,{size:"lg",variant:"outline",className:"border-2 border-primary/50 hover:border-primary hover:bg-primary/10 font-semibold px-8 py-6 text-lg backdrop-blur-sm",onClick:()=>document.querySelector("#contact")?.scrollIntoView({behavior:"smooth"}),children:"Contact Us"})})]}),C.jsx(te.div,{id:"stats-section",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:1,delay:1.4},className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8 glass rounded-2xl p-6 md:p-8",children:Hee.map((s,a)=>C.jsxs(te.div,{initial:{opacity:0,scale:.5,y:30},animate:{opacity:1,scale:1,y:0},transition:{duration:.5,delay:1.6+a*.15,type:"spring",stiffness:100},whileHover:{scale:1.1,y:-5},className:"text-center group cursor-default",children:[C.jsx(te.div,{whileHover:{rotate:[0,-10,10,0]},transition:{duration:.5},className:"inline-flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-solar mb-3 group-hover:glow-solar transition-all",children:C.jsx(s.icon,{className:"w-6 h-6 text-primary-foreground"})}),C.jsx("div",{className:"font-display text-2xl md:text-3xl font-bold text-gradient-solar",children:C.jsx(s5,{end:s.value,suffix:s.suffix})}),C.jsx("div",{className:"text-xs md:text-sm text-muted-foreground mt-1",children:s.label})]},s.label))})]}),C.jsxs(te.button,{onClick:i,initial:{opacity:0},animate:{opacity:1},transition:{delay:2},whileHover:{scale:1.1},className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 text-muted-foreground hover:text-primary transition-colors",children:[C.jsx("span",{className:"text-sm font-medium",children:"Scroll Down"}),C.jsx(te.div,{animate:{y:[0,8,0]},transition:{duration:1.5,repeat:1/0},children:C.jsx(Ez,{className:"w-5 h-5"})})]})]})]})});a5.displayName="HeroSection";const Gee=[{icon:MF,title:"Our Mission",description:"To deliver innovative power management solutions that optimize efficiency, reduce costs, and promote sustainability."},{icon:lF,title:"Our Vision",description:"To be the leading provider of intelligent energy solutions, empowering businesses with smart technology."},{icon:D1,title:"Our Promise",description:"We ensure reliability, quality, and excellence in every project we undertake for our valued clients."}],Wee=[{icon:oT,label:"Eco-Friendly",color:"bg-secondary"},{icon:CF,label:"Innovation",color:"bg-primary"},{icon:rF,label:"Global Reach",color:"bg-accent"}],Xee={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.1}}},qee={hidden:{opacity:0,y:50,rotateX:-15},visible:{opacity:1,y:0,rotateX:0,transition:{type:"spring",stiffness:100,damping:15}}},o5=L.memo(()=>{const n=L.useRef(null),e=Hp(n,{once:!0,margin:"-100px"});return C.jsxs("section",{id:"about",className:"py-24 relative overflow-hidden bg-muted/30",children:[C.jsx(te.div,{animate:{scale:[1,1.2,1],opacity:[.05,.1,.05]},transition:{duration:8,repeat:1/0},className:"absolute top-0 right-0 w-1/2 h-1/2 bg-gradient-radial from-primary/10 to-transparent pointer-events-none"}),C.jsx(te.div,{animate:{scale:[1.2,1,1.2],opacity:[.05,.1,.05]},transition:{duration:8,repeat:1/0,delay:4},className:"absolute bottom-0 left-0 w-1/2 h-1/2 bg-gradient-radial from-secondary/10 to-transparent pointer-events-none"}),C.jsxs("div",{className:"container mx-auto px-4 lg:px-8",ref:n,children:[C.jsxs(te.div,{initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},transition:{duration:.6},className:"text-center max-w-3xl mx-auto mb-16",children:[C.jsx(te.span,{initial:{opacity:0,scale:.8},animate:e?{opacity:1,scale:1}:{},transition:{duration:.5,type:"spring"},className:"inline-block px-4 py-1 rounded-full bg-primary/10 text-primary text-sm font-semibold mb-4",children:"About Us"}),C.jsxs(te.h2,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{},transition:{duration:.6,delay:.2},className:"font-display text-3xl md:text-5xl font-bold mb-6",children:["Your Partner for"," ",C.jsx("span",{className:"text-gradient-solar",children:"Intelligent Power"})," ","Management"]}),C.jsx(te.p,{initial:{opacity:0},animate:e?{opacity:1}:{},transition:{duration:.6,delay:.4},className:"text-lg text-muted-foreground",children:"Sun PowerTech Pvt. Ltd. is a premier turnkey solution provider specializing in Power Quality, Energy Management, and Industrial Automation. We leverage AI, IoT, and Cloud technologies to deliver cutting-edge solutions."})]}),C.jsx(te.div,{variants:Xee,initial:"hidden",animate:e?"visible":"hidden",className:"grid md:grid-cols-3 gap-8 mb-16",children:Gee.map((t,i)=>C.jsx(te.div,{variants:qee,whileHover:{scale:1.03,rotateY:5,transition:{duration:.3}},className:"group perspective-1000",children:C.jsxs("div",{className:"relative p-8 rounded-2xl bg-card border border-border hover:border-primary/50 transition-all duration-300 hover:shadow-xl hover:shadow-primary/10 h-full transform-gpu",children:[C.jsx(te.div,{whileHover:{scale:1.15,rotate:[0,-5,5,0]},transition:{duration:.4},className:"w-16 h-16 rounded-2xl bg-gradient-solar flex items-center justify-center mb-6 group-hover:glow-solar transition-all",children:C.jsx(t.icon,{className:"w-8 h-8 text-primary-foreground"})}),C.jsx("h3",{className:"font-display text-xl font-bold mb-3",children:t.title}),C.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description}),C.jsx(te.div,{initial:{opacity:0},whileHover:{opacity:.1},className:"absolute inset-0 rounded-2xl bg-gradient-solar transition-opacity"}),C.jsx(te.div,{initial:{scale:0},animate:e?{scale:1}:{},transition:{delay:.5+i*.2,type:"spring"},className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-solar rounded-full flex items-center justify-center text-primary-foreground text-xs font-bold",children:i+1})]})},t.title))}),C.jsx(te.div,{initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},transition:{duration:.6,delay:.6},className:"flex flex-wrap justify-center gap-4",children:Wee.map((t,i)=>C.jsxs(te.div,{initial:{opacity:0,scale:0,rotate:-180},animate:e?{opacity:1,scale:1,rotate:0}:{},transition:{duration:.5,delay:.8+i*.15,type:"spring",stiffness:200},whileHover:{scale:1.1,y:-5,transition:{duration:.2}},className:"flex items-center gap-3 px-6 py-3 rounded-full bg-card border border-border hover:border-primary/50 transition-all group cursor-default",children:[C.jsx(te.div,{whileHover:{rotate:360},transition:{duration:.5},className:`w-10 h-10 rounded-full ${t.color} flex items-center justify-center`,children:C.jsx(t.icon,{className:"w-5 h-5 text-primary-foreground"})}),C.jsx("span",{className:"font-semibold",children:t.label})]},t.label))}),C.jsxs(te.div,{initial:{opacity:0,y:50},animate:e?{opacity:1,y:0}:{},transition:{duration:.8,delay:1},className:"mt-16 p-8 rounded-2xl bg-gradient-to-r from-primary/10 via-secondary/10 to-accent/10 border border-border relative overflow-hidden",children:[C.jsx(te.div,{animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"},className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle, hsl(var(--primary)) 1px, transparent 1px)",backgroundSize:"30px 30px"}}),C.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center relative z-10",children:[C.jsxs("div",{children:[C.jsx(te.h3,{initial:{opacity:0,x:-30},animate:e?{opacity:1,x:0}:{},transition:{delay:1.2},className:"font-display text-2xl font-bold mb-4",children:"Trusted by Industries Across India"}),C.jsx(te.p,{initial:{opacity:0},animate:e?{opacity:1}:{},transition:{delay:1.3},className:"text-muted-foreground mb-4",children:"From power filtration to energy management systems, we provide comprehensive solutions tailored to your specific needs. Our expertise spans multiple sectors including manufacturing, healthcare, IT, and more."}),C.jsx("ul",{className:"space-y-2",children:["AI-Powered Analytics","IoT Integration","Cloud-Based Monitoring","24/7 Support"].map((t,i)=>C.jsxs(te.li,{initial:{opacity:0,x:-20},animate:e?{opacity:1,x:0}:{},transition:{delay:1.4+i*.1},className:"flex items-center gap-2 text-sm",children:[C.jsx(te.span,{animate:{scale:[1,1.3,1]},transition:{duration:2,repeat:1/0,delay:i*.2},className:"w-2 h-2 rounded-full bg-secondary"}),t]},t))})]}),C.jsx("div",{className:"relative",children:C.jsxs(te.div,{initial:{opacity:0,scale:.8},animate:e?{opacity:1,scale:1}:{},transition:{delay:1.2,type:"spring"},className:"aspect-video rounded-xl bg-gradient-dark flex items-center justify-center overflow-hidden",children:[C.jsx(te.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"w-32 h-32 border-4 border-dashed border-primary/30 rounded-full flex items-center justify-center",children:C.jsx(te.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"w-20 h-20 bg-gradient-solar rounded-full flex items-center justify-center glow-solar",children:C.jsx(oT,{className:"w-10 h-10 text-primary-foreground"})})}),[0,1,2,3].map(t=>C.jsx(te.div,{className:"absolute w-3 h-3 bg-secondary rounded-full",animate:{rotate:360},transition:{duration:4+t,repeat:1/0,ease:"linear"},style:{transformOrigin:`${60+t*10}px center`}},t))]})})]})]})]})]})});o5.displayName="AboutSection";const Yee=[{icon:Yz,title:"Technology-Focused",subtitle:"AI, IoT & Cloud",description:"Leveraging cutting-edge AI, IoT, and Cloud technologies to provide smart, automated power management solutions that adapt to your needs.",gradient:"from-primary to-accent",stats:"100+ Integrations"},{icon:VD,title:"Customer-Centric",subtitle:"Tailored Solutions",description:"Every solution is customized to meet your specific requirements. We work closely with clients to understand their unique challenges.",gradient:"from-secondary to-primary",stats:"1000+ Happy Clients"},{icon:oT,title:"Sustainability-Focused",subtitle:"Eco-Friendly",description:"Committed to environmental responsibility with energy-efficient solutions that reduce carbon footprint and promote green energy.",gradient:"from-secondary to-accent",stats:"40% Energy Savings"}],$ee=[{icon:l0,label:"Smart Automation"},{icon:D1,label:"Reliable Protection"},{icon:pd,label:"Fast Implementation"}],l5=L.memo(({feature:n,index:e,isInView:t})=>{const[i,s]=L.useState(!1);return C.jsx(te.div,{initial:{opacity:0,y:50,rotateY:-10},animate:t?{opacity:1,y:0,rotateY:0}:{},transition:{duration:.6,delay:e*.2,type:"spring"},onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),className:"group relative perspective-1000",children:C.jsxs(te.div,{animate:{rotateY:i?5:0,scale:i?1.02:1},transition:{duration:.3},className:"relative h-full p-8 rounded-3xl bg-card border border-border overflow-hidden hover:border-transparent transition-all duration-500 transform-gpu",children:[C.jsx(te.div,{initial:{opacity:0,scale:.8},animate:{opacity:i?.15:0,scale:i?1:.8},transition:{duration:.3},className:`absolute inset-0 bg-gradient-to-br ${n.gradient}`}),C.jsxs(te.div,{animate:{rotate:i?[0,-5,5,-5,0]:0,scale:i?1.1:1},transition:{duration:.5},className:`w-20 h-20 rounded-2xl bg-gradient-to-br ${n.gradient} flex items-center justify-center mb-6 shadow-lg relative`,children:[C.jsx(n.icon,{className:"w-10 h-10 text-primary-foreground"}),C.jsx(te.div,{animate:{scale:i?[1,1.3,1]:1,opacity:i?[.5,0,.5]:0},transition:{duration:1,repeat:i?1/0:0},className:`absolute inset-0 rounded-2xl border-2 border-current bg-gradient-to-br ${n.gradient}`})]}),C.jsxs("div",{className:"relative z-10",children:[C.jsx(te.span,{animate:{x:i?5:0},className:"text-sm font-medium text-primary inline-block",children:n.subtitle}),C.jsx("h3",{className:"font-display text-2xl font-bold mt-1 mb-4",children:n.title}),C.jsx("p",{className:"text-muted-foreground leading-relaxed mb-6",children:n.description}),C.jsxs(te.div,{animate:{scale:i?1.05:1},whileHover:{scale:1.1},className:`inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r ${n.gradient} text-primary-foreground text-sm font-semibold cursor-default`,children:[C.jsx(te.div,{animate:{rotate:i?360:0},transition:{duration:.5},children:C.jsx(l0,{className:"w-4 h-4"})}),n.stats]})]}),C.jsx(te.div,{animate:{scale:i?1.5:1,rotate:i?45:0},transition:{duration:.5},className:`absolute -bottom-20 -right-20 w-40 h-40 bg-gradient-to-br ${n.gradient} rounded-full opacity-10`}),i&&C.jsx(C.Fragment,{children:[...Array(5)].map((a,l)=>C.jsx(te.div,{initial:{opacity:0,scale:0,x:0,y:0},animate:{opacity:[0,1,0],scale:[0,1,0],x:Math.random()*100-50,y:Math.random()*-100},transition:{duration:1,delay:l*.1,repeat:1/0},className:`absolute bottom-1/2 left-1/2 w-2 h-2 rounded-full bg-gradient-to-r ${n.gradient}`},l))})]})})});l5.displayName="FeatureCard";const c5=L.memo(()=>{const n=L.useRef(null),e=Hp(n,{once:!0,margin:"-100px"});return C.jsxs("section",{id:"features",className:"py-24 relative overflow-hidden bg-background",children:[C.jsxs("div",{className:"absolute inset-0 opacity-30",children:[C.jsx(te.div,{animate:{x:[0,50,0],y:[0,30,0]},transition:{duration:10,repeat:1/0},className:"absolute top-20 left-10 w-72 h-72 bg-primary/10 rounded-full blur-3xl"}),C.jsx(te.div,{animate:{x:[0,-50,0],y:[0,-30,0]},transition:{duration:12,repeat:1/0},className:"absolute bottom-20 right-10 w-96 h-96 bg-secondary/10 rounded-full blur-3xl"})]}),C.jsxs("div",{className:"container mx-auto px-4 lg:px-8 relative z-10",ref:n,children:[C.jsxs(te.div,{initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},transition:{duration:.6},className:"text-center max-w-3xl mx-auto mb-16",children:[C.jsx(te.span,{initial:{opacity:0,scale:.5},animate:e?{opacity:1,scale:1}:{},transition:{duration:.5,type:"spring"},className:"inline-block px-4 py-1 rounded-full bg-secondary/10 text-secondary text-sm font-semibold mb-4",children:"Why Choose Us"}),C.jsxs(te.h2,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{},transition:{duration:.6,delay:.2},className:"font-display text-3xl md:text-5xl font-bold mb-6",children:["Powering Your Success with"," ",C.jsx(te.span,{animate:{backgroundPosition:["0%","100%","0%"]},transition:{duration:5,repeat:1/0},className:"text-gradient-green",style:{backgroundSize:"200% auto"},children:"Excellence"})]}),C.jsx(te.p,{initial:{opacity:0},animate:e?{opacity:1}:{},transition:{duration:.6,delay:.4},className:"text-lg text-muted-foreground",children:"We combine innovation, expertise, and commitment to deliver exceptional power solutions that drive your business forward."})]}),C.jsx("div",{className:"grid lg:grid-cols-3 gap-8 mb-16",children:Yee.map((t,i)=>C.jsx(l5,{feature:t,index:i,isInView:e},t.title))}),C.jsx(te.div,{initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},transition:{duration:.6,delay:.8},className:"flex flex-wrap justify-center gap-6",children:$ee.map((t,i)=>C.jsxs(te.div,{initial:{opacity:0,scale:.5,y:20},animate:e?{opacity:1,scale:1,y:0}:{},transition:{duration:.5,delay:1+i*.15,type:"spring",stiffness:150},whileHover:{scale:1.1,y:-8,transition:{duration:.2}},className:"flex items-center gap-3 px-6 py-4 rounded-2xl bg-muted/50 border border-border hover:border-primary/50 transition-all cursor-default group",children:[C.jsx(te.div,{whileHover:{rotate:360},transition:{duration:.6},className:"w-12 h-12 rounded-xl bg-gradient-solar flex items-center justify-center group-hover:glow-solar transition-all",children:C.jsx(t.icon,{className:"w-6 h-6 text-primary-foreground"})}),C.jsx("span",{className:"font-semibold text-lg",children:t.label})]},t.label))})]})]})});c5.displayName="FeaturesSection";const Zee=({product:n,isOpen:e,onClose:t})=>n?C.jsx(yp,{children:e&&C.jsxs(C.Fragment,{children:[C.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50"}),C.jsxs(te.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-4 md:inset-8 lg:inset-16 bg-background rounded-3xl shadow-2xl z-50 overflow-hidden flex flex-col",children:[C.jsx("button",{onClick:t,className:"absolute top-4 right-4 z-10 w-10 h-10 rounded-full bg-muted hover:bg-muted/80 flex items-center justify-center transition-colors",children:C.jsx(cT,{className:"w-5 h-5 text-foreground"})}),C.jsx("div",{className:"flex-1 overflow-y-auto",children:C.jsxs("div",{className:"grid lg:grid-cols-2 min-h-full",children:[C.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-muted to-accent/10 p-8 md:p-12 flex items-center justify-center relative",children:[C.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-primary/20 to-transparent rounded-full blur-2xl"}),C.jsx("div",{className:"absolute bottom-0 right-0 w-48 h-48 bg-gradient-to-tl from-accent/20 to-transparent rounded-full blur-3xl"}),C.jsxs(te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1},className:"relative",children:[C.jsx("div",{className:"absolute -inset-8 bg-gradient-to-br from-primary/30 to-accent/30 rounded-full blur-3xl opacity-50"}),C.jsx("img",{src:n.image,alt:n.name,className:"relative max-w-full max-h-[400px] lg:max-h-[500px] object-contain drop-shadow-2xl"})]})]}),C.jsxs("div",{className:"p-8 md:p-12 flex flex-col",children:[C.jsx(te.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.15},className:"mb-4",children:C.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 text-primary text-sm font-medium rounded-full",children:[C.jsx(pd,{className:"w-4 h-4"}),n.categoryLabel]})}),C.jsx(te.h2,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:n.name}),C.jsxs(te.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.25},className:"mb-6",children:[C.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:n.description}),C.jsx("p",{className:"text-muted-foreground/80 leading-relaxed text-sm",children:n.longDescription})]}),C.jsxs(te.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"mb-6",children:[C.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-3 flex items-center gap-2",children:[C.jsx(D1,{className:"w-5 h-5 text-primary"}),"Key Features"]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:n.features.map((i,s)=>C.jsxs(te.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.35+s*.05},className:"flex items-start gap-2 text-muted-foreground text-sm",children:[C.jsx(N1,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),C.jsx("span",{children:i})]},s))})]}),C.jsxs(te.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"mb-6",children:[C.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-3 flex items-center gap-2",children:[C.jsx(kD,{className:"w-5 h-5 text-primary"}),"Technical Specifications"]}),C.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:n.specs.map((i,s)=>C.jsxs(te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.45+s*.05},className:"bg-muted/50 rounded-xl p-4 text-center",children:[C.jsx("p",{className:"text-primary font-bold text-lg",children:i.value}),C.jsx("p",{className:"text-muted-foreground text-xs mt-1",children:i.label})]},s))})]}),C.jsxs(te.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"mb-8",children:[C.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Applications"}),C.jsx("p",{className:"text-muted-foreground text-sm",children:n.applications})]}),C.jsxs(te.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.55},className:"flex flex-wrap gap-4 mt-auto",children:[C.jsxs(ga,{className:"bg-primary hover:bg-primary/90 text-primary-foreground rounded-full px-8 gap-2",onClick:()=>{t(),document.querySelector("#contact")?.scrollIntoView({behavior:"smooth"})},children:[C.jsx(Wg,{className:"w-4 h-4"}),"Request A Quote"]}),C.jsx(ga,{variant:"outline",className:"border-primary text-primary hover:bg-primary/10 rounded-full px-8",onClick:()=>{t(),document.querySelector("#contact")?.scrollIntoView({behavior:"smooth"})},children:"Contact Sales"})]})]})]})})]})]})}):null,Kee="/assets/auto-transformers-D5OHFUF_.png",Qee="/assets/furnace-transformer-CR4WkT2L.jpg",Jee="/assets/locomotive-transformer-B31Nc5OH.png",ete="/assets/shunt-reactors-CNH5OWUE.png",tte="/assets/distribution-transformer-RXvuZmKp.jpg",nte="/assets/ais-sf6-circuit-breaker-up-to-800kv-BKVq6nQX.png",ite="/assets/disconnector-CSLjSFQb.png",ste="/assets/gis-up-to-245-kv-RWF1sHUq.png",rte="/assets/ais-up-to-40.5-kv-BJhcOjHN.png",ate="/assets/gis-up-to-66-kv-1-DJulhb_t.jpg",ote="/assets/numeric-protection-relay-scada-640x495-CtHFz7tF.png",lte="/assets/rmu-up-to-36-kv-BGqTXoPH.png",cte="/assets/vaccum-interrupter-Dj_4vYNR.jpg",ute="/assets/centrifuge-BNZeaZyX.jpg",fte="/assets/cranes-BbLoidPp.jpeg",dte="/assets/fan-product-640x640-pNi1Mni8.jpg",hte="/assets/lifts-960x960-BpMCwqw7.jpg",pte="/assets/plc-640x640-AzBwBhkp.webp",mte="/assets/pumps-640x563-B7cTou3W.webp",gte=[{id:"all",name:"All Products"},{id:"power-transfer",name:"Power Transfer & Reactors"},{id:"distribution",name:"Distribution Transformers"},{id:"ehv-switchgear",name:"EHV Switchgear"},{id:"mv-switchgear",name:"MV Switchgear"},{id:"drives-automation",name:"Drives & Automation"}],aD=[{id:1,name:"Auto Transformers",category:"power-transfer",categoryLabel:"Power Transfer & Reactors",image:Kee,shortDesc:"High-efficiency voltage conversion for power transmission systems.",description:"Auto Transformers are frequently used in power applications to interconnect systems operating at different voltage classes, for example 400 kV to 220 kV for transmission. They are also often used for providing conversions between the two common domestic main voltage bands in the world (400, 200, 66 kV).",longDescription:"The links between the UK 400 kV and 275 kV SuperGrid networks are normally three-phase autotransformers with taps at the common neutral end. Autotransformers are built with common main winding and a separate low voltage winding. For long distance rural power distribution lines, special autotransformers with automatic tap-changing equipment are inserted as voltage regulators.",features:["Better short circuit strength","Compact design","Durability","Optimum losses","KEMA Tested","Epoxy bonded CTC for improved short circuit withstand"],specs:[{label:"Voltage",value:"132 to 765 kV"},{label:"Ratings",value:"50 to 1500 MVA"},{label:"Standard",value:"ANSI"}],applications:"Power transmission, Grid interconnection, Voltage regulation for rural distribution, SuperGrid networks"},{id:3,name:"Furnace Transformers",category:"power-transfer",categoryLabel:"Power Transfer & Reactors",image:Qee,shortDesc:"Heavy-duty power solutions for arc and induction furnaces.",description:"Furnace Transformers are specially designed to handle the heavy-duty electrical loads required in arc furnaces and induction furnaces. They ensure stable power supply, high efficiency, and durability under extreme operating conditions.",longDescription:"Our furnace transformers are engineered for the most demanding industrial applications. With robust construction and advanced cooling systems, they deliver consistent performance in steel mills, foundries, and other high-temperature manufacturing environments with minimal maintenance requirements.",features:["Heavy-duty construction","Advanced cooling systems","High overload capacity","Stable voltage regulation","Extended operational life","Low maintenance requirements"],specs:[{label:"Type",value:"Arc & Induction"},{label:"Duty",value:"Heavy Industrial"},{label:"Cooling",value:"ONAN/ONAF"}],applications:"Steel manufacturing, Foundries, Metal processing, Industrial heating, Smelting operations"},{id:4,name:"Locomotive & Trackside Transformers",category:"power-transfer",categoryLabel:"Power Transfer & Reactors",image:Jee,shortDesc:"Reliable power solutions for railway operations.",description:"Locomotive and Trackside Power Transformers provide reliable and efficient power solutions for railway operations. They are engineered to withstand dynamic loads, ensure smooth traction, and support continuous, safe rail network performance.",longDescription:"Designed specifically for the demanding railway environment, these transformers handle the unique challenges of traction power systems. From high-speed trains to metro networks, our solutions ensure uninterrupted power delivery with robust vibration resistance.",features:["Dynamic load handling","Vibration resistant design","Compact footprint","High efficiency ratings","Weather resistant enclosure","Quick fault recovery"],specs:[{label:"Application",value:"Railway Traction"},{label:"Design",value:"Compact & Robust"},{label:"Performance",value:"High Efficiency"}],applications:"Electric locomotives, Metro systems, High-speed rail, Trackside substations, Railway electrification"},{id:5,name:"Shunt Reactors",category:"power-transfer",categoryLabel:"Power Transfer & Reactors",image:ete,shortDesc:"Grid stability solutions for high-voltage transmission.",description:"Shunt Reactors are used to improve power system stability by absorbing excess reactive power in high-voltage transmission lines. They enhance voltage regulation, reduce losses, and ensure efficient grid performance.",longDescription:"Essential components for modern power grids, shunt reactors manage reactive power to maintain voltage stability across long transmission distances. They prevent over-voltage conditions and optimize power flow efficiency with low-noise operation.",features:["Reactive power compensation","Voltage stabilization","Low noise operation","Oil-immersed design","Gapped core technology","Extended service intervals"],specs:[{label:"Voltage",value:"Up to 765 kV"},{label:"Type",value:"Oil Immersed"},{label:"Core",value:"Gapped Design"}],applications:"High-voltage transmission, Grid stabilization, Reactive power management, Long transmission lines"},{id:6,name:"Distribution Transformers",category:"distribution",categoryLabel:"Distribution Transformers",image:tte,shortDesc:"Essential electrical devices for safe voltage distribution.",description:"Distribution Transformer is an essential electrical device used to step down the high voltage from power transmission lines to a lower voltage suitable for safe use in homes, offices, and industries.",longDescription:"It ensures efficient distribution of electricity at the consumer level while minimizing power losses. These transformers are generally installed on poles, pads, or substations and play a vital role in providing reliable and continuous power supply in the distribution network. They are designed for maximum efficiency and long operational life.",features:["High efficiency design","Low power losses","Pole/Pad mountable","Weather resistant","Long operational life","Minimal maintenance required"],specs:[{label:"Voltage",value:"11kV to 33kV"},{label:"Installation",value:"Pole/Pad/Substation"},{label:"Efficiency",value:"98%+"}],applications:"Residential distribution, Commercial buildings, Industrial facilities, Rural electrification, Urban substations"},{id:7,name:"AIS (SF6) Circuit Breaker Up To 800 kV",category:"ehv-switchgear",categoryLabel:"EHV Switchgear",image:nte,shortDesc:"High-voltage switching device for air-insulated substations.",description:"AIS (Air Insulated Substation) SF Circuit Breaker up to 800 kV is a high-voltage switching device used in air-insulated substations to control, protect, and isolate electrical equipment in transmission networks.",longDescription:"It utilizes sulfur hexafluoride (SF) gas as the insulating and arc-quenching medium, which provides excellent dielectric strength and high interrupting capability, enabling safe and reliable operation even at ultra-high voltages like 800 kV. This technology ensures minimal footprint and maximum reliability.",features:["SF gas insulation","High interrupting capability","Excellent dielectric strength","Ultra-high voltage rated","Reliable arc quenching","Compact design"],specs:[{label:"Voltage",value:"Up to 800 kV"},{label:"Insulation",value:"SF Gas"},{label:"Type",value:"Air Insulated"}],applications:"Transmission networks, Air-insulated substations, Grid protection, Power system switching"},{id:8,name:"Disconnector",category:"ehv-switchgear",categoryLabel:"EHV Switchgear",image:ite,shortDesc:"High-voltage switching devices for safe equipment isolation.",description:"Disconnectors are high-voltage switching devices used to safely isolate electrical equipment for maintenance or inspection. They ensure operational safety, reliability, and uninterrupted power system performance.",longDescription:"These devices are essential components in substations and transmission networks, providing visible isolation points for maintenance crews. They are designed for reliable operation in harsh environments and comply with international safety standards.",features:["Safe isolation capability","Visible break points","High reliability","Weather resistant","Low maintenance","International standards compliant"],specs:[{label:"Voltage",value:"Up to 800 kV"},{label:"Operation",value:"Manual/Motorized"},{label:"Type",value:"Center/Pantograph"}],applications:"Substations, Transmission lines, Equipment isolation, Maintenance safety, Grid operations"},{id:9,name:"GIS Up To 245 kV",category:"ehv-switchgear",categoryLabel:"EHV Switchgear",image:ste,shortDesc:"Compact high-voltage substations with SF gas insulation.",description:"Gas Insulated Substation (GIS) up to 245 kV is a compact, high-voltage substation that uses SF gas as the primary insulating and arc-quenching medium instead of air.",longDescription:"This allows significant reduction in size compared to conventional air-insulated substations. GIS technology up to 245 kV is commonly applied in urban, industrial, and space-constrained areas where reliability, safety, and minimal footprint are critical requirements.",features:["Compact footprint","SF gas insulated","High reliability","Minimal maintenance","Weather independent","Extended service life"],specs:[{label:"Voltage",value:"Up to 245 kV"},{label:"Insulation",value:"SF Gas"},{label:"Design",value:"Compact/Modular"}],applications:"Urban substations, Industrial areas, Space-constrained locations, Underground installations"},{id:10,name:"AIS Up To 40.5 kV",category:"mv-switchgear",categoryLabel:"MV Switchgear",image:rte,shortDesc:"Safe and reliable medium-voltage power distribution.",description:"AIS up to 40.5 kV (Air Insulated Switchgear) delivers safe, reliable, and cost-effective power distribution. Designed for medium-voltage networks, it ensures efficient operation, easy maintenance, and long service life.",longDescription:"Our air-insulated switchgear solutions provide robust protection for medium-voltage networks with proven technology. They offer excellent value while maintaining high safety standards and easy serviceability for maintenance teams.",features:["Cost-effective design","Easy maintenance","Reliable operation","Long service life","Safe switching","Proven technology"],specs:[{label:"Voltage",value:"Up to 40.5 kV"},{label:"Type",value:"Air Insulated"},{label:"Application",value:"Medium Voltage"}],applications:"Medium-voltage networks, Industrial distribution, Commercial buildings, Utility substations"},{id:11,name:"GIS Up To 66 kV",category:"mv-switchgear",categoryLabel:"MV Switchgear",image:ate,shortDesc:"Compact and reliable gas-insulated switchgear solutions.",description:"GIS up to 66 kV (Gas Insulated Switchgear) offers compact, reliable, and high-performance power distribution. With minimal space requirements and enhanced safety, it ensures efficient operation and long-term reliability.",longDescription:"Ideal for demanding environments where space is at a premium, our GIS solutions combine SF gas technology with modular design for maximum flexibility. They require minimal maintenance and provide decades of reliable service.",features:["Minimal space requirement","Enhanced safety features","High performance","Long-term reliability","Modular design","Low maintenance"],specs:[{label:"Voltage",value:"Up to 66 kV"},{label:"Insulation",value:"SF Gas"},{label:"Design",value:"Compact/Modular"}],applications:"Industrial facilities, Commercial complexes, Urban distribution, Mining operations"},{id:12,name:"Numeric Protection Relay & SCADA",category:"mv-switchgear",categoryLabel:"MV Switchgear",image:ote,shortDesc:"Intelligent monitoring and control for power systems.",description:"Numeric Protection Relays and SCADA provide intelligent monitoring and control for power systems. They ensure fast fault detection, reliable protection, and real-time data management for efficient and secure grid operations.",longDescription:"Our advanced protection relay and SCADA systems offer comprehensive grid management capabilities. With high-speed communication protocols and user-friendly interfaces, they enable operators to monitor and control power systems with precision.",features:["Fast fault detection","Real-time monitoring","Remote control capability","Data logging & analysis","Multiple protocol support","User-friendly interface"],specs:[{label:"Communication",value:"IEC 61850/Modbus"},{label:"Protection",value:"Multi-function"},{label:"Monitoring",value:"Real-time"}],applications:"Grid automation, Substation control, Power system protection, Remote monitoring, Energy management"},{id:13,name:"RMU Up To 36 kV",category:"mv-switchgear",categoryLabel:"MV Switchgear",image:lte,shortDesc:"Compact ring main units for safe power distribution.",description:"RMU up to 36 kV (Ring Main Unit) offers safe, compact, and reliable medium-voltage power distribution. It ensures uninterrupted supply, easy maintenance, and enhanced operational safety.",longDescription:"Ring Main Units are essential components for urban and industrial distribution networks. Our RMU solutions provide flexible configuration options, ensuring reliable power supply with quick fault isolation capabilities for network resilience.",features:["Compact design","Reliable switching","Quick fault isolation","Easy maintenance","Flexible configuration","Enhanced safety"],specs:[{label:"Voltage",value:"Up to 36 kV"},{label:"Type",value:"Ring Main Unit"},{label:"Insulation",value:"SF/Solid"}],applications:"Urban networks, Industrial distribution, Commercial areas, Renewable energy integration"},{id:14,name:"Vacuum Interrupter",category:"mv-switchgear",categoryLabel:"MV Switchgear",image:cte,shortDesc:"High-performance switching for medium and high-voltage systems.",description:"Vacuum Interrupters are high-performance switching devices used to interrupt electrical currents safely in medium and high-voltage systems. They ensure reliable operation, long service life, and minimal maintenance.",longDescription:"Our vacuum interrupters utilize advanced vacuum technology for clean and efficient current interruption. With no arc products or gases, they provide environmentally friendly switching with exceptional reliability and longevity.",features:["Clean current interruption","Environmentally friendly","Long service life","Minimal maintenance","High reliability","Fast operation"],specs:[{label:"Voltage",value:"Up to 40.5 kV"},{label:"Technology",value:"Vacuum"},{label:"Life",value:"30,000+ operations"}],applications:"Circuit breakers, Contactors, Load switches, Reclosers, Motor controllers"},{id:16,name:"Centrifuges",category:"drives-automation",categoryLabel:"Drives & Automation",image:ute,shortDesc:"Precision machines for rapid separation of liquids and solids.",description:"Centrifuges are precision machines designed for rapid separation of liquids and solids, ensuring high efficiency, reliability, and consistent performance in industrial and laboratory applications.",longDescription:"Our centrifuge solutions offer advanced separation technology for various industries. From pharmaceutical to food processing, they deliver precise separation results with automated controls and safety features.",features:["High-speed separation","Precision control","Automated operation","Safety interlocks","Easy cleaning","Multiple configurations"],specs:[{label:"Speed",value:"Up to 15,000 RPM"},{label:"Control",value:"PLC/HMI"},{label:"Material",value:"SS316/SS304"}],applications:"Pharmaceutical, Food processing, Chemical industry, Wastewater treatment, Oil & gas"},{id:18,name:"Cranes",category:"drives-automation",categoryLabel:"Drives & Automation",image:fte,shortDesc:"Robust lifting solutions for heavy load handling.",description:"Cranes are robust lifting solutions designed for safe and efficient handling of heavy loads in industrial and construction environments, ensuring precision, reliability, and operational safety.",longDescription:"Our crane solutions range from overhead bridge cranes to gantry and jib cranes. They feature advanced safety systems, precision controls, and robust construction for demanding material handling applications.",features:["Heavy lifting capacity","Precision controls","Advanced safety systems","Variable speed drives","Anti-collision systems","Remote operation"],specs:[{label:"Capacity",value:"Up to 500 tons"},{label:"Type",value:"EOT/Gantry/Jib"},{label:"Control",value:"Pendant/Radio"}],applications:"Steel plants, Warehouses, Ports, Manufacturing, Construction sites"},{id:20,name:"Fans",category:"drives-automation",categoryLabel:"Drives & Automation",image:dte,shortDesc:"Essential devices for effective air circulation and cooling.",description:"Fans are essential devices for effective air circulation, cooling, and ventilation in industrial and commercial environments, ensuring optimal performance and energy efficiency.",longDescription:"Our industrial fan range includes axial, centrifugal, and mixed-flow designs for various applications. They feature aerodynamic blade designs, energy-efficient motors, and variable speed controls for optimized airflow.",features:["High airflow efficiency","Energy efficient motors","Low noise design","Corrosion resistant","Variable speed control","Multiple mounting options"],specs:[{label:"Type",value:"Axial/Centrifugal"},{label:"Flow",value:"Up to 500,000 CFM"},{label:"Control",value:"VFD/DOL"}],applications:"HVAC systems, Industrial ventilation, Cooling towers, Process cooling, Exhaust systems"},{id:21,name:"Lifts",category:"drives-automation",categoryLabel:"Drives & Automation",image:hte,shortDesc:"Reliable vertical transportation solutions for buildings.",description:"Lifts are reliable vertical transportation solutions designed for safe, efficient, and smooth movement of people and goods in commercial and industrial buildings.",longDescription:"Our lift solutions include passenger, freight, and specialized industrial elevators. They feature advanced safety systems, energy-efficient drives, and smart controls for optimal vertical transportation.",features:["Smooth operation","Energy efficient drives","Advanced safety systems","Smart controls","Emergency backup","Customizable cabins"],specs:[{label:"Capacity",value:"Up to 10,000 kg"},{label:"Speed",value:"Up to 6 m/s"},{label:"Type",value:"Traction/Hydraulic"}],applications:"Commercial buildings, Industrial facilities, Warehouses, Shopping malls, Hospitals"},{id:24,name:"PLC",category:"drives-automation",categoryLabel:"Drives & Automation",image:pte,shortDesc:"Advanced automation devices for precise process control.",description:"PLCs (Programmable Logic Controllers) are advanced automation devices that control industrial processes with precision, reliability, and real-time monitoring, enhancing efficiency and operational safety.",longDescription:"Our PLC solutions range from compact controllers to distributed control systems. They offer high-speed processing, multiple communication protocols, and robust design for demanding industrial automation applications.",features:["High-speed processing","Multiple I/O options","Network connectivity","Real-time monitoring","Flexible programming","Redundancy options"],specs:[{label:"I/O Points",value:"Up to 65,536"},{label:"Communication",value:"Ethernet/Profibus"},{label:"Programming",value:"IEC 61131-3"}],applications:"Factory automation, Process control, Building management, Water treatment, Power systems"},{id:25,name:"Pumps",category:"drives-automation",categoryLabel:"Drives & Automation",image:mte,shortDesc:"Essential equipment for efficient liquid transfer.",description:"Pumps are essential equipment for transferring liquids efficiently, ensuring reliable flow, optimal performance, and smooth operation in industrial and commercial systems.",longDescription:"Our pump range includes centrifugal, positive displacement, and submersible types for various applications. They feature robust construction, energy-efficient motors, and advanced sealing systems for reliable operation.",features:["High flow capacity","Energy efficient","Corrosion resistant","Low maintenance","Variable speed options","Multiple seal types"],specs:[{label:"Type",value:"Centrifugal/PD/Submersible"},{label:"Flow",value:"Up to 50,000 m/h"},{label:"Head",value:"Up to 1000m"}],applications:"Water supply, Wastewater, Oil & gas, Chemical processing, Power generation"}],u5=L.memo(()=>{const[n,e]=L.useState(0),[t,i]=L.useState("all"),[s,a]=L.useState("product"),[l,u]=L.useState(!1),[h,p]=L.useState(null),g=L.useRef(null),m=Hp(g,{once:!0,amount:.2}),x=t==="all"?aD:aD.filter(D=>D.category===t),b=L.useCallback(()=>{e(D=>(D+1)%x.length)},[x.length]),w=L.useCallback(()=>{e(D=>(D-1+x.length)%x.length)},[x.length]),A=x[n]||x[0],T=L.useCallback(D=>{i(D),e(0)},[]),M=L.useCallback(D=>{p(D),u(!0)},[]),N=L.useCallback(()=>{u(!1),p(null)},[]);return C.jsxs("section",{id:"products",className:"py-20 bg-background relative overflow-hidden",ref:g,children:[C.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-3xl"}),C.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-tr from-accent/10 to-transparent rounded-full blur-3xl"}),C.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[C.jsxs(te.div,{className:"flex justify-center items-center gap-4 md:gap-8 mb-8",initial:{opacity:0,y:20},animate:m?{opacity:1,y:0}:{},transition:{duration:.6},children:[C.jsxs("button",{onClick:()=>a("product"),className:`text-xl md:text-3xl font-bold transition-all duration-300 relative pb-2 ${s==="product"?"text-primary":"text-muted-foreground hover:text-foreground"}`,children:["By Product",s==="product"&&C.jsx(te.div,{layoutId:"tab-indicator",className:"absolute bottom-0 left-0 right-0 h-1 bg-primary rounded-full"})]}),C.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-br from-primary/20 to-accent/20 border-2 border-primary/30 flex items-center justify-center",children:C.jsx(pd,{className:"w-8 h-8 md:w-10 md:h-10 text-primary"})}),C.jsxs("button",{onClick:()=>a("application"),className:`text-xl md:text-3xl font-bold transition-all duration-300 relative pb-2 ${s==="application"?"text-primary":"text-muted-foreground hover:text-foreground"}`,children:["By Application",s==="application"&&C.jsx(te.div,{layoutId:"tab-indicator",className:"absolute bottom-0 left-0 right-0 h-1 bg-primary rounded-full"})]})]}),C.jsx(te.div,{className:"flex flex-wrap justify-center gap-2 md:gap-3 mb-12",initial:{opacity:0,y:10},animate:m?{opacity:1,y:0}:{},transition:{duration:.6,delay:.1},children:gte.map(D=>C.jsxs("button",{onClick:()=>T(D.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${t===D.id?"bg-primary text-primary-foreground shadow-lg":"bg-muted text-muted-foreground hover:bg-muted/80 hover:text-foreground"}`,children:[D.name,t===D.id&&C.jsxs("span",{className:"ml-2 text-xs opacity-80",children:["(",x.length,")"]})]},D.id))}),C.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 items-start",children:[C.jsxs(te.div,{className:"lg:col-span-3",initial:{opacity:0,x:-30},animate:m?{opacity:1,x:0}:{},transition:{duration:.6,delay:.2},children:[C.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:s==="product"?"By Product":"By Application"}),C.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"Explore a diverse portfolio of high-performance power solutions to maximise efficiency, output, and sustainability. From transformers to automation systems, our advanced technologies help you achieve your unique energy goals with precision and reliability."}),C.jsxs(ga,{className:"bg-primary hover:bg-primary/90 text-primary-foreground rounded-full px-6 gap-2",onClick:()=>document.querySelector("#contact")?.scrollIntoView({behavior:"smooth"}),children:[C.jsx(Wg,{className:"w-4 h-4"}),"Get In Touch"]}),C.jsxs("div",{className:"flex gap-3 mt-8",children:[C.jsx("button",{onClick:w,className:"w-12 h-12 rounded-full border-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 flex items-center justify-center",children:C.jsx(Fz,{className:"w-5 h-5"})}),C.jsx("button",{onClick:b,className:"w-12 h-12 rounded-full border-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 flex items-center justify-center",children:C.jsx(kz,{className:"w-5 h-5"})})]}),C.jsxs("p",{className:"text-muted-foreground text-sm mt-4",children:[n+1," of ",x.length," products"]})]}),C.jsx(te.div,{className:"lg:col-span-5",initial:{opacity:0,y:30},animate:m?{opacity:1,y:0}:{},transition:{duration:.6,delay:.3},children:C.jsx(yp,{mode:"wait",children:C.jsxs(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.4},className:"relative rounded-3xl overflow-hidden bg-gradient-to-b from-muted/50 to-muted shadow-xl",children:[C.jsx("div",{className:"absolute top-4 left-4 z-10",children:C.jsx("span",{className:"px-3 py-1 bg-primary/90 text-primary-foreground text-xs font-medium rounded-full",children:A?.categoryLabel})}),C.jsx("div",{className:"aspect-square p-8 flex items-center justify-center bg-gradient-to-br from-muted to-muted/50",children:C.jsx("img",{src:A?.image,alt:A?.name,className:"max-w-full max-h-full object-contain drop-shadow-2xl"})}),C.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-primary via-primary/95 to-primary/80 text-primary-foreground p-6 rounded-b-3xl",children:[C.jsx("h4",{className:"text-2xl font-bold mb-2",children:A?.name}),C.jsx("p",{className:"text-primary-foreground/90 text-sm mb-4",children:A?.shortDesc}),C.jsxs(ga,{variant:"secondary",className:"bg-background text-foreground hover:bg-background/90 rounded-full px-6 gap-2",onClick:()=>M(A),children:[C.jsx(Wg,{className:"w-4 h-4"}),"Know More"]})]})]},A?.id)})}),C.jsx(te.div,{className:"lg:col-span-4 grid grid-cols-2 gap-4",initial:{opacity:0,x:30},animate:m?{opacity:1,x:0}:{},transition:{duration:.6,delay:.4},children:x.filter((D,I)=>I!==n).slice(0,4).map((D,I)=>C.jsxs(te.div,{onClick:()=>e(x.findIndex(O=>O.id===D.id)),className:"bg-muted/50 rounded-2xl p-4 cursor-pointer hover:shadow-lg transition-all duration-300 group border border-transparent hover:border-primary/20",whileHover:{y:-5},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5+I*.1},children:[C.jsx("div",{className:"aspect-square mb-3 rounded-xl overflow-hidden bg-gradient-to-br from-background to-muted flex items-center justify-center p-3",children:C.jsx("img",{src:D.image,alt:D.name,className:"max-w-full max-h-full object-contain group-hover:scale-105 transition-transform duration-300"})}),C.jsx("h5",{className:"font-semibold text-foreground text-sm mb-1 line-clamp-2",children:D.name}),C.jsx("p",{className:"text-muted-foreground text-xs line-clamp-2",children:D.shortDesc})]},D.id))})]}),C.jsx(te.div,{className:"mt-16 bg-muted/30 rounded-3xl p-8 md:p-12",initial:{opacity:0,y:40},animate:m?{opacity:1,y:0}:{},transition:{duration:.6,delay:.6},children:C.jsx(yp,{mode:"wait",children:C.jsxs(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"grid md:grid-cols-2 gap-12 items-center",children:[C.jsx("div",{className:"flex justify-center",children:C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"absolute -inset-4 bg-gradient-to-br from-primary/20 to-accent/20 rounded-3xl blur-2xl"}),C.jsx("img",{src:A?.image,alt:A?.name,className:"relative max-w-full max-h-96 object-contain drop-shadow-2xl"})]})}),C.jsxs("div",{children:[C.jsx("div",{className:"flex items-center gap-3 mb-4",children:C.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary text-xs font-medium rounded-full",children:A?.categoryLabel})}),C.jsx("h3",{className:"text-3xl font-bold text-foreground mb-4",children:A?.name}),C.jsx("p",{className:"text-muted-foreground mb-6",children:A?.description}),C.jsxs("div",{className:"mb-6",children:[C.jsxs("h4",{className:"text-lg font-semibold text-primary mb-3 flex items-center gap-2",children:[C.jsx(D1,{className:"w-5 h-5"}),"Features"]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:A?.features.map((D,I)=>C.jsxs("div",{className:"flex items-start gap-2 text-muted-foreground text-sm",children:[C.jsx(N1,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),C.jsx("span",{children:D})]},I))})]}),C.jsxs("div",{className:"mb-6",children:[C.jsxs("h4",{className:"text-lg font-semibold text-primary mb-3 flex items-center gap-2",children:[C.jsx(kD,{className:"w-5 h-5"}),"Specifications"]}),C.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:A?.specs.map((D,I)=>C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:C.jsx(pd,{className:"w-5 h-5 text-primary"})}),C.jsxs("div",{children:[C.jsx("p",{className:"text-primary font-bold text-sm",children:D.value}),C.jsx("p",{className:"text-muted-foreground text-xs",children:D.label})]})]},I))})]}),C.jsxs("div",{className:"mb-8",children:[C.jsx("h4",{className:"text-lg font-semibold text-primary mb-2",children:"Applications:"}),C.jsx("p",{className:"text-muted-foreground",children:A?.applications})]}),C.jsxs("div",{className:"flex flex-wrap gap-4",children:[C.jsxs(ga,{className:"bg-primary hover:bg-primary/90 text-primary-foreground rounded-full px-8 gap-2",onClick:()=>M(A),children:[C.jsx(Wg,{className:"w-4 h-4"}),"Know More"]}),C.jsx(ga,{variant:"outline",className:"border-primary text-primary hover:bg-primary/10 rounded-full px-8",onClick:()=>document.querySelector("#contact")?.scrollIntoView({behavior:"smooth"}),children:"Request A Quote"})]})]})]},A?.id)})}),C.jsx("div",{className:"flex justify-center gap-2 mt-8 flex-wrap",children:x.map((D,I)=>C.jsx("button",{onClick:()=>e(I),className:`h-3 rounded-full transition-all duration-300 ${I===n?"bg-primary w-8":"bg-muted-foreground/30 hover:bg-muted-foreground/50 w-3"}`},I))})]}),C.jsx(Zee,{product:h,isOpen:l,onClose:N})]})});u5.displayName="ProductsSection";const wc="/assets/bharat-sarkar-B8glAhgW.png",yte="/assets/central-india-pvt-ltd-CkfLt9Qr.png",f5="/assets/mpudcl-indore-district-BsaHgI3J.png",vte=[{title:"Kymore & Vijayraghavgarh (Package 5D)",client:"MPUDCL Bhopal",location:"Madhya Pradesh",logo:wc},{title:"Amarpatan & Ramnagar (Package 7D)",client:"MPUDCL Bhopal",location:"Madhya Pradesh",logo:wc},{title:"Harpalpur & Badagaon (Package 6G)",client:"MPUDCL Bhopal",location:"Madhya Pradesh",logo:f5},{title:"Bankhedi Turnkey Project",client:"Central India Pvt Ltd",location:"Madhya Pradesh",logo:yte},{title:"KARI & Lidhorakhas Water Meter SITC",client:"Tikamgarh Nagar Parishads",location:"Tikamgarh",logo:wc},{title:"Gangadhar Meher Lift Irrigation Project",client:"WRD Bhopal",location:"Madhya Pradesh",logo:wc}],xte=[{year:"2015",title:"Humidity & Temperature Control System",client:"Prism Cement, Satna",description:"Delivered a humidity and temperature control turnkey automation system, redefining industrial climate regulation.",icon:EF},{year:"2016",title:"RO Plant Automation",client:"Lupin, Mandideep",description:"Executed a turnkey automation project for the reverse osmosis plant enhancing water purity assurance.",icon:oC},{year:"2017",title:"40 KL Turnkey Automation",client:"Vindhayachal Distillery, Pilukhedi (Bhopal)",description:"Commissioned a 40 KL turnkey automation project, optimising distillery operations with precision control.",icon:Jz},{year:"2018",title:"3 MGD Water Treatment Plant",client:"Bhopal Municipal Corporation, Idgah Hills",description:"Implemented a 3 MGD water treatment plant with turnkey automation, raising municipal water reliability.",icon:lC},{year:"2020",title:"Turnkey Instrumentation",client:"MP Jal Nigam, Punjapura (Neemuch, Badhwani)",description:"Completed a turnkey instrumentation project, strengthening regional water management capacity.",icon:iF},{year:"2021",title:"Water Supply Scheme Automation",client:"Indore District (Betma, Gautampura, Depalpur)",description:"Delivered a fully integrated water supply scheme automation, enhancing service delivery accuracy.",icon:oC},{year:"2022",title:"45 MLD Turnkey Automation",client:"Betul-Bazar, Amla & Sarni Nagar Parishads (MP)",description:"Executed a 45 MLD turnkey automation project, significantly boosting urban water infrastructure.",icon:aT},{year:"2023",title:"7.6 MLD Sewage Treatment Plant",client:"Gobranawapra STP (Raipur, C.G.)",description:"Commissioned a 7.6 MLD sewage treatment plant, advancing environmental compliance through turnkey instrumentation and automation.",icon:lC}],bte=[{title:"Gandhisagar Package 2",description:"Multi-village water supply scheme automation",client:"MP Jal Nigam - Dilip Buildcon",location:"District Neemach",logo:wc},{title:"Beohari Multi-Village Scheme",description:"Comprehensive village water management system",client:"MP Jal Nigam - Tejas Construction",location:"Shahdol",logo:wc},{title:"Rewa Bansagar Scheme",description:"Large-scale water distribution automation",client:"MP Jal Nigam - Dilip Buildcon",location:"District Rewa",logo:wc},{title:"Pahargarh Multi-Village Scheme",description:"Rural water supply automation project",client:"MP Jal Nigam - KNK Projects",location:"District Rajgarh",logo:wc},{title:"Narmada Gabhir Multi-Village Scheme",description:"Advanced water management for multiple villages",client:"MP Jal Nigam - Dilip Buildcon",location:"District Ujjain",logo:wc},{title:"Gohad Water Supply Scheme",description:"Modern water supply system with full automation",client:"MPUDCL Bhopal - Shree Contractor",location:"Madhya Pradesh",logo:f5}],d5=L.memo(({work:n,index:e,isInView:t})=>{const[i,s]=L.useState(!1);return C.jsxs(te.div,{initial:{opacity:0,scale:.8,rotateX:-20},animate:t?{opacity:1,scale:1,rotateX:0}:{},transition:{delay:e*.12,duration:.7,type:"spring",stiffness:80},onHoverStart:()=>s(!0),onHoverEnd:()=>s(!1),whileHover:{scale:1.03,rotateZ:1,transition:{duration:.4,type:"spring"}},style:{transformStyle:"preserve-3d"},className:"relative p-6 rounded-2xl bg-card border-2 border-border hover:border-secondary/50 transition-all h-full flex flex-col group overflow-hidden",children:[C.jsx(te.div,{className:"absolute inset-0 opacity-0 group-hover:opacity-100 pointer-events-none rounded-2xl",style:{background:"linear-gradient(135deg, rgba(255,255,255,0) 0%, rgba(var(--secondary-rgb),0.15) 25%, rgba(255,255,255,0) 50%, rgba(var(--secondary-rgb),0.15) 75%, rgba(255,255,255,0) 100%)",backgroundSize:"400% 400%"},animate:i?{backgroundPosition:["0% 50%","100% 50%","0% 50%"]}:{},transition:{duration:3,repeat:1/0,ease:"linear"}}),C.jsx(te.div,{className:"absolute -top-8 -right-8 w-24 h-24 opacity-10",animate:{borderRadius:["30% 70% 70% 30% / 30% 30% 70% 70%","70% 30% 30% 70% / 70% 70% 30% 30%","30% 70% 70% 30% / 30% 30% 70% 70%"]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},style:{background:"radial-gradient(circle, var(--secondary) 0%, transparent 70%)"}}),i&&C.jsxs(C.Fragment,{children:[C.jsx(te.div,{className:"absolute top-1/4 left-1/4 w-1 h-1 bg-secondary rounded-full",animate:{x:[0,100,200],y:[0,-50,-100],opacity:[1,.5,0],scale:[1,1.5,0]},transition:{duration:2,repeat:1/0,repeatDelay:.5}}),C.jsx(te.div,{className:"absolute bottom-1/3 right-1/4 w-1.5 h-1.5 bg-secondary/60 rounded-full",animate:{x:[0,-80,-150],y:[0,60,120],opacity:[1,.6,0],scale:[1,2,0]},transition:{duration:2.5,repeat:1/0,delay:.3,repeatDelay:.5}})]}),C.jsxs(te.span,{initial:{scale:0,x:-50},animate:t?{scale:1,x:0}:{},transition:{delay:e*.12+.3,type:"spring",stiffness:150},className:"relative inline-flex items-center gap-1 px-3 py-1 rounded-full bg-secondary text-secondary-foreground text-xs font-semibold w-fit mb-4 z-10",children:[C.jsx(te.div,{animate:{rotate:[0,360]},transition:{duration:3,repeat:1/0,ease:"linear"},children:C.jsx(N1,{className:"w-3 h-3"})}),"Completed",C.jsx("span",{className:"absolute inset-0 rounded-full bg-secondary opacity-0 group-hover:opacity-20 blur-sm animate-pulse"})]}),C.jsx(te.h4,{className:"font-semibold text-lg mb-4 text-foreground leading-tight flex-grow group-hover:text-secondary transition-colors duration-300 z-10 relative",whileHover:{textShadow:"0 0 8px rgba(var(--secondary-rgb), 0.5)",transition:{duration:.3}},children:n.title}),C.jsxs("div",{className:"flex items-end justify-between mt-auto z-10 relative",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsxs(te.div,{className:"flex items-center gap-2 text-sm text-muted-foreground",whileHover:{x:8,transition:{type:"spring",stiffness:300}},children:[C.jsx(te.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,repeatDelay:1},children:C.jsx(aT,{className:"w-4 h-4 text-primary"})}),C.jsx("span",{children:n.client})]}),C.jsxs(te.div,{className:"flex items-center gap-2 text-sm text-muted-foreground",whileHover:{x:8,transition:{type:"spring",stiffness:300}},children:[C.jsx(te.div,{animate:{y:[0,-2,0]},transition:{duration:1.5,repeat:1/0,repeatDelay:.5},children:C.jsx(Dp,{className:"w-4 h-4 text-secondary"})}),C.jsx("span",{children:n.location})]})]}),C.jsxs(te.div,{className:"relative w-14 h-14 rounded-full bg-muted/50 flex items-center justify-center p-1 border border-border group-hover:border-secondary/50 transition-colors",animate:i?{boxShadow:["0 0 0 0 rgba(var(--secondary-rgb), 0)","0 0 0 8px rgba(var(--secondary-rgb), 0.2)","0 0 0 16px rgba(var(--secondary-rgb), 0)"]}:{},transition:{duration:1.5,repeat:1/0},whileHover:{scale:1.15,rotate:[0,-10,10,-10,0],transition:{duration:.5}},children:[C.jsx("img",{src:n.logo,alt:n.client,className:"w-full h-full object-contain rounded-full"}),C.jsx(te.div,{className:"absolute inset-0 border-2 border-secondary/30 rounded-full",animate:{rotate:360,scale:[1,1.3,1]},transition:{rotate:{duration:4,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,ease:"easeInOut"}},style:{opacity:i?.6:0}})]})]})]})});d5.displayName="CompletedWorkCard";const h5=L.memo(({milestone:n,index:e,isInView:t,isLeft:i})=>{const[s,a]=L.useState(!1);return C.jsxs(te.div,{initial:{opacity:0,x:i?-80:80,rotateY:i?-15:15},animate:t?{opacity:1,x:0,rotateY:0}:{},transition:{delay:e*.15,duration:.8,type:"spring",stiffness:60},onHoverStart:()=>a(!0),onHoverEnd:()=>a(!1),className:`relative flex items-center w-full md:w-[calc(50%-0px)] ${i?"md:mr-auto justify-end md:pr-12":"md:ml-auto justify-start md:pl-12"}`,style:{transformStyle:"preserve-3d",perspective:1200},children:[C.jsxs(te.div,{initial:{scale:0},animate:t?{scale:1}:{},transition:{delay:e*.15+.2,type:"spring"},className:`absolute top-1/2 -translate-y-1/2 w-4 h-4 rounded-full border-[3px] border-primary bg-background z-20 hidden md:block ${i?"-right-2":"-left-2"}`,children:[C.jsx(te.div,{className:"absolute inset-0 rounded-full border-2 border-primary",animate:{scale:[1,2.5,2.5],opacity:[.6,.2,0]},transition:{duration:2,repeat:1/0,repeatDelay:.5}}),C.jsx(te.div,{className:"absolute inset-0 rounded-full border-2 border-primary",animate:{scale:[1,3.5,3.5],opacity:[.4,.1,0]},transition:{duration:2,repeat:1/0,repeatDelay:.5,delay:.4}})]}),C.jsxs(te.div,{whileHover:{y:-8,rotateX:5,transition:{duration:.4,type:"spring"}},className:"w-full max-w-lg p-7 rounded-[2rem] bg-background border border-primary/20 shadow-sm hover:shadow-2xl hover:border-primary/40 transition-all duration-500 relative overflow-hidden group",children:[C.jsx(te.div,{className:`absolute w-40 h-40 rounded-full -bottom-10 ${i?"-left-10":"-right-10"}`,style:{background:"radial-gradient(circle, rgba(var(--primary-rgb), 0.08) 0%, transparent 70%)"},animate:{scale:[1,1.3,1],opacity:[.3,.6,.3],borderRadius:["40% 60% 70% 30% / 40% 50% 60% 50%","60% 40% 30% 70% / 50% 60% 40% 60%","40% 60% 70% 30% / 40% 50% 60% 50%"]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),C.jsx(te.div,{className:`absolute top-0 ${i?"right-0":"left-0"} w-1 h-full bg-gradient-to-b from-transparent via-primary/30 to-transparent`,animate:{opacity:[.3,.8,.3],scaleY:[.8,1.2,.8]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),s&&C.jsxs(C.Fragment,{children:[C.jsx(te.div,{className:`absolute top-8 ${i?"left-8":"right-8"} w-1.5 h-1.5 bg-primary rounded-full`,animate:{y:[0,-30,-60],x:[0,15,30],opacity:[1,.5,0],scale:[1,1.5,0]},transition:{duration:1.5,repeat:1/0,repeatDelay:.8}}),C.jsx(te.div,{className:`absolute top-16 ${i?"left-12":"right-12"} w-1 h-1 bg-primary/60 rounded-full`,animate:{y:[0,-40,-80],x:[0,-10,-20],opacity:[1,.6,0],scale:[1,2,0]},transition:{duration:2,repeat:1/0,delay:.4,repeatDelay:.8}}),C.jsx(te.div,{className:`absolute top-24 ${i?"left-6":"right-6"} w-1.5 h-1.5 bg-primary/40 rounded-full`,animate:{y:[0,-25,-50],x:[0,20,40],opacity:[1,.4,0],scale:[1,1.8,0]},transition:{duration:1.8,repeat:1/0,delay:.6,repeatDelay:.8}})]}),C.jsxs("div",{className:`flex flex-col gap-2 relative z-10 ${i?"items-end text-right":"items-start text-left"}`,children:[C.jsxs(te.div,{className:"relative inline-flex px-4 py-1 rounded-full border border-primary/30 text-primary text-xs font-bold mb-2 overflow-hidden",whileHover:{scale:1.1,borderRadius:["1rem","0.5rem","1rem"],transition:{duration:.6}},children:[n.year,C.jsx(te.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-primary/20 to-transparent",animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,repeatDelay:1,ease:"easeInOut"}})]}),C.jsx(te.h4,{className:"font-display text-xl md:text-2xl font-bold text-foreground group-hover:text-primary transition-colors duration-300",whileHover:{scale:1.02,letterSpacing:"0.02em",transition:{duration:.3}},children:n.title}),C.jsx(te.p,{className:"text-primary font-medium text-sm mb-3",animate:s?{x:i?[-2,2,-2]:[2,-2,2]}:{},transition:{duration:.5,repeat:s?1/0:0},children:n.client}),C.jsx(te.p,{className:"text-muted-foreground text-sm leading-relaxed max-w-md",initial:{opacity:.8},whileHover:{opacity:1},children:n.description})]}),C.jsx(te.div,{className:`absolute ${i?"top-0 right-0":"top-0 left-0"} w-16 h-16`,style:{background:"radial-gradient(circle at top right, rgba(var(--primary-rgb), 0.1) 0%, transparent 70%)"},animate:{scale:[1,1.5,1],opacity:[.3,.6,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}})]})]})});h5.displayName="MilestoneCard";const p5=L.memo(({project:n,index:e,isInView:t})=>{const[i,s]=L.useState(!1);return C.jsxs(te.div,{initial:{opacity:0,scale:.85,rotateY:20,z:-80},animate:t?{opacity:1,scale:1,rotateY:0,z:0}:{},transition:{delay:e*.13,duration:.9,type:"spring",stiffness:65},onHoverStart:()=>s(!0),onHoverEnd:()=>s(!1),whileHover:{y:-10,rotateX:3,rotateZ:-1,transition:{duration:.4,type:"spring",stiffness:200}},style:{transformStyle:"preserve-3d",perspective:1400},className:"relative p-6 rounded-2xl bg-card border-2 border-border hover:border-primary/50 transition-all h-full flex flex-col group overflow-hidden",children:[C.jsx(te.div,{className:"absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 pointer-events-none",style:{background:"linear-gradient(125deg, transparent 0%, rgba(var(--primary-rgb),0.08) 20%, rgba(255,255,255,0.15) 40%, rgba(var(--primary-rgb),0.08) 60%, transparent 80%)",backgroundSize:"300% 300%"},animate:i?{backgroundPosition:["0% 0%","100% 100%","0% 0%"]}:{},transition:{duration:4,repeat:1/0,ease:"linear"}}),C.jsx(te.div,{className:"absolute -top-16 -right-16 w-48 h-48 opacity-5",animate:{scale:[1,1.4,1.2,1],rotate:[0,90,180,270,360],borderRadius:["60% 40% 30% 70% / 60% 30% 70% 40%","30% 60% 70% 40% / 50% 60% 30% 60%","40% 60% 60% 40% / 60% 40% 60% 40%","60% 40% 30% 70% / 60% 30% 70% 40%"]},transition:{duration:12,repeat:1/0,ease:"easeInOut"},style:{background:"radial-gradient(circle, var(--primary) 0%, transparent 70%)"}}),i&&C.jsx(C.Fragment,{children:[...Array(5)].map((a,l)=>C.jsx(te.div,{className:"absolute w-1 h-1 bg-primary rounded-full",style:{top:`${20+l*15}%`,left:`${10+l*20}%`},animate:{x:[0,Math.random()*100-50,Math.random()*150-75],y:[0,Math.random()*-80-40,Math.random()*-120-60],opacity:[.8,.4,0],scale:[1,1+Math.random(),0]},transition:{duration:2+Math.random(),repeat:1/0,delay:l*.2,repeatDelay:.8}},l))}),C.jsx(te.div,{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-primary/40 to-transparent",animate:{scaleX:[1,1.5,1],opacity:[.3,.7,.3]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),C.jsx(te.div,{className:"absolute inset-0 opacity-0 group-hover:opacity-5 pointer-events-none rounded-2xl",style:{backgroundImage:"linear-gradient(0deg, transparent 24%, rgba(var(--primary-rgb), 0.3) 25%, rgba(var(--primary-rgb), 0.3) 26%, transparent 27%, transparent 74%, rgba(var(--primary-rgb), 0.3) 75%, rgba(var(--primary-rgb), 0.3) 76%, transparent 77%, transparent), linear-gradient(90deg, transparent 24%, rgba(var(--primary-rgb), 0.3) 25%, rgba(var(--primary-rgb), 0.3) 26%, transparent 27%, transparent 74%, rgba(var(--primary-rgb), 0.3) 75%, rgba(var(--primary-rgb), 0.3) 76%, transparent 77%, transparent)",backgroundSize:"50px 50px"},animate:i?{backgroundPosition:["0px 0px","25px 25px","0px 0px"]}:{},transition:{duration:2,repeat:1/0}}),C.jsxs(te.span,{initial:{scale:0,rotate:-270,x:-100},animate:t?{scale:1,rotate:0,x:0}:{},transition:{delay:e*.13+.4,type:"spring",stiffness:180},className:"relative inline-flex items-center gap-1 px-3 py-1 rounded-full border border-primary text-primary text-xs font-semibold w-fit mb-4 z-10 overflow-hidden",children:[C.jsx(te.div,{animate:{scale:[1,1.3,1],rotate:[0,180,360],opacity:[1,.6,1]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"},children:C.jsx(BD,{className:"w-3 h-3"})}),"Ongoing",C.jsx(te.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-primary/30 to-transparent",animate:{x:["-100%","200%"]},transition:{duration:2.5,repeat:1/0,repeatDelay:1.5,ease:"easeInOut"}}),C.jsx("span",{className:"absolute inset-0 rounded-full border-2 border-primary animate-ping opacity-20"}),C.jsx(te.span,{className:"absolute inset-0 rounded-full border border-primary",animate:{scale:[1,1.5,1.5],opacity:[.5,0,0]},transition:{duration:2,repeat:1/0,delay:.5}})]}),C.jsx(te.h4,{className:"font-semibold text-lg mb-2 text-foreground leading-tight group-hover:text-primary transition-colors duration-300 z-10 relative",animate:i?{x:[0,3,-3,3,0],textShadow:["0 0 0px rgba(var(--primary-rgb), 0)","0 0 12px rgba(var(--primary-rgb), 0.6)","0 0 0px rgba(var(--primary-rgb), 0)"]}:{},transition:{x:{duration:.5,repeat:i?1/0:0},textShadow:{duration:1.5,repeat:i?1/0:0}},children:n.title}),C.jsx(te.p,{className:"text-muted-foreground text-sm mb-4 flex-grow z-10 relative",initial:{opacity:.85},whileHover:{opacity:1},children:n.description}),C.jsxs("div",{className:"flex items-end justify-between mt-auto z-10 relative",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsxs(te.div,{className:"flex items-center gap-2 text-sm text-muted-foreground",whileHover:{x:10,transition:{type:"spring",stiffness:400}},children:[C.jsx(te.div,{animate:{scale:[1,1.3,1],rotate:[0,5,-5,0]},transition:{duration:2.5,repeat:1/0,repeatDelay:1},children:C.jsx(aT,{className:"w-4 h-4 text-primary"})}),C.jsx("span",{children:n.client})]}),C.jsxs(te.div,{className:"flex items-center gap-2 text-sm text-muted-foreground",whileHover:{x:10,transition:{type:"spring",stiffness:400}},children:[C.jsx(te.div,{animate:{y:[0,-3,0],rotate:[0,-10,10,0]},transition:{duration:2,repeat:1/0,repeatDelay:.8},children:C.jsx(Dp,{className:"w-4 h-4 text-secondary"})}),C.jsx("span",{children:n.location})]})]}),C.jsxs(te.div,{className:"relative w-14 h-14 rounded-full bg-muted/50 flex items-center justify-center p-1 border border-border group-hover:border-primary/40 transition-colors",whileHover:{scale:1.2,rotate:[0,-15,15,-15,0],transition:{duration:.6}},children:[i&&C.jsxs(C.Fragment,{children:[C.jsx(te.div,{className:"absolute w-2 h-2 bg-primary rounded-full",animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},style:{left:"calc(50% - 4px)",top:"-8px",transformOrigin:"4px calc(50% + 36px)"}}),C.jsx(te.div,{className:"absolute w-1.5 h-1.5 bg-secondary rounded-full",animate:{rotate:360},transition:{duration:4,repeat:1/0,ease:"linear",delay:.5},style:{left:"calc(50% - 3px)",top:"-12px",transformOrigin:"3px calc(50% + 40px)"}})]}),C.jsx(te.div,{className:"absolute inset-0 border-2 border-primary/40 rounded-full",animate:i?{scale:[1,1.6,1.6],opacity:[.6,.2,0]}:{},transition:{duration:1.5,repeat:1/0}}),C.jsx(te.div,{className:"absolute inset-0 border-2 border-primary/30 rounded-full",animate:i?{scale:[1,2,2],opacity:[.4,.1,0]}:{},transition:{duration:1.5,repeat:1/0,delay:.5}}),C.jsx(te.img,{src:n.logo,alt:n.client,className:"w-full h-full object-contain rounded-full relative z-10",animate:i?{filter:["brightness(1)","brightness(1.2)","brightness(1)"]}:{},transition:{duration:1.5,repeat:1/0}})]})]}),i&&C.jsxs(C.Fragment,{children:[C.jsx(te.div,{className:"absolute top-4 left-4 w-1.5 h-1.5 bg-primary rounded-full",animate:{scale:[0,1.5,0],opacity:[0,1,0],rotate:[0,180,360]},transition:{duration:1.5,repeat:1/0,repeatDelay:.5}}),C.jsx(te.div,{className:"absolute bottom-4 right-4 w-1 h-1 bg-secondary rounded-full",animate:{scale:[0,2,0],opacity:[0,.8,0],rotate:[0,-180,-360]},transition:{duration:1.8,repeat:1/0,delay:.3,repeatDelay:.5}})]})]})});p5.displayName="OngoingProjectCard";const m5=L.memo(()=>{const n=L.useRef(null),e=Hp(n,{once:!0,margin:"-100px"});return C.jsxs("section",{id:"projects",className:"py-24 bg-muted/30 relative overflow-hidden",children:[C.jsx(te.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:100,repeat:1/0,ease:"linear"},className:"absolute top-20 -right-40 w-96 h-96 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-3xl"}),C.jsx(te.div,{animate:{rotate:-360,scale:[1.2,1,1.2]},transition:{duration:120,repeat:1/0,ease:"linear"},className:"absolute bottom-20 -left-40 w-96 h-96 bg-gradient-to-br from-secondary/10 to-transparent rounded-full blur-3xl"}),C.jsxs("div",{className:"container mx-auto px-4 lg:px-8 relative z-10",ref:n,children:[C.jsxs(te.div,{initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},className:"text-center max-w-3xl mx-auto mb-16",children:[C.jsx(te.span,{initial:{opacity:0,scale:.5},animate:e?{opacity:1,scale:1}:{},transition:{type:"spring"},className:"inline-block px-4 py-1 rounded-full bg-primary/10 text-primary text-sm font-semibold mb-4",children:"Our Projects"}),C.jsxs(te.h2,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{},transition:{delay:.2},className:"font-display text-3xl md:text-5xl font-bold mb-6",children:["Delivering ",C.jsx("span",{className:"text-gradient-solar",children:"Excellence"})]}),C.jsx(te.p,{initial:{opacity:0},animate:e?{opacity:1}:{},transition:{delay:.3},className:"text-muted-foreground text-lg",children:"All executed with PLC, SCADA & Automation Systems"})]}),C.jsxs(te.div,{initial:{opacity:0},animate:e?{opacity:1}:{},transition:{delay:.2},className:"mb-24",children:[C.jsxs(te.div,{initial:{opacity:0,x:-30},animate:e?{opacity:1,x:0}:{},className:"flex items-center justify-between mb-8",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(te.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"w-10 h-10 rounded-xl bg-secondary flex items-center justify-center",children:C.jsx(N1,{className:"w-5 h-5 text-secondary-foreground"})}),C.jsx("h3",{className:"font-display text-2xl font-bold",children:"Completed Works"})]}),C.jsx("span",{className:"px-4 py-1.5 rounded-full border border-secondary text-secondary text-sm font-semibold",children:"Delivered"})]}),C.jsx("p",{className:"text-muted-foreground mb-8",children:"All Executed with PLC, SCADA & Automation Systems"}),C.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:vte.map((t,i)=>C.jsx(d5,{work:t,index:i,isInView:e},t.title))})]}),C.jsxs(te.div,{initial:{opacity:0},animate:e?{opacity:1}:{},transition:{delay:.4},className:"mb-24",children:[C.jsxs(te.div,{initial:{opacity:0,x:-30},animate:e?{opacity:1,x:0}:{},className:"flex items-center gap-3 mb-8 justify-center",children:[C.jsx(te.div,{animate:{rotate:[0,360]},transition:{duration:8,repeat:1/0,ease:"linear"},className:"w-10 h-10 rounded-xl bg-gradient-solar flex items-center justify-center",children:C.jsx(Lz,{className:"w-5 h-5 text-primary-foreground"})}),C.jsx("h3",{className:"font-display text-2xl font-bold",children:"Our Milestones"})]}),C.jsx("p",{className:"text-center text-muted-foreground max-w-3xl mx-auto mb-12",children:"These milestones illustrate our unwavering commitment to scalable turnkey automation solutions, grounded in robust project execution, technological excellence, and enduring impact across industrial, municipal, and water-utility sectors."}),C.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 md:px-0",children:[C.jsx("div",{className:"absolute left-4 md:left-1/2 top-0 bottom-0 w-[1px] bg-primary/20 md:-translate-x-1/2 h-full"}),C.jsx("div",{className:"space-y-12 md:-space-y-4",children:xte.map((t,i)=>C.jsx("div",{className:"relative py-4",children:C.jsx(h5,{milestone:t,index:i,isInView:e,isLeft:i%2===0})},t.year))})]})]}),C.jsxs(te.div,{initial:{opacity:0},animate:e?{opacity:1}:{},transition:{delay:.6},children:[C.jsxs(te.div,{initial:{opacity:0,x:-30},animate:e?{opacity:1,x:0}:{},className:"flex items-center justify-between mb-8",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(te.div,{animate:{rotate:360},transition:{duration:4,repeat:1/0,ease:"linear"},className:"w-10 h-10 rounded-xl bg-primary flex items-center justify-center",children:C.jsx(BD,{className:"w-5 h-5 text-primary-foreground"})}),C.jsx("h3",{className:"font-display text-2xl font-bold",children:"Ongoing Projects"})]}),C.jsx(te.span,{animate:{opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0},className:"px-4 py-1.5 rounded-full border border-primary text-primary text-sm font-semibold",children:"In Progress"})]}),C.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:bte.map((t,i)=>C.jsx(p5,{project:t,index:i,isInView:e},t.title))})]})]})]})});m5.displayName="ProjectsSection";const _te=[{question:"What services does Sun PowerTech provide?",answer:"We provide comprehensive power management solutions including Power Filtration, Power Conditioning, Power Protection, Energy Management Systems, and SCADA solutions for industrial and commercial applications."},{question:"How can I get a quote for my project?",answer:"You can contact us through our website form, email us at amittiwari@sunpowertech.net, or call us directly. Our team will assess your requirements and provide a customized quote."},{question:"Do you provide installation and maintenance services?",answer:"Yes, we offer complete turnkey solutions including installation, commissioning, and ongoing maintenance support with 24/7 technical assistance."},{question:"What industries do you serve?",answer:"We serve various industries including Manufacturing, IT & Data Centers, Healthcare, Commercial Buildings, Pharmaceuticals, and more."}],g5=L.memo(({faq:n,index:e,isOpen:t,onToggle:i,isInView:s})=>C.jsxs(te.div,{initial:{opacity:0,x:e%2===0?-50:50},animate:s?{opacity:1,x:0}:{},transition:{delay:e*.1,type:"spring",stiffness:100},className:"rounded-2xl border border-border overflow-hidden bg-card group",children:[C.jsxs(te.button,{onClick:i,whileHover:{backgroundColor:"hsl(var(--muted) / 0.5)"},className:"w-full p-6 text-left flex items-center justify-between transition-colors",children:[C.jsxs("div",{className:"flex items-center gap-4 pr-4",children:[C.jsx(te.div,{animate:{rotate:t?360:0,scale:t?1.1:1},transition:{duration:.3},className:"w-10 h-10 rounded-xl bg-gradient-solar flex items-center justify-center shrink-0",children:C.jsx(Wz,{className:"w-5 h-5 text-primary-foreground"})}),C.jsx("span",{className:"font-semibold text-lg",children:n.question})]}),C.jsx(te.div,{animate:{rotate:t?180:0},transition:{duration:.3,type:"spring"},className:"shrink-0",children:C.jsx(Uz,{className:`w-5 h-5 transition-colors ${t?"text-primary":""}`})})]}),C.jsx(yp,{children:t&&C.jsx(te.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1,transition:{height:{duration:.3,ease:[.04,.62,.23,.98]},opacity:{duration:.25,delay:.1}}},exit:{height:0,opacity:0,transition:{height:{duration:.3,ease:[.04,.62,.23,.98]},opacity:{duration:.2}}},className:"overflow-hidden",children:C.jsx(te.div,{initial:{y:-10},animate:{y:0},exit:{y:-10},className:"px-6 pb-6 text-muted-foreground border-t border-border/50 pt-4 ml-14",children:C.jsx(te.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:n.answer})})})})]}));g5.displayName="FAQItem";const y5=L.memo(()=>{const n=L.useRef(null),e=Hp(n,{once:!0,margin:"-100px"}),[t,i]=L.useState(0);return C.jsxs("section",{id:"faq",className:"py-24 bg-background relative overflow-hidden",children:[C.jsx(te.div,{animate:{rotate:360},transition:{duration:60,repeat:1/0,ease:"linear"},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] opacity-5",style:{background:"conic-gradient(from 0deg, hsl(var(--primary)), hsl(var(--secondary)), hsl(var(--accent)), hsl(var(--primary)))",borderRadius:"50%"}}),C.jsxs("div",{className:"container mx-auto px-4 lg:px-8 relative z-10",ref:n,children:[C.jsxs(te.div,{initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},className:"text-center max-w-3xl mx-auto mb-16",children:[C.jsx(te.span,{initial:{opacity:0,scale:.5},animate:e?{opacity:1,scale:1}:{},transition:{type:"spring",stiffness:200},className:"inline-block px-4 py-1 rounded-full bg-secondary/10 text-secondary text-sm font-semibold mb-4",children:"FAQ"}),C.jsxs(te.h2,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{},transition:{delay:.2},className:"font-display text-3xl md:text-5xl font-bold mb-6",children:["Frequently Asked"," ",C.jsx("span",{className:"text-gradient-green",children:"Questions"})]})]}),C.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:_te.map((s,a)=>C.jsx(g5,{faq:s,index:a,isOpen:t===a,onToggle:()=>i(t===a?null:a),isInView:e},a))}),C.jsx(te.div,{animate:{y:[0,-20,0],rotate:[0,5,0]},transition:{duration:5,repeat:1/0},className:"absolute top-20 left-10 w-20 h-20 bg-primary/10 rounded-full blur-xl"}),C.jsx(te.div,{animate:{y:[0,20,0],rotate:[0,-5,0]},transition:{duration:6,repeat:1/0},className:"absolute bottom-20 right-10 w-32 h-32 bg-secondary/10 rounded-full blur-xl"})]})]})});y5.displayName="FAQSection";const cb=L.forwardRef(({className:n,type:e,...t},i)=>C.jsx("input",{type:e,className:Il("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:i,...t}));cb.displayName="Input";const v5=L.forwardRef(({className:n,...e},t)=>C.jsx("textarea",{className:Il("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));v5.displayName="Textarea";const x5="https://www.google.com/maps/search/?api=1&query=B32/A+Priyadarshini+Society+Sant+Asharam+Nagar+Bagsewaniya+Bhopal+462043",Ste=[{icon:ub,label:"Phone",value:"+91 8817770367",gradient:"from-primary to-primary/70",href:"tel:+918817770367"},{icon:lT,label:"Email",value:"amittiwari@sunpowertech.net",gradient:"from-secondary to-secondary/70",href:"mailto:amittiwari@sunpowertech.net"},{icon:Dp,label:"Address",value:"B32/A, Priyadarshini Society, Sant Asharam Nagar, Bagsewaniya, Bhopal 462043",gradient:"from-accent to-accent/70",href:x5}],b5=L.memo(({item:n,index:e,isInView:t})=>{const[i,s]=L.useState(!1);return C.jsxs(te.a,{href:n.href,onClick:a=>{n.label==="Address"&&(a.preventDefault(),xp(n.href))},target:n.label==="Address"?"_blank":void 0,rel:n.label==="Address"?"noopener noreferrer":void 0,initial:{opacity:0,y:30},animate:t?{opacity:1,y:0}:{},transition:{delay:e*.15,type:"spring"},onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),whileHover:{scale:1.02,y:-5},className:"flex items-center gap-4 md:gap-5 p-4 md:p-6 rounded-2xl bg-card/50 backdrop-blur-md border border-white/10 hover:border-primary/50 transition-all cursor-pointer group relative overflow-hidden shadow-sm hover:shadow-2xl",children:[C.jsx(te.div,{animate:{opacity:i?.1:0,scale:i?1.5:1},className:`absolute inset-0 bg-gradient-to-br ${n.gradient}`}),C.jsx(te.div,{animate:{rotate:i?360:0,scale:i?1.1:1},transition:{duration:.5},className:`w-14 h-14 rounded-xl bg-gradient-to-br ${n.gradient} flex items-center justify-center shadow-lg relative z-10`,children:C.jsx(n.icon,{className:"w-6 h-6 text-primary-foreground"})}),C.jsxs("div",{className:"flex-1 relative z-10",children:[C.jsx("h3",{className:"font-semibold text-sm text-muted-foreground mb-1",children:n.label}),C.jsx("p",{className:"text-foreground font-medium group-hover:text-primary transition-colors",children:n.value})]}),C.jsx(te.div,{animate:{x:i?0:-10,opacity:i?1:0},className:"text-primary relative z-10",children:C.jsx(Wg,{className:"w-5 h-5"})})]})});b5.displayName="ContactCard";const _5=L.memo(()=>{const n=L.useRef(null),e=Hp(n,{once:!0,margin:"-100px"}),[t,i]=L.useState(!1),[s,a]=L.useState(!1),[l,u]=L.useState(null),h=async p=>{p.preventDefault(),i(!0);const g=new FormData(p.currentTarget);try{const m=await fetch("https://formspree.io/f/xdaanoen",{method:"POST",body:g,headers:{Accept:"application/json"}});if(m.ok)a(!0),Wv.success("Message sent! We will contact you soon."),p.target.reset();else{const x=await m.json();Object.hasOwnProperty.call(x,"errors")?Wv.error(x.errors.map(b=>b.message).join(", ")):Wv.error("Oops! There was a problem submitting your form")}}catch{Wv.error("Oops! There was a problem submitting your form")}finally{i(!1),setTimeout(()=>a(!1),3e3)}};return C.jsxs("section",{id:"contact",className:"py-16 md:py-24 bg-gradient-to-b from-background to-muted/30 relative overflow-hidden",children:[C.jsx(te.div,{animate:{x:[0,100,0],y:[0,50,0]},transition:{duration:20,repeat:1/0},className:"absolute top-0 left-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl"}),C.jsx(te.div,{animate:{x:[0,-100,0],y:[0,-50,0]},transition:{duration:25,repeat:1/0},className:"absolute bottom-0 right-0 w-96 h-96 bg-secondary/5 rounded-full blur-3xl"}),C.jsxs("div",{className:"container mx-auto px-4 lg:px-8 relative z-10",ref:n,children:[C.jsxs(te.div,{initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},className:"text-center max-w-3xl mx-auto mb-16",children:[C.jsxs(te.span,{initial:{opacity:0,scale:.5},animate:e?{opacity:1,scale:1}:{},transition:{type:"spring"},className:"inline-flex items-center gap-2 px-4 py-1 rounded-full bg-primary/10 text-primary text-sm font-semibold mb-4",children:[C.jsx(l0,{className:"w-4 h-4"}),"Contact Us"]}),C.jsxs(te.h2,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{},transition:{delay:.2},className:"font-display text-3xl md:text-5xl font-bold mb-4",children:[C.jsx("span",{className:"text-foreground",children:"Ready to "}),C.jsx("span",{className:"text-gradient-solar",children:"Power Up"}),C.jsx("span",{className:"text-foreground",children:" Your Business?"})]}),C.jsx(te.p,{initial:{opacity:0},animate:e?{opacity:1}:{},transition:{delay:.3},className:"text-muted-foreground text-lg",children:"Get in touch with Sun Power Tech for cutting-edge automation and power solutions"})]}),C.jsxs("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12 max-w-6xl mx-auto",children:[C.jsxs("div",{className:"space-y-4",children:[Ste.map((p,g)=>C.jsx(b5,{item:p,index:g,isInView:e},p.label)),C.jsxs(te.div,{initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},transition:{delay:.5},className:"relative rounded-3xl overflow-hidden border border-border/50 shadow-2xl h-[350px] sm:h-[400px] lg:h-[320px] group isolate",children:[C.jsx("iframe",{title:"Office Location",src:"https://www.google.com/maps?q=B32/A%20Priyadarshini%20Society%20Sant%20Asharam%20Nagar%20Bagsewaniya%20Bhopal%20462043&z=15&output=embed",width:"100%",height:"100%",className:"absolute inset-0 border-0 contrast-[1.1] grayscale-[0.2] group-hover:grayscale-0 transition-all duration-700 scale-105 group-hover:scale-100",allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"}),C.jsx("div",{className:"absolute inset-0 pointer-events-none bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity duration-500"}),C.jsx("div",{className:"absolute top-4 left-4 right-4 pointer-events-none",children:C.jsxs("div",{className:"bg-card/30 backdrop-blur-md border border-white/10 px-4 py-2 rounded-xl inline-flex items-center gap-2 shadow-xl",children:[C.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"}),C.jsx("span",{className:"text-xs font-bold text-white uppercase tracking-wider",children:"Live View"})]})}),C.jsxs("div",{className:"absolute bottom-4 left-4 right-4 translate-y-0 sm:translate-y-4 sm:group-hover:translate-y-0 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-all duration-500 flex flex-col sm:flex-row items-center sm:items-end justify-between gap-4 z-20",children:[C.jsxs("div",{className:"bg-card/60 backdrop-blur-xl border border-white/20 p-4 rounded-2xl shadow-2xl w-full sm:max-w-[240px]",children:[C.jsxs("p",{className:"text-white font-bold text-sm mb-1 flex items-center gap-2",children:[C.jsx(Dp,{className:"w-4 h-4 text-primary"}),"Our Global Office"]}),C.jsx("p",{className:"text-white/80 text-xs leading-relaxed",children:"B32/A, Priyadarshini Society, Sant Asharam Nagar, Bhopal, India"})]}),C.jsxs(ga,{size:"sm",variant:"secondary",className:"rounded-xl shadow-xl hover:scale-105 active:scale-95 transition-all pointer-events-auto bg-primary text-primary-foreground border-0 whitespace-nowrap px-6",onClick:p=>{p.stopPropagation(),xp(x5)},children:["Open Maps",C.jsx(Kz,{className:"w-3 h-3 ml-2"})]})]}),C.jsx("div",{className:"absolute top-4 right-4 pointer-events-none transition-transform duration-500 group-hover:rotate-12",children:C.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 backdrop-blur-md flex items-center justify-center border border-white/20",children:C.jsx(l0,{className:"w-5 h-5 text-primary"})})}),C.jsx("div",{className:"absolute inset-0 bg-transparent group-hover:hidden z-10 pointer-events-none md:pointer-events-auto"})]})]}),C.jsxs(te.form,{onSubmit:h,action:"https://formspree.io/f/xdaanoen",method:"POST",initial:{opacity:0,x:50},animate:e?{opacity:1,x:0}:{},transition:{delay:.3,type:"spring"},className:"p-6 sm:p-8 lg:p-10 rounded-3xl bg-card/60 backdrop-blur-xl border border-white/10 shadow-2xl space-y-6 md:space-y-8 relative overflow-hidden group/form",children:[C.jsx("div",{className:"absolute -top-24 -right-24 w-48 h-48 bg-primary/10 rounded-full blur-3xl group-hover/form:bg-primary/20 transition-colors duration-500"}),C.jsx("div",{className:"absolute -bottom-24 -left-24 w-48 h-48 bg-secondary/10 rounded-full blur-3xl group-hover/form:bg-secondary/20 transition-colors duration-500"}),C.jsxs("div",{className:"mb-8 relative z-10",children:[C.jsx("h3",{className:"font-display text-2xl md:text-3xl font-bold mb-3 bg-clip-text text-transparent bg-gradient-to-r from-primary via-purple-500 to-secondary",children:"Send us a message"}),C.jsx("p",{className:"text-muted-foreground text-base",children:"Have a project in mind? Fill out the form below and let's create something specific."})]}),C.jsx(te.div,{initial:{opacity:0,scale:.8},animate:{opacity:s?1:0,scale:s?1:.8},className:"absolute inset-0 bg-card/95 backdrop-blur-sm z-20 flex items-center justify-center",style:{pointerEvents:s?"auto":"none"},children:C.jsxs(te.div,{initial:{scale:0},animate:{scale:s?1:0},transition:{type:"spring",stiffness:200},className:"text-center",children:[C.jsx(te.div,{animate:{scale:[1,1.2,1]},transition:{duration:.5},className:"w-20 h-20 rounded-full bg-secondary/20 flex items-center justify-center mx-auto mb-4",children:C.jsx(Hz,{className:"w-10 h-10 text-secondary"})}),C.jsx("h3",{className:"font-display text-xl font-bold mb-2",children:"Message Sent!"}),C.jsx("p",{className:"text-muted-foreground",children:"We'll get back to you soon."})]})}),C.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[C.jsxs(te.div,{animate:{scale:l==="name"?1.02:1},transition:{duration:.2},className:"relative",children:[C.jsx("div",{className:`absolute left-4 top-3.5 transition-colors duration-300 ${l==="name"?"text-primary":"text-muted-foreground"}`,children:C.jsx(NF,{className:"w-5 h-5"})}),C.jsx(cb,{name:"name",placeholder:"Your Name",required:!0,className:`h-12 pl-12 bg-background/50 border-white/10 hover:border-primary/30 transition-all duration-300 ${l==="name"?"border-primary ring-2 ring-primary/20 bg-background":""}`,onFocus:()=>u("name"),onBlur:()=>u(null)})]}),C.jsxs(te.div,{animate:{scale:l==="email"?1.02:1},transition:{duration:.2},className:"relative",children:[C.jsx("div",{className:`absolute left-4 top-3.5 transition-colors duration-300 ${l==="email"?"text-primary":"text-muted-foreground"}`,children:C.jsx(lT,{className:"w-5 h-5"})}),C.jsx(cb,{name:"email",type:"email",placeholder:"Email Address",required:!0,className:`h-12 pl-12 bg-background/50 border-white/10 hover:border-primary/30 transition-all duration-300 ${l==="email"?"border-primary ring-2 ring-primary/20 bg-background":""}`,onFocus:()=>u("email"),onBlur:()=>u(null)})]})]}),C.jsxs(te.div,{animate:{scale:l==="subject"?1.02:1},transition:{duration:.2},className:"relative",children:[C.jsx("div",{className:`absolute left-4 top-3.5 transition-colors duration-300 ${l==="subject"?"text-primary":"text-muted-foreground"}`,children:C.jsx(tF,{className:"w-5 h-5"})}),C.jsx(cb,{name:"subject",placeholder:"Subject",required:!0,className:`h-12 pl-12 bg-background/50 border-white/10 hover:border-primary/30 transition-all duration-300 ${l==="subject"?"border-primary ring-2 ring-primary/20 bg-background":""}`,onFocus:()=>u("subject"),onBlur:()=>u(null)})]}),C.jsxs(te.div,{animate:{scale:l==="message"?1.02:1},transition:{duration:.2},className:"relative",children:[C.jsx("div",{className:`absolute left-4 top-3.5 transition-colors duration-300 ${l==="message"?"text-primary":"text-muted-foreground"}`,children:C.jsx(gF,{className:"w-5 h-5"})}),C.jsx(v5,{name:"message",placeholder:"Your Message...",rows:5,required:!0,className:`pl-12 resize-none bg-background/50 border-white/10 hover:border-primary/30 transition-all duration-300 min-h-[120px] ${l==="message"?"border-primary ring-2 ring-primary/20 bg-background":""}`,onFocus:()=>u("message"),onBlur:()=>u(null)})]}),C.jsx(te.div,{whileHover:{scale:1.01},whileTap:{scale:.99},className:"pt-2",children:C.jsxs(ga,{type:"submit",disabled:t,size:"lg",className:"w-full bg-gradient-to-r from-primary via-purple-500 to-secondary text-white font-bold text-lg h-14 rounded-xl shadow-lg hover:shadow-primary/25 relative overflow-hidden transition-all duration-300",children:[C.jsxs(te.span,{animate:{x:t?20:0,opacity:t?0:1},className:"flex items-center justify-center",children:[C.jsx(xF,{className:"w-4 h-4 mr-2"})," Send Message"]}),t&&C.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 flex items-center justify-center",children:C.jsx(uF,{className:"w-5 h-5 animate-spin"})}),C.jsx(te.div,{className:"absolute inset-0 bg-white/10",initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.5}})]})})]})]})]})]})});_5.displayName="ContactSection";const wte="918817770367",Mte=`https://wa.me/${wte}`,Tte=[{name:"About Us",href:"#about"},{name:"Products",href:"#products"},{name:"Projects",href:"#projects"},{name:"Contact",href:"#contact"}],Ete=["Power Transfer","EHV Switchgear","MV Switchgear","Drives & Automation"],Ww=n=>{const e=document.querySelector(n);e&&e.scrollIntoView({behavior:"smooth"})},S5=L.memo(()=>C.jsxs("footer",{className:"bg-gradient-to-br from-muted/50 via-background to-primary/5 text-foreground py-16 relative overflow-hidden border-t border-border/50",children:[C.jsx(te.div,{animate:{rotate:360},transition:{duration:120,repeat:1/0,ease:"linear"},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] opacity-5",style:{background:"conic-gradient(from 0deg, hsl(var(--primary)), transparent, hsl(var(--secondary)), transparent, hsl(var(--primary)))",borderRadius:"50%"}}),C.jsxs("div",{className:"container mx-auto px-4 lg:px-8 relative z-10",children:[C.jsxs(te.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"grid md:grid-cols-4 gap-8 mb-12",children:[C.jsxs(te.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"md:col-span-1 bg-card/30 backdrop-blur-sm rounded-2xl p-6 border border-border/50 hover:border-primary/30 transition-all",children:[C.jsx(te.div,{whileHover:{scale:1.05},className:"mb-4",children:C.jsx("img",{src:qL,alt:"Sun Power Tech Logo",className:"h-16 w-auto object-contain"})}),C.jsx("p",{className:"text-muted-foreground text-sm mb-6 leading-relaxed",children:"Your trusted partner for intelligent power management and automation solutions."}),C.jsxs("div",{className:"space-y-3",children:[C.jsxs(te.a,{href:"tel:+918817770367",whileHover:{x:5},className:"flex items-center gap-3 text-sm text-foreground hover:text-primary transition-all group",children:[C.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center group-hover:from-primary/30 group-hover:to-primary/20 transition-all",children:C.jsx(ub,{className:"w-4 h-4 text-primary"})}),C.jsx("span",{className:"font-medium",children:"+91 8817770367"})]}),C.jsxs(te.a,{href:"mailto:amittiwari@sunpowertech.net",whileHover:{x:5},className:"flex items-center gap-3 text-sm text-foreground hover:text-primary transition-all group",children:[C.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-secondary/20 to-secondary/10 flex items-center justify-center group-hover:from-secondary/30 group-hover:to-secondary/20 transition-all",children:C.jsx(lT,{className:"w-4 h-4 text-secondary"})}),C.jsx("span",{className:"font-medium",children:"amittiwari@sunpowertech.net"})]}),C.jsxs(te.a,{href:"https://www.google.com/maps/search/?api=1&query=B32/A+Priyadarshini+Society+Sant+Asharam+Nagar+Bagsewaniya+Bhopal+462043",target:"_blank",rel:"noopener noreferrer",onClick:n=>{n.preventDefault(),xp("https://www.google.com/maps/search/?api=1&query=B32/A+Priyadarshini+Society+Sant+Asharam+Nagar+Bagsewaniya+Bhopal+462043")},whileHover:{x:5},className:"flex items-start gap-3 text-sm text-foreground hover:text-primary transition-all group",children:[C.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-accent/20 to-accent/10 flex items-center justify-center group-hover:from-accent/30 group-hover:to-accent/20 transition-all flex-shrink-0",children:C.jsx(Dp,{className:"w-4 h-4 text-accent"})}),C.jsx("span",{className:"leading-relaxed font-medium",children:"B32/A, Priyadarshini Society, Sant Asharam Nagar, Bagsewaniya, Bhopal 462043"})]}),C.jsxs(te.button,{type:"button",onClick:()=>xp(Mte),whileHover:{scale:1.03,x:5},whileTap:{scale:.98},className:"relative overflow-hidden flex items-center gap-3 mt-4 px-4 py-3 rounded-xl bg-whatsapp text-whatsapp-foreground font-semibold shadow-lg hover:shadow-xl transition-all group",children:[C.jsx("span",{className:"absolute inset-0 opacity-20 animate-shimmer"}),C.jsx(Tb,{size:20,className:"relative"}),C.jsx("span",{className:"relative",children:"Chat on WhatsApp"})]})]})]}),C.jsxs(te.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"bg-card/20 backdrop-blur-sm rounded-2xl p-6 border border-border/50 hover:border-primary/20 transition-all",children:[C.jsxs("h4",{className:"font-display font-bold text-lg mb-6 text-foreground flex items-center gap-2",children:[C.jsx("span",{className:"w-1 h-6 bg-gradient-to-b from-primary to-secondary rounded-full"}),"Quick Links"]}),C.jsx("ul",{className:"space-y-3",children:Tte.map((n,e)=>C.jsx(te.li,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.3+e*.05},whileHover:{x:8},children:C.jsxs("button",{onClick:()=>Ww(n.href),className:"text-sm text-muted-foreground hover:text-primary transition-colors inline-flex items-center gap-2 group",children:[C.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary/50 group-hover:bg-primary transition-colors"}),n.name,C.jsx(Rz,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})},n.name))})]}),C.jsxs(te.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3},className:"bg-card/20 backdrop-blur-sm rounded-2xl p-6 border border-border/50 hover:border-secondary/20 transition-all",children:[C.jsxs("h4",{className:"font-display font-bold text-lg mb-6 text-foreground flex items-center gap-2",children:[C.jsx("span",{className:"w-1 h-6 bg-gradient-to-b from-secondary to-accent rounded-full"}),"Products"]}),C.jsx("ul",{className:"space-y-3",children:Ete.map((n,e)=>C.jsx(te.li,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.4+e*.05},whileHover:{x:8},children:C.jsxs("button",{onClick:()=>Ww("#products"),className:"text-sm text-muted-foreground hover:text-secondary transition-colors inline-flex items-center gap-2 group",children:[C.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-secondary/50 group-hover:bg-secondary transition-colors"}),n]})},n))})]}),C.jsxs(te.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.4},className:"bg-card/20 backdrop-blur-sm rounded-2xl p-6 border border-border/50 hover:border-accent/20 transition-all",children:[C.jsxs("h4",{className:"font-display font-bold text-lg mb-6 text-foreground flex items-center gap-2",children:[C.jsx("span",{className:"w-1 h-6 bg-gradient-to-b from-accent to-primary rounded-full"}),"Our Services"]}),C.jsx("ul",{className:"space-y-3",children:["PLC & SCADA","Automation Systems","Turnkey Projects","Water Treatment"].map((n,e)=>C.jsx(te.li,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.5+e*.05},whileHover:{x:8},children:C.jsxs("button",{onClick:()=>Ww("#features"),className:"text-sm text-muted-foreground hover:text-accent transition-colors inline-flex items-center gap-2 group",children:[C.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent/50 group-hover:bg-accent transition-colors"}),n]})},n))})]})]}),C.jsx(te.div,{initial:{scaleX:0},whileInView:{scaleX:1},viewport:{once:!0},transition:{duration:.8},className:"border-t border-border/50 my-8"}),C.jsx(te.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"text-center py-6",children:C.jsx("p",{className:"text-sm text-muted-foreground",children:" 2026 Sun Power Tech. All rights reserved."})}),C.jsx(te.div,{animate:{y:[-8,8,-8],rotate:[0,180,360],opacity:[.15,.35,.15]},transition:{duration:6,repeat:1/0},className:"absolute bottom-16 right-12 pointer-events-none",children:C.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-primary/20 flex items-center justify-center",children:C.jsx(pd,{className:"w-4 h-4 text-primary/30"})})}),C.jsx(te.div,{animate:{y:[-6,6,-6],rotate:[0,-180,-360],opacity:[.15,.3,.15]},transition:{duration:7,repeat:1/0,delay:1},className:"absolute bottom-16 left-12 pointer-events-none",children:C.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-secondary/20 to-primary/20"})})]})]}));S5.displayName="Footer";const w5=L.memo(({isLoading:n=!0,minDuration:e=1500})=>{const[t,i]=L.useState(n);return L.useEffect(()=>{if(n)i(!0);else{const s=setTimeout(()=>i(!1),e);return()=>clearTimeout(s)}},[n,e]),C.jsx(yp,{children:t&&C.jsx(te.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"fixed inset-0 z-[100] bg-background flex items-center justify-center",children:C.jsxs("div",{className:"relative w-72 h-72 flex items-center justify-center",children:[C.jsx(te.div,{animate:{scale:[1,1.2,1],opacity:[.2,.4,.2]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute w-64 h-64 rounded-full",style:{background:"radial-gradient(circle, rgba(255, 223, 0, 0.3) 0%, rgba(255, 165, 0, 0.2) 30%, rgba(255, 69, 0, 0.1) 60%, transparent 80%)",filter:"blur(40px)"}}),C.jsx(te.div,{animate:{scale:[1,1.15,1],opacity:[.4,.6,.4],rotate:360},transition:{scale:{duration:3,repeat:1/0,ease:"easeInOut"},opacity:{duration:2.5,repeat:1/0},rotate:{duration:20,repeat:1/0,ease:"linear"}},className:"absolute w-48 h-48 rounded-full",style:{background:"radial-gradient(circle, rgba(255, 215, 0, 0.5) 0%, rgba(255, 140, 0, 0.3) 40%, rgba(255, 69, 0, 0.15) 70%, transparent 85%)",filter:"blur(25px)"}}),C.jsxs(te.div,{animate:{scale:[1,1.08,1]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"},className:"absolute w-32 h-32 rounded-full overflow-hidden",style:{background:"radial-gradient(circle at 35% 35%, #ffeb3b 0%, #ffd700 25%, #ffa500 50%, #ff8c00 75%, #ff6347 100%)",boxShadow:"0 0 80px rgba(255, 215, 0, 0.8), 0 0 120px rgba(255, 165, 0, 0.5), inset -15px -15px 50px rgba(255, 99, 71, 0.4)"},children:[C.jsx(te.div,{animate:{x:[0,-10,0],y:[0,-10,0],opacity:[.4,.6,.4]},transition:{duration:3,repeat:1/0},className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 20% 30%, rgba(255, 255, 100, 0.3) 0%, transparent 30%), radial-gradient(circle at 60% 60%, rgba(255, 140, 0, 0.4) 0%, transparent 25%), radial-gradient(circle at 80% 20%, rgba(255, 180, 0, 0.3) 0%, transparent 20%)"}}),C.jsx(te.div,{animate:{opacity:[.3,.7,.3],scale:[.95,1.05,.95]},transition:{duration:2,repeat:1/0},className:"absolute top-1/4 left-1/3 w-8 h-8 rounded-full bg-orange-600/40 blur-md"}),C.jsx(te.div,{animate:{opacity:[.4,.8,.4],scale:[1,1.1,1]},transition:{duration:2.5,repeat:1/0,delay:.5},className:"absolute bottom-1/3 right-1/4 w-6 h-6 rounded-full bg-red-600/30 blur-md"})]}),C.jsx(te.div,{animate:{scale:[1,1.3,1],opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute w-20 h-20 rounded-full",style:{background:"radial-gradient(circle, #ffffff 0%, #fffacd 20%, #ffeb3b 40%, rgba(255, 235, 59, 0) 70%)",filter:"blur(12px)"}}),[...Array(3)].map((s,a)=>C.jsx(te.div,{className:"absolute w-40 h-2 rounded-full origin-left",style:{top:`${30+a*20}%`,left:"50%",background:"linear-gradient(to right, rgba(255, 215, 0, 0.8), rgba(255, 140, 0, 0.4), transparent)",filter:"blur(6px)",transform:`rotate(${-30+a*30}deg)`},animate:{scaleX:[0,1.5,.8,0],opacity:[0,.8,.4,0]},transition:{duration:3,repeat:1/0,delay:a*1.2,ease:"easeOut"}},`flare-${a}`)),[...Array(16)].map((s,a)=>C.jsx(te.div,{className:"absolute w-0.5 rounded-full origin-center",style:{height:"140px",top:"50%",left:"50%",marginLeft:"-1px",marginTop:"-70px",transformOrigin:"1px 70px",transform:`rotate(${a*22.5}deg)`,background:a%2===0?"linear-gradient(to top, transparent 0%, rgba(255, 215, 0, 0.4) 50%, rgba(255, 215, 0, 0.7) 70%, transparent 100%)":"linear-gradient(to top, transparent 0%, rgba(255, 140, 0, 0.3) 50%, rgba(255, 140, 0, 0.6) 70%, transparent 100%)"},animate:{opacity:[.3,.8,.3],scaleY:[1,1.4,1]},transition:{duration:2.5+a%4*.5,repeat:1/0,delay:a*.08,ease:"easeInOut"}},`ray-${a}`)),[0,90].map((s,a)=>C.jsx(te.div,{className:"absolute w-48 h-0.5 rounded-full bg-gradient-to-r from-transparent via-white/30 to-transparent",style:{transform:`rotate(${s}deg)`,filter:"blur(3px)"},animate:{opacity:[0,.5,0],scaleX:[.8,1.2,.8]},transition:{duration:3,repeat:1/0,delay:a*1.5,ease:"easeInOut"}},`cross-${a}`)),[...Array(4)].map((s,a)=>C.jsx(te.div,{className:"absolute rounded-full",style:{width:`${40+a*20}px`,height:`${40+a*20}px`,border:"2px solid rgba(255, 215, 0, 0.3)"},animate:{scale:[1,2.2,2.5],opacity:[.7,.3,0]},transition:{duration:4,repeat:1/0,delay:a*1,ease:"easeOut"}},`wave-${a}`)),[...Array(8)].map((s,a)=>C.jsx(te.div,{className:"absolute w-2 h-2 rounded-full",style:{top:"50%",left:"50%",background:a%2===0?"#ffd700":"#ffa500",boxShadow:`0 0 10px ${a%2===0?"#ffd700":"#ffa500"}`},animate:{x:[0,Math.cos(a*45*Math.PI/180)*100],y:[0,Math.sin(a*45*Math.PI/180)*100],opacity:[1,.5,0],scale:[.5,1.5,0]},transition:{duration:2.5,repeat:1/0,delay:a*.3,ease:"easeOut"}},`particle-${a}`)),C.jsx(te.p,{className:"absolute -bottom-16 left-1/2 -translate-x-1/2 font-display text-xl font-bold text-gradient-solar whitespace-nowrap",style:{textShadow:"0 0 20px rgba(255, 215, 0, 0.5)"},animate:{opacity:[.6,1,.6],textShadow:["0 0 10px rgba(255, 215, 0, 0.3)","0 0 30px rgba(255, 215, 0, 0.8)","0 0 10px rgba(255, 215, 0, 0.3)"]},transition:{duration:2,repeat:1/0},children:"Powering Up..."})]})})})});w5.displayName="AnimatedLoader";const M5=L.memo(()=>{const{scrollYProgress:n}=jL(),e=r7(n,{stiffness:100,damping:30,restDelta:.001});return C.jsx(te.div,{className:"fixed top-0 left-0 right-0 h-1 bg-gradient-solar origin-left z-50",style:{scaleX:e}})});M5.displayName="ScrollProgress";const T5=L.memo(()=>C.jsx("section",{className:"sr-only select-none pointer-events-none","aria-hidden":"false",children:C.jsxs("div",{children:[C.jsx("h1",{children:"Sun Power Tech | Best Solar Panel Installation & Industrial Automation in Bhopal"}),C.jsx("p",{children:"Sun Power Tech (accessible via sunpowertech.net) is the premier engineering firm in Madhya Pradesh, specializing in sustainable energy and smart industrial solutions. Our mission is to provide high-efficiency solar panels, green energy consulting, and cutting-edge industrial automation."}),C.jsx("h2",{children:"Solar Energy Solutions in Bhopal & Madhya Pradesh"}),C.jsx("p",{children:"We offer comprehensive solar services, including residential solar panel installation, commercial solar power plants, and government project execution. As a leader in Bhopal solar energy, we ensure maximum ROI and sustainability for our clients."}),C.jsxs("ul",{children:[C.jsx("li",{children:"Residential Solar Rooftop Systems in Bhopal"}),C.jsx("li",{children:"Industrial Solar Power Plants MP"}),C.jsx("li",{children:"Solar Energy Consultation and Subsidy Assistance"}),C.jsx("li",{children:"Solar Panel Price and ROI Analysis Bhopal"})]}),C.jsx("h2",{children:"Industrial Automation, PLC, SCADA & WTP Projects"}),C.jsx("p",{children:"Our expertise extends to industrial engineering, specifically in PLC (Programmable Logic Controllers), SCADA systems, and HMI design. We are proud partners of MPUDCL for Water Treatment Plant (WTP) automation."}),C.jsxs("ul",{children:[C.jsx("li",{children:"WTP Automation and Smart Water Management"}),C.jsx("li",{children:"PLC SCADA System Integration Bhopal"}),C.jsx("li",{children:"Industrial Control Panels and EHV Switchgear"}),C.jsx("li",{children:"IoT and AI-Enabled Power Management Systems"})]}),C.jsx("h3",{children:"Official Partners and Brand Associations"}),C.jsx("p",{children:"Sun Power Tech is a core ecosystem partner of Orbit Engineering Group and Orbit Engineering Solutions. We frequently collaborate on large-scale infrastructure projects across India. Search terms like Sync Powertech, Sync watertech, and Orbit Syncpowertech are often associated with our high-end engineering services."}),C.jsxs("div",{style:{opacity:.01,fontSize:"1px",lineHeight:0},children:[C.jsx("p",{children:"Keywords and Search Phrases: Sunpowertech Bhopal, Sun Power Tech Contact, Solar Panel Dealers Bhopal, Bhopal Solar Panel Price, Orbit Engineering Group WTP, MPUDCL Solar Projects, Sync Powertech Automation, Sync Watertech Bhopal, Amit Tiwari Sunpowertech, Solar Energy Madhya Pradesh, Industrial Automation Mandideep, PLC SCADA Training Projects, Smart Water Management India, Top Engineering Companies Bhopal 2026, Solar Subsidy MP, Green Energy Solutions India."}),C.jsx("p",{children:"Misspellings and Variations: sunpower-tech, sunpowertch, sumpowertech, sun power tech pvt ltd, syncpowertech, syncwatertech, sync water tech, orbit sync, orbit engineering bhopal."})]}),C.jsx("h3",{children:"Service Coverage and Locations"}),C.jsx("p",{children:"We serve all major clusters including Bhopal, Indore, Mandideep, Govindpura Industrial Area, Jabalpur, Gwalior, and the surrounding regions of Madhya Pradesh."})]})}));T5.displayName="GodLevelSEO";const E5=L.memo(()=>{const[n,e]=L.useState(!0);return L.useEffect(()=>{const t=setTimeout(()=>e(!1),1500);return()=>clearTimeout(t)},[]),C.jsxs(C.Fragment,{children:[C.jsx(T5,{}),C.jsx(w5,{isLoading:n}),C.jsx(M5,{}),C.jsxs("div",{className:"min-h-screen bg-background overflow-x-hidden",children:[C.jsx(x7,{}),C.jsxs("main",{children:[C.jsx(a5,{}),C.jsx(o5,{}),C.jsx(c5,{}),C.jsx(u5,{}),C.jsx(m5,{}),C.jsx(y5,{}),C.jsx(_5,{})]}),C.jsx(S5,{})]})]})});E5.displayName="Index";const Ate=()=>{const n=Xu();return L.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),C.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:C.jsxs("div",{className:"text-center",children:[C.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),C.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),C.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},Cte=new x6,Rte=()=>C.jsx(_6,{client:Cte,children:C.jsxs(WV,{children:[C.jsx(EB,{}),C.jsx(sk,{}),C.jsx(j2,{children:C.jsxs(x2,{children:[C.jsx(oM,{path:"/",element:C.jsx(E5,{})}),C.jsx(oM,{path:"*",element:C.jsx(Ate,{})})]})})]})});m4.createRoot(document.getElementById("root")).render(C.jsx(Rte,{}));
